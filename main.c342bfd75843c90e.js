"use strict";(self.webpackChunkangular_firebase_crud=self.webpackChunkangular_firebase_crud||[]).push([[179],{2011:(ht,Me,L)=>{L.d(Me,{Dh:()=>ge,GT:()=>ye,cc:()=>Pe,hO:()=>je,on:()=>W,pX:()=>de,xv:()=>be});var a=L(4650),j=L(127),F=L(5813);ht=L.hmd(ht);const le=["ngOnDestroy"],de=(_e,tt,Je,Ne={})=>new Proxy(_e,{get:(Oe,xe)=>Je.runOutsideAngular(()=>{var Ye;if(_e[xe])return!(null===(Ye=Ne?.spy)||void 0===Ye)&&Ye.get&&Ne.spy.get(xe,_e[xe]),_e[xe];if(le.indexOf(xe)>-1)return()=>{};const ae=tt.toPromise().then(he=>{const we=he&&he[xe];return"function"==typeof we?we.bind(he):we&&we.then?we.then(X=>Je.run(()=>X)):Je.run(()=>we)});return new Proxy(()=>{},{get:(he,we)=>ae[we],apply:(he,we,X)=>ae.then(ne=>{var me;const ce=ne&&ne(...X);return!(null===(me=Ne?.spy)||void 0===me)&&me.apply&&Ne.spy.apply(xe,X,ce),ce})})})}),ye=(_e,tt)=>{tt.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Ne=>{Object.defineProperty(_e.prototype,Ne,Object.getOwnPropertyDescriptor(Je.prototype||Je,Ne))})})};class re{constructor(tt){return tt}}const ge=new a.OlP("angularfire2.app.options"),be=new a.OlP("angularfire2.app.name");function W(_e,tt,Je){const Oe="object"==typeof Je&&Je||{};Oe.name=Oe.name||"string"==typeof Je&&Je||"[DEFAULT]";const Ye=j.Z.apps.filter(ae=>ae&&ae.name===Oe.name)[0]||tt.runOutsideAngular(()=>j.Z.initializeApp(_e,Oe));try{JSON.stringify(_e)!==JSON.stringify(Ye.options)&&q("error",`${Ye.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new re(Ye)}const q=(_e,...tt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[_e](...tt)},ee={provide:re,useFactory:W,deps:[ge,a.R0b,[new a.FiY,be]]};let je=(()=>{class _e{constructor(Je){j.Z.registerVersion("angularfire",F.q4.full,"core"),j.Z.registerVersion("angularfire",F.q4.full,"app-compat"),j.Z.registerVersion("angular",a.q4F.full,Je.toString())}static initializeApp(Je,Ne){return{ngModule:_e,providers:[{provide:ge,useValue:Je},{provide:be,useValue:Ne}]}}}return _e.\u0275fac=function(Je){return new(Je||_e)(a.LFG(a.Lbi))},_e.\u0275mod=a.oAB({type:_e}),_e.\u0275inj=a.cJS({providers:[ee]}),_e})();function Pe(_e,tt,Je,Ne,Oe){const[,xe,Ye]=globalThis.\u0275AngularfireInstanceCache.find(ae=>ae[0]===_e)||[];if(xe)return function Ae(_e,tt){try{return _e.toString()===tt.toString()}catch{return _e===tt}}(Oe,Ye)||(Ce("error",`${tt} was already initialized on the ${Je} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:Oe,was:Ye})),xe;{const ae=Ne();return globalThis.\u0275AngularfireInstanceCache.push([_e,ae,Oe]),ae}}const ot=!!ht.hot,Ce=(_e,...tt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[_e](...tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,Me,L)=>{L.d(Me,{q4:()=>wi,iC:()=>Qr,HU:()=>ea,vb:()=>Rl,JM:()=>ys});var a=L(4650),j=L(5867),F=L(5861),le=L(9681),de=L(2090),ye=L(4859),re=L(1877),ge=L(8766);const be="@firebase/installations",W="0.5.16",ee=`w:${W}`,je="FIS_v2",tt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(x){return x instanceof de.ZR&&x.code.includes("request-failed")}function Ne({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Oe(x){return{token:x.token,requestStatus:2,expiresIn:ne(x.expiresIn),creationTime:Date.now()}}function xe(x,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,F.Z)(function*(x,I){const U=(yield I.json()).error;return tt.create("request-failed",{requestName:x,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ae({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function he(x,{refreshToken:I}){const M=ae(x);return M.append("Authorization",function me(x){return`${je} ${x}`}(I)),M}function we(x){return X.apply(this,arguments)}function X(){return(X=(0,F.Z)(function*(x){const I=yield x();return I.status>=500&&I.status<600?x():I})).apply(this,arguments)}function ne(x){return Number(x.replace("s","000"))}function ce(x,I){return He.apply(this,arguments)}function He(){return(He=(0,F.Z)(function*({appConfig:x,heartbeatServiceProvider:I},{fid:M}){const U=Ne(x),J=ae(x),ue=I.getImmediate({optional:!0});if(ue){const Ct=yield ue.getHeartbeatsHeader();Ct&&J.append("x-firebase-client",Ct)}const qe={method:"POST",headers:J,body:JSON.stringify({fid:M,authVersion:je,appId:x.appId,sdkVersion:ee})},Qe=yield we(()=>fetch(U,qe));if(Qe.ok){const Ct=yield Qe.json();return{fid:Ct.fid||M,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Oe(Ct.authToken)}}throw yield xe("Create Installation",Qe)})).apply(this,arguments)}function Ge(x){return new Promise(I=>{setTimeout(I,x)})}const ln=/^[cdef][\w-]{21}$/;function We(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const M=function mn(x){return function yt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return ln.test(M)?M:""}catch{return""}}function En(x){return`${x.appName}!${x.appId}`}const on=new Map;function an(x,I){const M=En(x);Fi(M,I),function $r(x,I){const M=function Vn(){return!Hi&&"BroadcastChannel"in self&&(Hi=new BroadcastChannel("[Firebase] FID Change"),Hi.onmessage=x=>{Fi(x.data.key,x.data.fid)}),Hi}();M&&M.postMessage({key:x,fid:I}),function ss(){0===on.size&&Hi&&(Hi.close(),Hi=null)}()}(M,I)}function Fi(x,I){const M=on.get(x);if(M)for(const U of M)U(I)}let Hi=null;const Zn="firebase-installations-store";let Tr=null;function as(){return Tr||(Tr=(0,ge.X3)("firebase-installations-database",1,{upgrade:(x,I)=>{0===I&&x.createObjectStore(Zn)}})),Tr}function et(x,I){return ni.apply(this,arguments)}function ni(){return(ni=(0,F.Z)(function*(x,I){const M=En(x),J=(yield as()).transaction(Zn,"readwrite"),ue=J.objectStore(Zn),Ie=yield ue.get(M);return yield ue.put(I,M),yield J.done,(!Ie||Ie.fid!==I.fid)&&an(x,I.fid),I})).apply(this,arguments)}function Kn(x){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,F.Z)(function*(x){const I=En(x),U=(yield as()).transaction(Zn,"readwrite");yield U.objectStore(Zn).delete(I),yield U.done})).apply(this,arguments)}function vi(x,I){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,F.Z)(function*(x,I){const M=En(x),J=(yield as()).transaction(Zn,"readwrite"),ue=J.objectStore(Zn),Ie=yield ue.get(M),qe=I(Ie);return void 0===qe?yield ue.delete(M):yield ue.put(qe,M),yield J.done,qe&&(!Ie||Ie.fid!==qe.fid)&&an(x,qe.fid),qe})).apply(this,arguments)}function xn(x){return An.apply(this,arguments)}function An(){return(An=(0,F.Z)(function*(x){let I;const M=yield vi(x.appConfig,U=>{const J=wn(U),ue=vt(x,J);return I=ue.registrationPromise,ue.installationEntry});return""===M.fid?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}})).apply(this,arguments)}function wn(x){return Mt(x||{fid:We(),registrationStatus:0})}function vt(x,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(tt.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function bt(x,I){return Ft.apply(this,arguments)}(x,M);return{installationEntry:M,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Qi(x)}:{installationEntry:I}}function Ft(){return(Ft=(0,F.Z)(function*(x,I){try{const M=yield ce(x,I);return et(x.appConfig,M)}catch(M){throw Je(M)&&409===M.customData.serverCode?yield Kn(x.appConfig):yield et(x.appConfig,{fid:I.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Qi(x){return ii.apply(this,arguments)}function ii(){return(ii=(0,F.Z)(function*(x){let I=yield Pi(x.appConfig);for(;1===I.registrationStatus;)yield Ge(100),I=yield Pi(x.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:U}=yield xn(x);return U||M}return I})).apply(this,arguments)}function Pi(x){return vi(x,I=>{if(!I)throw tt.create("installation-not-found");return Mt(I)})}function Mt(x){return function ji(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Gt(x,I){return ur.apply(this,arguments)}function ur(){return(ur=(0,F.Z)(function*({appConfig:x,heartbeatServiceProvider:I},M){const U=en(x,M),J=he(x,M),ue=I.getImmediate({optional:!0});if(ue){const Ct=yield ue.getHeartbeatsHeader();Ct&&J.append("x-firebase-client",Ct)}const qe={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee,appId:x.appId}})},Qe=yield we(()=>fetch(U,qe));if(Qe.ok)return Oe(yield Qe.json());throw yield xe("Generate Auth Token",Qe)})).apply(this,arguments)}function en(x,{fid:I}){return`${Ne(x)}/${I}/authTokens:generate`}function hi(x){return On.apply(this,arguments)}function On(){return(On=(0,F.Z)(function*(x,I=!1){let M;const U=yield vi(x.appConfig,ue=>{if(!rn(ue))throw tt.create("not-registered");const Ie=ue.authToken;if(!I&&Y(Ie))return ue;if(1===Ie.requestStatus)return M=it(x,I),ue;{if(!navigator.onLine)throw tt.create("app-offline");const qe=Q(ue);return M=xt(x,qe),qe}});return M?yield M:U.authToken})).apply(this,arguments)}function it(x,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,F.Z)(function*(x,I){let M=yield rt(x.appConfig);for(;1===M.authToken.requestStatus;)yield Ge(100),M=yield rt(x.appConfig);const U=M.authToken;return 0===U.requestStatus?hi(x,I):U})).apply(this,arguments)}function rt(x){return vi(x,I=>{if(!rn(I))throw tt.create("not-registered");return function G(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function xt(x,I){return It.apply(this,arguments)}function It(){return(It=(0,F.Z)(function*(x,I){try{const M=yield Gt(x,I),U=Object.assign(Object.assign({},I),{authToken:M});return yield et(x.appConfig,U),M}catch(M){if(!Je(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield et(x.appConfig,U)}else yield Kn(x.appConfig);throw M}})).apply(this,arguments)}function rn(x){return void 0!==x&&2===x.registrationStatus}function Y(x){return 2===x.requestStatus&&!function $(x){const I=Date.now();return I<x.creationTime||x.creationTime+x.expiresIn<I+36e5}(x)}function Q(x){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:I})}function B(){return(B=(0,F.Z)(function*(x){const I=x,{installationEntry:M,registrationPromise:U}=yield xn(I);return U?U.catch(console.error):hi(I).catch(console.error),M.fid})).apply(this,arguments)}function Le(){return(Le=(0,F.Z)(function*(x,I=!1){const M=x;return yield at(M),(yield hi(M,I)).token})).apply(this,arguments)}function at(x){return ct.apply(this,arguments)}function ct(){return(ct=(0,F.Z)(function*(x){const{registrationPromise:I}=yield xn(x);I&&(yield I)})).apply(this,arguments)}function Ks(x){return tt.create("missing-app-config-values",{valueName:x})}const Ao="installations",Qs=x=>{const I=x.getProvider("app").getImmediate(),M=function In(x){if(!x||!x.options)throw Ks("App Configuration");if(!x.name)throw Ks("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!x.options[M])throw Ks(M);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,le._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Xs=x=>{const I=x.getProvider("app").getImmediate(),M=(0,le._getProvider)(I,Ao).getImmediate();return{getId:()=>function R(x){return B.apply(this,arguments)}(M),getToken:J=>function oe(x){return Le.apply(this,arguments)}(M,J)}};(function gl(){(0,le._registerComponent)(new ye.wA(Ao,Qs,"PUBLIC")),(0,le._registerComponent)(new ye.wA("installations-internal",Xs,"PRIVATE"))})(),(0,le.registerVersion)(be,W),(0,le.registerVersion)(be,W,"esm2017");const cs="@firebase/remote-config",Xn=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xa{constructor(I,M,U,J){this.client=I,this.storage=M,this.storageCache=U,this.logger=J}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-M,J=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var M=this;return(0,F.Z)(function*(){const[U,J]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(J&&M.isCachedDataFresh(I.cacheMaxAgeMillis,U))return J;I.eTag=J&&J.eTag;const ue=yield M.client.fetch(I),Ie=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Ie.push(M.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Ie),ue})()}}function Aa(x=navigator){return x.languages&&x.languages[0]||x.language}class no{constructor(I,M,U,J,ue,Ie){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=U,this.projectId=J,this.apiKey=ue,this.appId=Ie}fetch(I){var M=this;return(0,F.Z)(function*(){var U,J,ue;const[Ie,qe]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Wt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},gt={sdk_version:M.sdkVersion,app_instance_id:Ie,app_instance_id_token:qe,app_id:M.appId,language_code:Aa()},Gn={method:"POST",headers:Wt,body:JSON.stringify(gt)},pi=fetch(Ct,Gn),ta=new Promise((Rr,ho)=>{I.signal.addEventListener(()=>{const Ol=new Error("The operation was aborted.");Ol.name="AbortError",ho(Ol)})});let uo;try{yield Promise.race([pi,ta]),uo=yield pi}catch(Rr){let ho="fetch-client-network";throw"AbortError"===(null===(U=Rr)||void 0===U?void 0:U.name)&&(ho="fetch-timeout"),Xn.create(ho,{originalErrorMessage:null===(J=Rr)||void 0===J?void 0:J.message})}let vs=uo.status;const Lt=uo.headers.get("ETag")||void 0;let ir,Ya;if(200===uo.status){let Rr;try{Rr=yield uo.json()}catch(ho){throw Xn.create("fetch-client-parse",{originalErrorMessage:null===(ue=ho)||void 0===ue?void 0:ue.message})}ir=Rr.entries,Ya=Rr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ya?vs=500:"NO_CHANGE"===Ya?vs=304:("NO_TEMPLATE"===Ya||"EMPTY_CONFIG"===Ya)&&(ir={}),304!==vs&&200!==vs)throw Xn.create("fetch-status",{httpStatus:vs});return{status:vs,eTag:Lt,config:ir}})()}}class hs{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,F.Z)(function*(){const U=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:U}){var J=this;return(0,F.Z)(function*(){yield function fr(x,I){return new Promise((M,U)=>{const J=Math.max(I-Date.now(),0),ue=setTimeout(M,J);x.addEventListener(()=>{clearTimeout(ue),U(Xn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const ue=yield J.client.fetch(I);return yield J.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function Lp(x){if(!(x instanceof de.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ue))throw ue;const Ie={throttleEndTimeMillis:Date.now()+(0,de.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Ie),J.attemptFetch(I,Ie)}})()}}class Bp{constructor(I,M,U,J,ue){this.app=I,this._client=M,this._storageCache=U,this._storage=J,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ia(x,I){var M;const U=x.target.error||void 0;return Xn.create(I,{originalErrorMessage:U&&(null===(M=U)||void 0===M?void 0:M.message)})}const Io="app_namespace_store";class _c{constructor(I,M,U,J=function Hp(){return new Promise((x,I)=>{var M;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=J=>{I(Ia(J,"storage-open"))},U.onsuccess=J=>{x(J.target.result)},U.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Io,{keyPath:"compositeKey"})}}catch(U){I(Xn.create("storage-open",{originalErrorMessage:null===(M=U)||void 0===M?void 0:M.message}))}})}()){this.appId=I,this.appName=M,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,F.Z)(function*(){const U=yield M.openDbPromise;return new Promise((J,ue)=>{var Ie;const Qe=U.transaction([Io],"readonly").objectStore(Io),Ct=M.createCompositeKey(I);try{const Wt=Qe.get(Ct);Wt.onerror=gt=>{ue(Ia(gt,"storage-get"))},Wt.onsuccess=gt=>{const Gn=gt.target.result;J(Gn?Gn.value:void 0)}}catch(Wt){ue(Xn.create("storage-get",{originalErrorMessage:null===(Ie=Wt)||void 0===Ie?void 0:Ie.message}))}})})()}set(I,M){var U=this;return(0,F.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ue,Ie)=>{var qe;const Ct=J.transaction([Io],"readwrite").objectStore(Io),Wt=U.createCompositeKey(I);try{const gt=Ct.put({compositeKey:Wt,value:M});gt.onerror=Gn=>{Ie(Ia(Gn,"storage-set"))},gt.onsuccess=()=>{ue()}}catch(gt){Ie(Xn.create("storage-set",{originalErrorMessage:null===(qe=gt)||void 0===qe?void 0:qe.message}))}})})()}delete(I){var M=this;return(0,F.Z)(function*(){const U=yield M.openDbPromise;return new Promise((J,ue)=>{var Ie;const Qe=U.transaction([Io],"readwrite").objectStore(Io),Ct=M.createCompositeKey(I);try{const Wt=Qe.delete(Ct);Wt.onerror=gt=>{ue(Ia(gt,"storage-delete"))},Wt.onsuccess=()=>{J()}}catch(Wt){ue(Xn.create("storage-delete",{originalErrorMessage:null===(Ie=Wt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class So{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,F.Z)(function*(){const M=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),ue=yield M;ue&&(I.lastFetchStatus=ue);const Ie=yield U;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const qe=yield J;qe&&(I.activeConfig=qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function g_(){return ml.apply(this,arguments)}function ml(){return(ml=(0,F.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Vu(){(0,le._registerComponent)(new ye.wA("remote-config",function x(I,{instanceIdentifier:M}){const U=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!(0,de.hl)())throw Xn.create("indexed-db-unavailable");const{projectId:ue,apiKey:Ie,appId:qe}=U.options;if(!ue)throw Xn.create("registration-project-id");if(!Ie)throw Xn.create("registration-api-key");if(!qe)throw Xn.create("registration-app-id");const Qe=new _c(qe,U.name,M=M||"firebase"),Ct=new So(Qe),Wt=new re.Yd(cs);Wt.logLevel=re.in.ERROR;const gt=new no(J,le.SDK_VERSION,M,ue,Ie,qe),Gn=new hs(gt,Qe),pi=new xa(Gn,Qe,Ct,Wt),ta=new Bp(U,pi,Ct,Qe,Wt);return function Sn(x){const I=(0,de.m9)(x);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ta),ta},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(cs,"0.3.15"),(0,le.registerVersion)(cs,"0.3.15","esm2017")}();const Ai="/firebase-messaging-sw.js",Mo="/firebase-cloud-messaging-push-scope",ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_l="google.c.a.c_id",yc="google.c.a.c_l",Hu="google.c.a.ts",ko="google.c.a.e";var pr=(()=>{return(x=pr||(pr={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",pr;var x})();function fs(x){const I=new Uint8Array(x);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function er(x){const M=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(M),J=new Uint8Array(U.length);for(let ue=0;ue<U.length;++ue)J[ue]=U.charCodeAt(ue);return J}const io="fcm_token_details_db",gr="fcm_token_object_Store";function Gp(x){return vc.apply(this,arguments)}function vc(){return vc=(0,F.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(io))return null;let I=null;return(yield(0,ge.X3)(io,5,{upgrade:(U=(0,F.Z)(function*(J,ue,Ie,qe){var Qe;if(ue<2||!J.objectStoreNames.contains(gr))return;const Ct=qe.objectStore(gr),Wt=yield Ct.index("fcmSenderId").get(x);if(yield Ct.clear(),Wt)if(2===ue){const gt=Wt;if(!gt.auth||!gt.p256dh||!gt.endpoint)return;I={token:gt.fcmToken,createTime:null!==(Qe=gt.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:gt.auth,p256dh:gt.p256dh,endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:"string"==typeof gt.vapidKey?gt.vapidKey:fs(gt.vapidKey)}}}else if(3===ue){const gt=Wt;I={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:fs(gt.auth),p256dh:fs(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:fs(gt.vapidKey)}}}else if(4===ue){const gt=Wt;I={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:fs(gt.auth),p256dh:fs(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:fs(gt.vapidKey)}}}}),function(ue,Ie,qe,Qe){return U.apply(this,arguments)})})).close(),yield(0,ge.Lj)(io),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),Bn(I)?I:null;var U}),vc.apply(this,arguments)}function Bn(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:I}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Mr="firebase-messaging-store";let Ii=null;function yl(){return Ii||(Ii=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(x,I)=>{0===I&&x.createObjectStore(Mr)}})),Ii}function Ro(x){return zr.apply(this,arguments)}function zr(){return(zr=(0,F.Z)(function*(x){const I=mr(x),U=yield(yield yl()).transaction(Mr).objectStore(Mr).get(I);if(U)return U;{const J=yield Gp(x.appConfig.senderId);if(J)return yield un(x,J),J}})).apply(this,arguments)}function un(x,I){return bc.apply(this,arguments)}function bc(){return(bc=(0,F.Z)(function*(x,I){const M=mr(x),J=(yield yl()).transaction(Mr,"readwrite");return yield J.objectStore(Mr).put(I,M),yield J.done,I})).apply(this,arguments)}function Rs(x){return wc.apply(this,arguments)}function wc(){return(wc=(0,F.Z)(function*(x){const I=mr(x),U=(yield yl()).transaction(Mr,"readwrite");yield U.objectStore(Mr).delete(I),yield U.done})).apply(this,arguments)}function mr({appConfig:x}){return x.appId}const zn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nt(x,I){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,F.Z)(function*(x,I){var M;const U=yield Oa(x),J=Re(I),ue={method:"POST",headers:U,body:JSON.stringify(J)};let Ie;try{Ie=yield(yield fetch(ro(x.appConfig),ue)).json()}catch(qe){throw zn.create("token-subscribe-failed",{errorInfo:null===(M=qe)||void 0===M?void 0:M.toString()})}if(Ie.error)throw zn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw zn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function jp(x,I){return ka.apply(this,arguments)}function ka(){return(ka=(0,F.Z)(function*(x,I){var M;const U=yield Oa(x),J=Re(I.subscriptionOptions),ue={method:"PATCH",headers:U,body:JSON.stringify(J)};let Ie;try{Ie=yield(yield fetch(`${ro(x.appConfig)}/${I.token}`,ue)).json()}catch(qe){throw zn.create("token-update-failed",{errorInfo:null===(M=qe)||void 0===M?void 0:M.toString()})}if(Ie.error)throw zn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw zn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function ju(x,I){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,F.Z)(function*(x,I){var M;const J={method:"DELETE",headers:yield Oa(x)};try{const Ie=yield(yield fetch(`${ro(x.appConfig)}/${I}`,J)).json();if(Ie.error)throw zn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(ue){throw zn.create("token-unsubscribe-failed",{errorInfo:null===(M=ue)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function ro({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Oa(x){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,F.Z)(function*({appConfig:x,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Re({p256dh:x,auth:I,endpoint:M,vapidKey:U}){const J={web:{endpoint:M,auth:I,p256dh:x}};return U!==ks&&(J.web.applicationPubKey=U),J}const Xt=6048e5;function Nh(x){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,F.Z)(function*(x){const I=yield Lh(x.swRegistration,x.vapidKey),M={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:I.endpoint,auth:fs(I.getKey("auth")),p256dh:fs(I.getKey("p256dh"))},U=yield Ro(x.firebaseDependencies);if(U){if($p(U.subscriptionOptions,M))return Date.now()>=U.createTime+Xt?vl(x,{token:U.token,createTime:Date.now(),subscriptionOptions:M}):U.token;try{yield ju(x.firebaseDependencies,U.token)}catch(J){console.warn(J)}return bl(x.firebaseDependencies,M)}return bl(x.firebaseDependencies,M)})).apply(this,arguments)}function si(x){return Po.apply(this,arguments)}function Po(){return(Po=(0,F.Z)(function*(x){const I=yield Ro(x.firebaseDependencies);I&&(yield ju(x.firebaseDependencies,I.token),yield Rs(x.firebaseDependencies));const M=yield x.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function vl(x,I){return $i.apply(this,arguments)}function $i(){return($i=(0,F.Z)(function*(x,I){try{const M=yield jp(x.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield un(x.firebaseDependencies,U),M}catch(M){throw yield si(x),M}})).apply(this,arguments)}function bl(x,I){return No.apply(this,arguments)}function No(){return(No=(0,F.Z)(function*(x,I){const U={token:yield Nt(x,I),createTime:Date.now(),subscriptionOptions:I};return yield un(x,U),U.token})).apply(this,arguments)}function Lh(x,I){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,F.Z)(function*(x,I){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:er(I)})})).apply(this,arguments)}function $p(x,I){return I.vapidKey===x.vapidKey&&I.endpoint===x.endpoint&&I.auth===x.auth&&I.p256dh===x.p256dh}function so(x){const I={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function oi(x,I){if(!I.notification)return;x.notification={};const M=I.notification.title;M&&(x.notification.title=M);const U=I.notification.body;U&&(x.notification.body=U);const J=I.notification.image;J&&(x.notification.image=J);const ue=I.notification.icon;ue&&(x.notification.icon=ue)}(I,x),function qr(x,I){!I.data||(x.data=I.data)}(I,x),function Pa(x,I){var M,U,J,ue,Ie;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;x.fcmOptions={};const qe=null!==(J=null===(U=I.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==J?J:null===(ue=I.notification)||void 0===ue?void 0:ue.click_action;qe&&(x.fcmOptions.link=qe);const Qe=null===(Ie=I.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Qe&&(x.fcmOptions.analyticsLabel=Qe)}(I,x),I}function Na(x){return"object"==typeof x&&!!x&&_l in x}function ps(x,I){const M=[];for(let U=0;U<x.length;U++)M.push(x.charAt(U)),U<I.length&&M.push(I.charAt(U));return M.join("")}function Cc(x){return zn.create("missing-app-config-values",{valueName:x})}ps("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ps("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zu{constructor(I,M,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function $u(x){if(!x||!x.options)throw Cc("App Configuration Object");if(!x.name)throw Cc("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=x;for(const U of I)if(!M[U])throw Cc(U);return{appName:x.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:M,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Vh(x){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,F.Z)(function*(x){var I;try{x.swRegistration=yield navigator.serviceWorker.register(Ai,{scope:Mo}),x.swRegistration.update().catch(()=>{})}catch(M){throw zn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=M)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function Dc(x,I){return La.apply(this,arguments)}function La(){return(La=(0,F.Z)(function*(x,I){if(!I&&!x.swRegistration&&(yield Vh(x)),I||!x.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw zn.create("invalid-sw-registration");x.swRegistration=I}})).apply(this,arguments)}function Ec(x,I){return Va.apply(this,arguments)}function Va(){return(Va=(0,F.Z)(function*(x,I){I?x.vapidKey=I:x.vapidKey||(x.vapidKey=ks)})).apply(this,arguments)}function Vo(){return(Vo=(0,F.Z)(function*(x,I){if(!navigator)throw zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zn.create("permission-blocked");return yield Ec(x,I?.vapidKey),yield Dc(x,I?.serviceWorkerRegistration),Nh(x)})).apply(this,arguments)}function Bh(x,I,M){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,F.Z)(function*(x,I,M){const U=Uh(I);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:M[_l],message_name:M[yc],message_time:M[Hu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Uh(x){switch(x){case pr.NOTIFICATION_CLICKED:return"notification_open";case pr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Os(){return(Os=(0,F.Z)(function*(x,I){const M=I.data;if(!M.isFirebaseMessaging)return;x.onMessageHandler&&M.messageType===pr.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(so(M)):x.onMessageHandler.next(so(M)));const U=M.data;Na(U)&&"1"===U[ko]&&(yield Bh(x,M.messageType,U))})).apply(this,arguments)}const Fs="@firebase/messaging",Pn=x=>{const I=new zu(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Yu(x,I){return Os.apply(this,arguments)}(I,M)),I},gs=x=>{const I=x.getProvider("messaging").getImmediate();return{getToken:U=>function qu(x,I){return Vo.apply(this,arguments)}(I,U)}};function xc(){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,F.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nn(){(0,le._registerComponent)(new ye.wA("messaging",Pn,"PUBLIC")),(0,le._registerComponent)(new ye.wA("messaging-internal",gs,"PRIVATE")),(0,le.registerVersion)(Fs,"0.10.0"),(0,le.registerVersion)(Fs,"0.10.0","esm2017")}();const Ho="analytics",Qu="firebase_id",Mc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xu="https://www.googletagmanager.com/gtag/js",qn=new re.Yd("@firebase/analytics");function Cl(x){return Promise.all(x.map(I=>I.catch(M=>M)))}function Dl(x,I){const M=document.createElement("script");M.src=`${Xu}?l=${x}&id=${I}`,M.async=!0,document.head.appendChild(M)}function Hh(x,I,M,U,J,ue){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,F.Z)(function*(x,I,M,U,J,ue){const Ie=U[J];try{if(Ie)yield I[Ie];else{const Qe=(yield Cl(M)).find(Ct=>Ct.measurementId===J);Qe&&(yield I[Qe.appId])}}catch(qe){qn.error(qe)}x("config",J,ue)})).apply(this,arguments)}function ms(x,I,M,U,J){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,F.Z)(function*(x,I,M,U,J){try{let ue=[];if(J&&J.send_to){let Ie=J.send_to;Array.isArray(Ie)||(Ie=[Ie]);const qe=yield Cl(M);for(const Qe of Ie){const Ct=qe.find(gt=>gt.measurementId===Qe),Wt=Ct&&I[Ct.appId];if(!Wt){ue=[];break}ue.push(Wt)}}0===ue.length&&(ue=Object.values(I)),yield Promise.all(ue),x("event",U,J||{})}catch(ue){qn.error(ue)}})).apply(this,arguments)}function Ju(x){const I=window.document.getElementsByTagName("script");for(const M of Object.values(I))if(M.src&&M.src.includes(Xu)&&M.src.includes(x))return M;return null}const ai=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ja=new class Rc{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Go(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function $h(x){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,F.Z)(function*(x){var I;const{appId:M,apiKey:U}=x,J={method:"GET",headers:Go(U)},ue=Mc.replace("{app-id}",M),Ie=yield fetch(ue,J);if(200!==Ie.status&&304!==Ie.status){let qe="";try{const Qe=yield Ie.json();null!==(I=Qe.error)&&void 0!==I&&I.message&&(qe=Qe.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:qe})}return Ie.json()})).apply(this,arguments)}function ed(x){return tr.apply(this,arguments)}function tr(){return(tr=(0,F.Z)(function*(x,I=ja,M){const{appId:U,apiKey:J,measurementId:ue}=x.options;if(!U)throw ai.create("no-app-id");if(!J){if(ue)return{measurementId:ue,appId:U};throw ai.create("no-api-key")}const Ie=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new $a;return setTimeout((0,F.Z)(function*(){qe.abort()}),void 0!==M?M:6e4),td({appId:U,apiKey:J,measurementId:ue},Ie,qe,I)})).apply(this,arguments)}function td(x,I,M){return _s.apply(this,arguments)}function _s(){return(_s=(0,F.Z)(function*(x,{throttleEndTimeMillis:I,backoffCount:M},U,J=ja){var ue,Ie;const{appId:qe,measurementId:Qe}=x;try{yield Oc(U,I)}catch(Ct){if(Qe)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${null===(ue=Ct)||void 0===ue?void 0:ue.message}]`),{appId:qe,measurementId:Qe};throw Ct}try{const Ct=yield $h(x);return J.deleteThrottleMetadata(qe),Ct}catch(Ct){const Wt=Ct;if(!xl(Wt)){if(J.deleteThrottleMetadata(qe),Qe)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:qe,measurementId:Qe};throw Ct}const gt=503===Number(null===(Ie=Wt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,de.$s)(M,J.intervalMillis,30):(0,de.$s)(M,J.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+gt,backoffCount:M+1};return J.setThrottleMetadata(qe,Gn),qn.debug(`Calling attemptFetch again in ${gt} millis`),td(x,Gn,U,J)}})).apply(this,arguments)}function Oc(x,I){return new Promise((M,U)=>{const J=Math.max(I-Date.now(),0),ue=setTimeout(M,J);x.addEventListener(()=>{clearTimeout(ue),U(ai.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function xl(x){if(!(x instanceof de.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}class $a{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let oo,Il;function jo(){return(jo=(0,F.Z)(function*(x,I,M,U,J){if(J&&J.global)x("event",M,U);else{const ue=yield I;x("event",M,Object.assign(Object.assign({},U),{send_to:ue}))}})).apply(this,arguments)}function qo(x){Il=x}function Fc(x){oo=x}function Ns(){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,F.Z)(function*(){var x;if(!(0,de.hl)())return qn.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(I){return qn.warn(ai.create("indexeddb-unavailable",{errorInfo:null===(x=I)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function Wo(){return(Wo=(0,F.Z)(function*(x,I,M,U,J,ue,Ie){var qe;const Qe=ed(x);Qe.then(pi=>{M[pi.measurementId]=pi.appId,x.options.measurementId&&pi.measurementId!==x.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${pi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pi=>qn.error(pi)),I.push(Qe);const Ct=Ns().then(pi=>{if(pi)return U.getId()}),[Wt,gt]=yield Promise.all([Qe,Ct]);Ju(ue)||Dl(ue,Wt.measurementId),Il&&(J("consent","default",Il),qo(void 0)),J("js",new Date);const Gn=null!==(qe=Ie?.config)&&void 0!==qe?qe:{};return Gn.origin="firebase",Gn.update=!0,null!=gt&&(Gn[Qu]=gt),J("config",Wt.measurementId,Gn),oo&&(J("set",oo),Fc(void 0)),Wt.measurementId})).apply(this,arguments)}class Sl{constructor(I){this.app=I}_delete(){return delete Ni[this.app.options.appId],Promise.resolve()}}let Ni={},Zo=[];const lo={};let Qo,Wr,Ko="dataLayer",id=!1;function Yh(x,I,M){!function zp(){const x=[];if((0,de.ru)()&&x.push("This is a browser extension environment."),(0,de.zI)()||x.push("Cookies are not available."),x.length>0){const I=x.map((U,J)=>`(${J+1}) ${U}`).join(" "),M=ai.create("invalid-analytics-context",{errorInfo:I});qn.warn(M.message)}}();const U=x.options.appId;if(!U)throw ai.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw ai.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ni[U])throw ai.create("already-exists",{id:U});if(!id){!function El(x){let I=[];Array.isArray(window[x])?I=window[x]:window[x]=I}(Ko);const{wrappedGtag:ue,gtagCore:Ie}=function Ga(x,I,M,U,J){let ue=function(...Ie){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ue=window[J]),window[J]=function kc(x,I,M,U){function ue(){return(ue=(0,F.Z)(function*(Ie,qe,Qe){try{"event"===Ie?yield ms(x,I,M,qe,Qe):"config"===Ie?yield Hh(x,I,M,U,qe,Qe):"consent"===Ie?x("consent","update",Qe):x("set",qe)}catch(Ct){qn.error(Ct)}})).apply(this,arguments)}return function J(Ie,qe,Qe){return ue.apply(this,arguments)}}(ue,x,I,M),{gtagCore:ue,wrappedGtag:window[J]}}(Ni,Zo,lo,Ko,"gtag");Wr=ue,Qo=Ie,id=!0}return Ni[U]=function qh(x,I,M,U,J,ue,Ie){return Wo.apply(this,arguments)}(x,Zo,lo,I,Qo,Ko,M),new Sl(x)}function __(){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,F.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Vs="@firebase/analytics";!function ft(){(0,le._registerComponent)(new ye.wA(Ho,(I,{options:M})=>Yh(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,le._registerComponent)(new ye.wA("analytics-internal",function x(I){try{const M=I.getProvider(Ho).getImmediate();return{logEvent:(U,J,ue)=>function Li(x,I,M,U){x=(0,de.m9)(x),function za(x,I,M,U,J){return jo.apply(this,arguments)}(Wr,Ni[x.app.options.appId],I,M,U).catch(J=>qn.error(J))}(M,U,J,ue)}}catch(M){throw ai.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,le.registerVersion)(Vs,"0.8.4"),(0,le.registerVersion)(Vs,"0.8.4","esm2017")}();var Un=L(4408),Zr=L(7565);const rd=new class Hn extends Zr.v{}(class Tl extends Un.o{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,M,U):(I.flush(this),0)}});var Zh=L(4986),Xo=L(8505),Nc=L(9468),od=L(5363);const wi=new a.GfV("7.4.1"),dt="__angularfire_symbol__analyticsIsSupportedValue",Kr="__angularfire_symbol__analyticsIsSupported",Lc="__angularfire_symbol__remoteConfigIsSupportedValue",Jo="__angularfire_symbol__remoteConfigIsSupported",Ml="__angularfire_symbol__messagingIsSupportedValue",Mn="__angularfire_symbol__messagingIsSupported";function ys(x,I,M){if(I){if(1===I.length)return I[0];const ue=I.filter(Ie=>Ie.app===M);if(1===ue.length)return ue[0]}return M.container.getProvider(x).getImmediate({optional:!0})}globalThis[Kr]||(globalThis[Kr]=__().then(x=>globalThis[dt]=x).catch(()=>globalThis[dt]=!1)),globalThis[Mn]||(globalThis[Mn]=xc().then(x=>globalThis[Ml]=x).catch(()=>globalThis[Ml]=!1)),globalThis[Jo]||(globalThis[Jo]=g_().then(x=>globalThis[Lc]=x).catch(()=>globalThis[Lc]=!1));const Rl=(x,I)=>{const M=I?[I]:(0,j.C6)(),U=[];return M.forEach(J=>{J.container.getProvider(x).instances.forEach(Ie=>{U.includes(Ie)||U.push(Ie)})}),U};function nr(){}class yr{constructor(I,M=rd){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,U){const J=this.zone;return this.delegate.schedule(function(Ie){J.runGuarded(()=>{I.apply(this,[Ie])})},M,U)}}class co{constructor(I){this.zone=I,this.task=null}call(I,M){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nr,{},nr,nr)),M.pipe((0,Xo.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ea=(()=>{class x{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new yr(Zone.current)),this.insideAngular=M.run(()=>new yr(Zone.current,Zh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(M){return new(M||x)(a.LFG(a.R0b))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Jn(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Qr(x){return Jn(),function Uc(x){return function(M){return(M=M.lift(new co(x.ngZone))).pipe((0,Nc.R)(x.outsideAngular),(0,od.Q)(x.insideAngular))}}(Jn())(x)}},8247:(ht,Me,L)=>{L.d(Me,{$:()=>ro,A:()=>q,B:()=>Pe,G:()=>Xs,H:()=>Xi,J:()=>hs,L:()=>Y,M:()=>ml,N:()=>Uu,P:()=>Zh,Q:()=>_l,R:()=>qp,T:()=>yc,U:()=>ks,V:()=>pr,W:()=>fs,X:()=>Gp,Y:()=>Ta,Z:()=>Nt,_:()=>jp,a:()=>Ps,a0:()=>Nh,a1:()=>si,a2:()=>vl,a3:()=>bl,a4:()=>Lh,a5:()=>$p,a6:()=>oi,a7:()=>qr,a8:()=>Na,a9:()=>ps,aA:()=>$,aB:()=>Qe,aC:()=>Ci,aD:()=>zi,aE:()=>Et,aI:()=>Go,aL:()=>ko,aa:()=>Vh,ab:()=>Dc,ac:()=>Ec,af:()=>Bh,ag:()=>Uh,ah:()=>Yu,ak:()=>Mr,al:()=>Ic,an:()=>Xu,ao:()=>Ua,ap:()=>we,aq:()=>Be,ar:()=>at,as:()=>Je,at:()=>Gc,au:()=>Lt,av:()=>Pt,aw:()=>Ne,ax:()=>ae,ay:()=>pi,az:()=>ne,b:()=>ai,c:()=>Ml,d:()=>Yp,e:()=>Vc,f:()=>Uc,g:()=>U,h:()=>x,i:()=>Yo,j:()=>Ie,k:()=>Pl,l:()=>Ke,m:()=>go,o:()=>ge,r:()=>Un,s:()=>pn,u:()=>rd});var a=L(5861),j=L(2090),F=L(9681),le=L(1877),de=L(655),ye=L(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new le.Yd("@firebase/auth");function tt(b,...g){_e.logLevel<=le.in.ERROR&&_e.error(`Auth (${F.SDK_VERSION}): ${b}`,...g)}function Je(b,...g){throw Ye(b,...g)}function Ne(b,...g){return Ye(b,...g)}function Oe(b,g,_){const C=Object.assign(Object.assign({},Ae()),{[g]:_});return new j.LL("auth","Firebase",C).create(g,{appName:b.name})}function xe(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Je(b,"argument-error"),Oe(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(b,...g){if("string"!=typeof b){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return ot.create(b,...g)}function ae(b,g,..._){if(!b)throw Ye(g,..._)}function he(b){const g="INTERNAL ASSERTION FAILED: "+b;throw tt(g),new Error(g)}function we(b,g){b||he(g)}const X=new Map;function ne(b){we(b instanceof Function,"Expected a class definition");let g=X.get(b);return g?(we(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,X.set(b,g),g)}function He(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ge(){return"http:"===yt()||"https:"===yt()}function yt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class We{constructor(g,_){this.shortDelay=g,this.longDelay=_,we(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(b,g){we(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class En{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new We(3e4,6e4);function Qt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function $t(b,g,_,C){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(b,g,_,C,k={}){return $r(b,k,(0,a.Z)(function*(){let P={},ie={};C&&("GET"===g?ie=C:P={body:JSON.stringify(C)});const Se=(0,j.xO)(Object.assign({key:b.config.apiKey},ie)).slice(1),lt=yield b._getAdditionalHeaders();return lt["Content-Type"]="application/json",b.languageCode&&(lt["X-Firebase-Locale"]=b.languageCode),En.fetch()(os(b,b.config.apiHost,_,Se),Object.assign({method:g,headers:lt,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function $r(b,g,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(b,g,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},on),g);try{const k=new Gi(b),P=yield Promise.race([_(),k.promise]);k.clearNetworkTimeout();const ie=yield P.json();if("needConfirmation"in ie)throw Zn(b,"account-exists-with-different-credential",ie);if(P.ok&&!("errorMessage"in ie))return ie;{const Se=P.ok?ie.errorMessage:ie.error.message,[lt,At]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw Zn(b,"credential-already-in-use",ie);if("EMAIL_EXISTS"===lt)throw Zn(b,"email-already-in-use",ie);if("USER_DISABLED"===lt)throw Zn(b,"user-disabled",ie);const Jt=C[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(At)throw Oe(b,Jt,At);Je(b,Jt)}}catch(k){if(k instanceof j.ZR)throw k;Je(b,"network-request-failed")}})).apply(this,arguments)}function Vn(b,g,_,C){return ss.apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(b,g,_,C,k={}){const P=yield $t(b,g,_,C,k);return"mfaPendingCredential"in P&&Je(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function os(b,g,_,C){const k=`${g}${_}?${C}`;return b.config.emulator?mn(b.config,k):`${b.config.apiScheme}://${k}`}class Gi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Ne(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zn(b,g,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const k=Ne(b,g,C);return k.customData._tokenResponse=_,k}function as(){return(as=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function et(b,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Kn(b,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function vi(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function An(){return(An=(0,a.Z)(function*(b,g=!1){const _=(0,j.m9)(b),C=yield _.getIdToken(g),k=vt(C);ae(k&&k.exp&&k.auth_time&&k.iat,_.auth,"internal-error");const P="object"==typeof k.firebase?k.firebase:void 0,ie=P?.sign_in_provider;return{claims:k,token:C,authTime:vi(wn(k.auth_time)),issuedAtTime:vi(wn(k.iat)),expirationTime:vi(wn(k.exp)),signInProvider:ie||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function wn(b){return 1e3*Number(b)}function vt(b){var g;const[_,C,k]=b.split(".");if(void 0===_||void 0===C||void 0===k)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,j.tV)(C);return P?JSON.parse(P):(tt("Failed to decode base64 JWT payload"),null)}catch(P){return tt("Caught error parsing JWT payload as JSON",null===(g=P)||void 0===g?void 0:g.toString()),null}}function Ft(b,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof j.ZR&&ii(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function ii({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Pi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,a.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(_=C)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class Mt{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=vi(this.lastLoginAt),this.creationTime=vi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ji(b){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,a.Z)(function*(b){var g;const _=b.auth,C=yield b.getIdToken(),k=yield Ft(b,Kn(_,{idToken:C}));ae(k?.users.length,_,"internal-error");const P=k.users[0];b._notifyReloadListener(P);const ie=null!==(g=P.providerUserInfo)&&void 0!==g&&g.length?On(P.providerUserInfo):[],Se=hi(b.providerData,ie),Jt=!!b.isAnonymous&&!(b.email&&P.passwordHash||Se?.length),Fn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Se,metadata:new Mt(P.createdAt,P.lastLoginAt),isAnonymous:Jt};Object.assign(b,Fn)})).apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(b){const g=(0,j.m9)(b);yield ji(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function hi(b,g){return[...b.filter(C=>!g.some(k=>k.providerId===C.providerId)),...g]}function On(b){return b.map(g=>{var{providerId:_}=g,C=(0,de._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Te(){return(Te=(0,a.Z)(function*(b,g){const _=yield $r(b,{},(0,a.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:k,apiKey:P}=b.config,ie=os(b,k,"/v1/token",`key=${P}`),Se=yield b._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",En.fetch()(ie,{method:"POST",headers:Se,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ae(g.idToken,"internal-error"),ae(typeof g.idToken<"u","internal-error"),ae(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function bt(b){const g=vt(b);return ae(g,"internal-error"),ae(typeof g.exp<"u","internal-error"),ae(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,a.Z)(function*(){return ae(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,a.Z)(function*(){const{accessToken:k,refreshToken:P,expiresIn:ie}=yield function it(b,g){return Te.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(k,P,Number(ie))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:k,expirationTime:P}=_,ie=new rt;return C&&(ae("string"==typeof C,"internal-error",{appName:g}),ie.refreshToken=C),k&&(ae("string"==typeof k,"internal-error",{appName:g}),ie.accessToken=k),P&&(ae("number"==typeof P,"internal-error",{appName:g}),ie.expirationTime=P),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return he("not implemented")}}function xt(b,g){ae("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class It{constructor(g){var{uid:_,auth:C,stsTokenManager:k}=g,P=(0,de._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Mt(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,a.Z)(function*(){const C=yield Ft(_,_.stsTokenManager.getToken(_.auth,g));return ae(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function xn(b){return An.apply(this,arguments)}(this,g)}reload(){return function ur(b){return en.apply(this,arguments)}(this)}_assign(g){this!==g&&(ae(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new It(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,a.Z)(function*(){let k=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),k=!0),_&&(yield ji(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,a.Z)(function*(){const _=yield g.getIdToken();return yield Ft(g,function Tr(b,g){return as.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,k,P,ie,Se,lt,At,Jt;const Fn=null!==(C=_.displayName)&&void 0!==C?C:void 0,qi=null!==(k=_.email)&&void 0!==k?k:void 0,bs=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,sa=null!==(ie=_.photoURL)&&void 0!==ie?ie:void 0,fd=null!==(Se=_.tenantId)&&void 0!==Se?Se:void 0,pd=null!==(lt=_._redirectEventId)&&void 0!==lt?lt:void 0,Jh=null!==(At=_.createdAt)&&void 0!==At?At:void 0,Ka=null!==(Jt=_.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:ef,emailVerified:tf,isAnonymous:Vl,providerData:gd,stsTokenManager:Bl}=_;ae(ef&&Bl,g,"internal-error");const $c=rt.fromJSON(this.name,Bl);ae("string"==typeof ef,g,"internal-error"),xt(Fn,g.name),xt(qi,g.name),ae("boolean"==typeof tf,g,"internal-error"),ae("boolean"==typeof Vl,g,"internal-error"),xt(bs,g.name),xt(sa,g.name),xt(fd,g.name),xt(pd,g.name),xt(Jh,g.name),xt(Ka,g.name);const Wn=new It({uid:ef,auth:g,email:qi,emailVerified:tf,displayName:Fn,isAnonymous:Vl,photoURL:sa,phoneNumber:bs,tenantId:fd,stsTokenManager:$c,createdAt:Jh,lastLoginAt:Ka});return gd&&Array.isArray(gd)&&(Wn.providerData=gd.map(nf=>Object.assign({},nf))),pd&&(Wn._redirectEventId=pd),Wn}static _fromIdTokenResponse(g,_,C=!1){return(0,a.Z)(function*(){const k=new rt;k.updateFromServerResponse(_);const P=new It({uid:_.localId,auth:g,stsTokenManager:k,isAnonymous:C});return yield ji(P),P})()}}const Y=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(_,C){var k=this;return(0,a.Z)(function*(){k.storage[_]=C})()}_get(_){var C=this;return(0,a.Z)(function*(){const k=C.storage[_];return void 0===k?null:k})()}_remove(_){var C=this;return(0,a.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function $(b,g,_){return`firebase:${b}:${g}:${_}`}class Q{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:k,name:P}=this.auth;this.fullUserKey=$(this.userKey,k.apiKey,P),this.fullPersistenceKey=$("persistence",k.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?It._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,a.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,a.Z)(function*(){if(!_.length)return new Q(ne(Y),g,C);const k=(yield Promise.all(_.map(function(){var At=(0,a.Z)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return At.apply(this,arguments)}}()))).filter(At=>At);let P=k[0]||ne(Y);const ie=$(C,g.config.apiKey,g.name);let Se=null;for(const At of _)try{const Jt=yield At._get(ie);if(Jt){const Fn=It._fromJSON(g,Jt);At!==P&&(Se=Fn),P=At;break}}catch{}const lt=k.filter(At=>At._shouldAllowMigration);return P._shouldAllowMigration&&lt.length?(P=lt[0],Se&&(yield P._set(ie,Se.toJSON())),yield Promise.all(_.map(function(){var At=(0,a.Z)(function*(Jt){if(Jt!==P)try{yield Jt._remove(ie)}catch{}});return function(Jt){return At.apply(this,arguments)}}())),new Q(P,g,C)):new Q(P,g,C)})()}}function G(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Le(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(R(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ct(g))return"Blackberry";if(ke(g))return"Webos";if(B(g))return"Safari";if((g.includes("chrome/")||oe(g))&&!g.includes("edge/"))return"Chrome";if(at(g))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function R(b=(0,j.z$)()){return/firefox\//i.test(b)}function B(b=(0,j.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function oe(b=(0,j.z$)()){return/crios\//i.test(b)}function Le(b=(0,j.z$)()){return/iemobile/i.test(b)}function at(b=(0,j.z$)()){return/android/i.test(b)}function ct(b=(0,j.z$)()){return/blackberry/i.test(b)}function ke(b=(0,j.z$)()){return/webos/i.test(b)}function Be(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Pt(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function yn(b=(0,j.z$)()){return Be(b)||at(b)||ke(b)||ct(b)||/windows phone/i.test(b)||Le(b)}function In(b,g=[]){let _;switch(b){case"Browser":_=G((0,j.z$)());break;case"Worker":_=`${G((0,j.z$)())}-${b}`;break;default:_=b}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${C}`}class Ks{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const C=P=>new Promise((ie,Se)=>{try{ie(g(P))}catch(lt){Se(lt)}});C.onAbort=_,this.queue.push(C);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,a.Z)(function*(){var C;if(_.auth.currentUser===g)return;const k=[];try{for(const P of _.queue)yield P(g),P.onAbort&&k.push(P.onAbort)}catch(P){k.reverse();for(const ie of k)try{ie()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=P)||void 0===C?void 0:C.message})}})()}}class Ao{constructor(g,_,C){this.app=g,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qs(this),this.idTokenSubscription=new Qs(this),this.beforeStateQueue=new Ks(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=ne(_)),this._initializationPromise=this.queue((0,a.Z)(function*(){var k,P;if(!C._deleted&&(C.persistenceManager=yield Q.create(C,g),!C._deleted)){if(null!==(k=C._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(P=C.currentUser)||void 0===P?void 0:P.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,a.Z)(function*(){var C;const k=yield _.assertedPersistence.getCurrentUser();let P=k,ie=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Se=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,lt=P?._redirectEventId,At=yield _.tryRedirectSignIn(g);(!Se||Se===lt)&&At?.user&&(P=At.user,ie=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(ie)try{yield _.beforeStateQueue.runMiddleware(P)}catch(Se){P=k,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Se))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return ae(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,a.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,a.Z)(function*(){var C;try{yield ji(g)}catch(k){if("auth/network-request-failed"!==(null===(C=k)||void 0===C?void 0:C.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function qt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,a.Z)(function*(){const C=g?(0,j.m9)(g):null;return C&&ae(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g,_=!1){var C=this;return(0,a.Z)(function*(){if(!C._deleted)return g&&ae(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,a.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,a.Z)(function*(){yield _.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,a.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(_);return null===g?k.removeCurrentUser():k.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,a.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&ne(g)||_._popupRedirectResolver;ae(C,_,"argument-error"),_.redirectPersistenceManager=yield Q.create(_,[ne(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,a.Z)(function*(){var C,k;return _._isInitialized&&(yield _.queue((0,a.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(k=_.redirectUser)||void 0===k?void 0:k._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,a.Z)(function*(){if(g===_.currentUser)return _.queue((0,a.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,k){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(ie,this,"internal-error"),ie.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,C,k):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,a.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const k=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return k&&(C["X-Firebase-Client"]=k),C})()}}function Et(b){return(0,j.m9)(b)}class Qs{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xs(b,g,_){const C=Et(b);ae(C._canInitEmulator,C,"emulator-config-failed"),ae(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const k=!!_?.disableWarnings,P=gl(g),{host:ie,port:Se}=function cs(b){const g=gl(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const P=k[1];return{host:P,port:Qn(C.substr(P.length+1))}}{const[P,ie]=C.split(":");return{host:P,port:Qn(ie)}}}(g);C.config.emulator={url:`${P}//${ie}${null===Se?"":`:${Se}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ie,port:Se,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Js(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function gl(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Qn(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Xi{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,_){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function dr(b,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:resetPassword",Qt(b,g))})).apply(this,arguments)}function gc(b,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oh(b,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:update",Qt(b,g))})).apply(this,arguments)}function eo(){return(eo=(0,a.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithPassword",Qt(b,g))})).apply(this,arguments)}function us(b,g){return to.apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:sendOobCode",Qt(b,g))})).apply(this,arguments)}function ds(b,g){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(b,g){return us(b,g)})).apply(this,arguments)}function Fh(b,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(b,g){return us(b,g)})).apply(this,arguments)}function hr(b,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(b,g){return us(b,g)})).apply(this,arguments)}function Da(b,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(b,g){return us(b,g)})).apply(this,arguments)}function mc(){return(mc=(0,a.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithEmailLink",Qt(b,g))})).apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithEmailLink",Qt(b,g))})).apply(this,arguments)}class Aa extends Xi{constructor(g,_,C,k=null){super("password",C),this._email=g,this._password=_,this._tenantId=k}static _fromEmailAndPassword(g,_){return new Aa(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new Aa(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,a.Z)(function*(){switch(_.signInMethod){case"password":return function Ca(b,g){return eo.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ji(b,g){return mc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Je(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,a.Z)(function*(){switch(C.signInMethod){case"password":return gc(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Np(b,g){return xa.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:Je(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function no(b,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithIdp",Qt(b,g))})).apply(this,arguments)}class hs extends Xi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new hs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Je("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:k}=_,P=(0,de._T)(_,["providerId","signInMethod"]);if(!C||!k)return null;const ie=new hs(C,k);return ie.idToken=P.idToken||void 0,ie.accessToken=P.accessToken||void 0,ie.secret=P.secret,ie.nonce=P.nonce,ie.pendingToken=P.pendingToken||null,ie}_getIdTokenResponse(g){return no(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,no(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,no(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,j.xO)(_)}return g}}function Vp(b,g){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:sendVerificationCode",Qt(b,g))})).apply(this,arguments)}function Ia(){return(Ia=(0,a.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",Qt(b,g))})).apply(this,arguments)}function Lu(){return(Lu=(0,a.Z)(function*(b,g){const _=yield Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",Qt(b,g));if(_.temporaryProof)throw Zn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Up={USER_NOT_FOUND:"user-not-found"};function _c(){return(_c=(0,a.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithPhoneNumber",Qt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Up)})).apply(this,arguments)}class So extends Xi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new So({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new So({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Bp(b,g){return Ia.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Io(b,g){return Lu.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Hp(b,g){return _c.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:k}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:k}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:k,temporaryProof:P}=g;return C||_||k||P?new So({verificationId:_,verificationCode:C,phoneNumber:k,temporaryProof:P}):null}}class To{constructor(g){var _,C,k,P,ie,Se;const lt=(0,j.zd)((0,j.pd)(g)),At=null!==(_=lt.apiKey)&&void 0!==_?_:null,Jt=null!==(C=lt.oobCode)&&void 0!==C?C:null,Fn=function Vu(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=lt.mode)&&void 0!==k?k:null);ae(At&&Jt&&Fn,"argument-error"),this.apiKey=At,this.operation=Fn,this.code=Jt,this.continueUrl=null!==(P=lt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ie=lt.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(Se=lt.tenantId)&&void 0!==Se?Se:null}static parseLink(g){const _=function Bu(b){const g=(0,j.zd)((0,j.pd)(b)).link,_=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||_||g||b}(g);try{return new To(_)}catch{return null}}}let ml=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return Aa._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const k=To.parseLink(C);return ae(k,"argument-error"),Aa._fromEmailAndCode(_,k.code,k.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ai{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Mo extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ks extends Mo{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return ae("providerId"in _&&"signInMethod"in _,"argument-error"),hs._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ae(g.idToken||g.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ks.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ks.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:P,nonce:ie,providerId:Se}=g;if(!C&&!k&&!_&&!P||!Se)return null;try{return new ks(Se)._credential({idToken:_,accessToken:C,nonce:ie,pendingToken:P})}catch{return null}}}let Uu=(()=>{class b extends Mo{constructor(){super("facebook.com")}static credential(_){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),_l=(()=>{class b extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:k}=_;if(!C&&!k)return null;try{return b.credential(C,k)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),yc=(()=>{class b extends Mo{constructor(){super("github.com")}static credential(_){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ko extends Xi{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return no(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,no(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,no(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:k,pendingToken:P}=_;return C&&k&&P&&C===k?new ko(C,P):null}static _create(g,_){return new ko(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pr extends Ai{constructor(g){ae(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return pr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return pr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=ko.fromJSON(g);return ae(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return ko._create(C,_)}catch{return null}}}let fs=(()=>{class b extends Mo{constructor(){super("twitter.com")}static credential(_,C){return hs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=_;if(!C||!k)return null;try{return b.credential(C,k)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function er(b,g){return io.apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signUp",Qt(b,g))})).apply(this,arguments)}class fi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,k=!1){return(0,a.Z)(function*(){const P=yield It._fromIdTokenResponse(g,C,k),ie=gr(C);return new fi({user:P,providerId:ie,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const k=gr(C);return new fi({user:g,providerId:k,_tokenResponse:C,operationType:_})})()}}function gr(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Gp(b){return vc.apply(this,arguments)}function vc(){return(vc=(0,a.Z)(function*(b){var g;const _=Et(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new fi({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield er(_,{returnSecureToken:!0}),k=yield fi._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}class Bn extends j.ZR{constructor(g,_,C,k){var P;super(_.code,_.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,Bn.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,k){return new Bn(g,_,C,k)}}function Gu(b,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Bn._fromErrorAndOperation(b,P,g,C):P})}function Ph(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Mr(b,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(b,g){const _=(0,j.m9)(b);yield zr(!0,_,g);const{providerUserInfo:C}=yield et(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),k=Ph(C||[]);return _.providerData=_.providerData.filter(P=>k.has(P.providerId)),k.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function yl(b,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(b,g,_=!1){const C=yield Ft(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return fi._forOperation(b,"link",C)})).apply(this,arguments)}function zr(b,g,_){return un.apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(b,g,_){yield ji(g);const k=!1===b?"provider-already-linked":"no-such-provider";ae(Ph(g.providerData).has(_)===b,g.auth,k)})).apply(this,arguments)}function bc(b,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(b,g,_=!1){var C;const{auth:k}=b,P="reauthenticate";try{const ie=yield Ft(b,Gu(k,P,g,b),_);ae(ie.idToken,k,"internal-error");const Se=vt(ie.idToken);ae(Se,k,"internal-error");const{sub:lt}=Se;return ae(b.uid===lt,k,"user-mismatch"),fi._forOperation(b,P,ie)}catch(ie){throw"auth/user-not-found"===(null===(C=ie)||void 0===C?void 0:C.code)&&Je(k,"user-mismatch"),ie}})).apply(this,arguments)}function wc(b,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(b,g,_=!1){const C="signIn",k=yield Gu(b,C,g),P=yield fi._fromIdTokenResponse(b,C,k);return _||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ta(b,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(b,g){return wc(Et(b),g)})).apply(this,arguments)}function Nt(b,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,a.Z)(function*(b,g){const _=(0,j.m9)(b);return yield zr(!1,_,g.providerId),yl(_,g)})).apply(this,arguments)}function jp(b,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(b,g){return bc((0,j.m9)(b),g)})).apply(this,arguments)}function ju(b,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(b,g){return Vn(b,"POST","/v1/accounts:signInWithCustomToken",Qt(b,g))})).apply(this,arguments)}function ro(b,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(b,g){const _=Et(b),C=yield ju(_,{token:g,returnSecureToken:!0}),k=yield fi._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(k.user),k})).apply(this,arguments)}class Oo{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Re._fromServerResponse(g,_):Je(g,"internal-error")}}class Re extends Oo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Re(_)}}function Xt(b,g,_){var C;ae((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),ae(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ae(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(ae(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Nh(b,g,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),k={requestType:"PASSWORD_RESET",email:g};_&&Xt(C,k,_),yield Fh(C,k)})).apply(this,arguments)}function si(b,g,_){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(b,g,_){yield dr((0,j.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function vl(b,g){return $i.apply(this,arguments)}function $i(){return($i=(0,a.Z)(function*(b,g){yield Oh((0,j.m9)(b),{oobCode:g})})).apply(this,arguments)}function bl(b,g){return No.apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(b,g){const _=(0,j.m9)(b),C=yield dr(_,{oobCode:g}),k=C.requestType;switch(ae(k,_,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(C.mfaInfo,_,"internal-error");default:ae(C.email,_,"internal-error")}let P=null;return C.mfaInfo&&(P=Oo._fromServerResponse(Et(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:P},operation:k}})).apply(this,arguments)}function Lh(b,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(b,g){const{data:_}=yield bl((0,j.m9)(b),g);return _.email})).apply(this,arguments)}function $p(b,g,_){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(b,g,_){const C=Et(b),k=yield er(C,{returnSecureToken:!0,email:g,password:_}),P=yield fi._fromIdTokenResponse(C,"signIn",k);return yield C._updateCurrentUser(P.user),P})).apply(this,arguments)}function oi(b,g,_){return Ta((0,j.m9)(b),ml.credential(g,_))}function qr(b,g,_){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),k={requestType:"EMAIL_SIGNIN",email:g};ae(_.handleCodeInApp,C,"argument-error"),_&&Xt(C,k,_),yield hr(C,k)})).apply(this,arguments)}function Na(b,g){return"EMAIL_SIGNIN"===To.parseLink(g)?.operation}function ps(b,g,_){return $u.apply(this,arguments)}function $u(){return($u=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),k=ml.credentialWithLink(g,_||He());return ae(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ta(C,k)})).apply(this,arguments)}function Cc(b,g){return zu.apply(this,arguments)}function zu(){return(zu=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:createAuthUri",Qt(b,g))})).apply(this,arguments)}function Vh(b,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,a.Z)(function*(b,g){const C={identifier:g,continueUri:Ge()?He():"http://localhost"},{signinMethods:k}=yield Cc((0,j.m9)(b),C);return k||[]})).apply(this,arguments)}function Dc(b,g){return La.apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(b,g){const _=(0,j.m9)(b),k={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Xt(_.auth,k,g);const{email:P}=yield ds(_.auth,k);P!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ec(b,g,_){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Xt(C.auth,P,_);const{email:ie}=yield Da(C.auth,P);ie!==b.email&&(yield b.reload())})).apply(this,arguments)}function qu(b,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(b,g){return $t(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Bh(b,g){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,a.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,j.m9)(b),P={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},ie=yield Ft(C,qu(C.auth,P));C.displayName=ie.displayName||null,C.photoURL=ie.photoUrl||null;const Se=C.providerData.find(({providerId:lt})=>"password"===lt);Se&&(Se.displayName=C.displayName,Se.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ie)})).apply(this,arguments)}function Uh(b,g){return Os((0,j.m9)(b),g,null)}function Yu(b,g){return Os((0,j.m9)(b),null,g)}function Os(b,g,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(b,g,_){const{auth:C}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const ie=yield Ft(b,gc(C,P));yield b._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Pn{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class gs extends Pn{constructor(g,_,C,k){super(g,_,C),this.username=k}}class Nn extends Pn{constructor(g,_){super(g,"facebook.com",_)}}class xc extends gs{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Ac extends Pn{constructor(g,_){super(g,"google.com",_)}}class Zu extends gs{constructor(g,_,C){super(g,"twitter.com",_,C)}}function Ic(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Wu(b){var g,_;if(!b)return null;const{providerId:C}=b,k=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const ie=null===(_=null===(g=vt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(ie)return new Pn(P,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!C)return null;switch(C){case"facebook.com":return new Nn(P,k);case"github.com":return new xc(P,k);case"google.com":return new Ac(P,k);case"twitter.com":return new Zu(P,k,b.screenName||null);case"custom":case"anonymous":return new Pn(P,null);default:return new Pn(P,C,k)}}(_)}class _r{constructor(g,_,C){this.type=g,this.credential=_,this.auth=C}static _fromIdtoken(g,_){return new _r("enroll",g,_)}static _fromMfaPendingCredential(g){return new _r("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return _r._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return _r._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Mc{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=Et(g),k=_.customData._serverResponse,P=(k.mfaInfo||[]).map(Se=>Oo._fromServerResponse(C,Se));ae(k.mfaPendingCredential,C,"internal-error");const ie=_r._fromMfaPendingCredential(k.mfaPendingCredential);return new Mc(ie,P,function(){var Se=(0,a.Z)(function*(lt){const At=yield lt._process(C,ie);delete k.mfaInfo,delete k.mfaPendingCredential;const Jt=Object.assign(Object.assign({},k),{idToken:At.idToken,refreshToken:At.refreshToken});switch(_.operationType){case"signIn":const Fn=yield fi._fromIdTokenResponse(C,_.operationType,Jt);return yield C._updateCurrentUser(Fn.user),Fn;case"reauthenticate":return ae(_.user,C,"internal-error"),fi._forOperation(_.user,_.operationType,Jt);default:Je(C,"internal-error")}});return function(lt){return Se.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,a.Z)(function*(){return _.signInResolver(g)})()}}function Xu(b,g){var _;const C=(0,j.m9)(b),k=g;return ae(g.customData.operationType,C,"argument-error"),ae(null===(_=k.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Mc._fromError(C,k)}function qn(b,g){return $t(b,"POST","/v2/accounts/mfaEnrollment:start",Qt(b,g))}class El{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Oo._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new El(g)}getSession(){var g=this;return(0,a.Z)(function*(){return _r._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var C=this;return(0,a.Z)(function*(){const k=g,P=yield C.getSession(),ie=yield Ft(C.user,k._process(C.user.auth,P,_));return yield C.user._updateTokensIfNecessary(ie),C.user.reload()})()}unenroll(g){var _=this;return(0,a.Z)(function*(){var C;const k="string"==typeof g?g:g.uid,P=yield _.user.getIdToken(),ie=yield Ft(_.user,function Dl(b,g){return $t(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(b,g))}(_.user.auth,{idToken:P,mfaEnrollmentId:k}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Se})=>Se!==k),yield _.user._updateTokensIfNecessary(ie);try{yield _.user.reload()}catch(Se){if("auth/user-token-expired"!==(null===(C=Se)||void 0===C?void 0:C.code))throw Se}})()}}const Hh=new WeakMap;function Ua(b){const g=(0,j.m9)(b);return Hh.has(g)||Hh.set(g,El._fromUser(g)),Hh.get(g)}const ms="__sak";class Ha{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ms,"1"),this.storage.removeItem(ms),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ai=(()=>{class b extends Ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kc(){const b=(0,j.z$)();return B(b)||Be(b)}()&&function ls(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),P=this.localCache[C];k!==P&&_(C,P,k)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((Se,lt,At)=>{this.notifyListeners(Se,At)});const k=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(k);if(_.newValue!==Se)null!==_.newValue?this.storage.setItem(k,_.newValue):this.storage.removeItem(k);else if(this.localCache[k]===_.newValue&&!C)return}const P=()=>{const Se=this.storage.getItem(k);!C&&this.localCache[k]===Se||this.notifyListeners(k,Se)},ie=this.storage.getItem(k);!function Bt(){return(0,j.w1)()&&10===document.documentMode}()||ie===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,C){this.localCache[_]=C;const k=this.listeners[_];if(k)for(const P of Array.from(k))P(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var k=()=>super._set,P=this;return(0,a.Z)(function*(){yield k().call(P,_,C),P.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,k=this;return(0,a.Z)(function*(){const P=yield C().call(k,_);return k.localCache[_]=JSON.stringify(P),P})()}_remove(_){var C=()=>super._remove,k=this;return(0,a.Z)(function*(){yield C().call(k,_),delete k.localCache[_]})()}}return b.type="LOCAL",b})(),Ps=(()=>{class b extends Ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let ja=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(P=>P.isListeningto(_));if(C)return C;const k=new b(_);return this.receivers.push(k),k}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,a.Z)(function*(){const k=_,{eventId:P,eventType:ie,data:Se}=k.data,lt=C.handlersMap[ie];if(!lt?.size)return;k.ports[0].postMessage({status:"ack",eventId:P,eventType:ie});const At=Array.from(lt).map(function(){var Fn=(0,a.Z)(function*(qi){return qi(k.origin,Se)});return function(qi){return Fn.apply(this,arguments)}}()),Jt=yield function Rc(b){return Promise.all(b.map(function(){var g=(0,a.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(At);k.ports[0].postMessage({status:"done",eventId:P,eventType:ie,response:Jt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Go(b="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return b+_}class $h{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var k=this;return(0,a.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ie,Se;return new Promise((lt,At)=>{const Jt=Go("",20);P.port1.start();const Fn=setTimeout(()=>{At(new Error("unsupported_event"))},C);Se={messageChannel:P,onMessage(qi){const bs=qi;if(bs.data.eventId===Jt)switch(bs.data.status){case"ack":clearTimeout(Fn),ie=setTimeout(()=>{At(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),lt(bs.data.response);break;default:clearTimeout(Fn),clearTimeout(ie),At(new Error("invalid_response"))}}},k.handlers.add(Se),P.port1.addEventListener("message",Se.onMessage),k.target.postMessage({eventType:g,eventId:Jt,data:_},[P.port2])}).finally(()=>{Se&&k.removeMessageHandler(Se)})})()}}function Yn(){return window}function tr(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function _s(){return(_s=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $a="firebaseLocalStorageDb",za="firebaseLocalStorage",jo="fbase_key";class ao{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function $o(b,g){return b.transaction([za],g?"readwrite":"readonly").objectStore(za)}function Al(){const b=indexedDB.open($a,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(za,{keyPath:jo})}catch(k){_(k)}}),b.addEventListener("success",(0,a.Z)(function*(){const C=b.result;C.objectStoreNames.contains(za)?g(C):(C.close(),yield function nd(){const b=indexedDB.deleteDatabase($a);return new ao(b).toPromise()}(),g(yield Al()))}))})}function qa(b,g,_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(b,g,_){const C=$o(b,!0).put({[jo]:g,value:_});return new ao(C).toPromise()})).apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(b,g){const _=$o(b,!1).get(g),C=yield new ao(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Il(b,g){const _=$o(b,!0).delete(g);return new ao(_).toPromise()}const Yo=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,a.Z)(function*(){return _.db||(_.db=yield Al()),_.db})()}_withRetries(_){var C=this;return(0,a.Z)(function*(){let k=0;for(;;)try{const P=yield C._openDb();return yield _(P)}catch(P){if(k++>3)throw P;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,a.Z)(function*(){return tr()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,a.Z)(function*(){_.receiver=ja._getInstance(function xl(){return tr()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,a.Z)(function*(k,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(k,P){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,a.Z)(function*(k,P){return["keyChanged"]});return function(k,P){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,a.Z)(function*(){var C,k;if(_.activeServiceWorker=yield function td(){return _s.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new $h(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(C=P[0])||void 0===C?void 0:C.fulfilled)&&(null===(k=P[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,a.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Oc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Al();return yield qa(_,ms,"1"),yield Il(_,ms),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,a.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var k=this;return(0,a.Z)(function*(){return k._withPendingWrite((0,a.Z)(function*(){return yield k._withRetries(P=>qa(P,_,C)),k.localCache[_]=C,k.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,a.Z)(function*(){const k=yield C._withRetries(P=>function zh(b,g){return zo.apply(this,arguments)}(P,_));return C.localCache[_]=k,k})()}_remove(_){var C=this;return(0,a.Z)(function*(){return C._withPendingWrite((0,a.Z)(function*(){return yield C._withRetries(k=>Il(k,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,a.Z)(function*(){const C=yield _._withRetries(ie=>{const Se=$o(ie,!1).getAll();return new ao(Se).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const k=[],P=new Set;for(const{fbase_key:ie,value:Se}of C)P.add(ie),JSON.stringify(_.localCache[ie])!==JSON.stringify(Se)&&(_.notifyListeners(ie,Se),k.push(ie));for(const ie of Object.keys(_.localCache))_.localCache[ie]&&!P.has(ie)&&(_.notifyListeners(ie,null),k.push(ie));return k})()}notifyListeners(_,C){this.localCache[_]=C;const k=this.listeners[_];if(k)for(const P of Array.from(k))P(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function qh(b,g){return $t(b,"POST","/v2/accounts/mfaSignIn:start",Qt(b,g))}function Ni(){return(Ni=(0,a.Z)(function*(b){return(yield $t(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function lo(b){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=g,C.onerror=k=>{const P=Ne("internal-error");P.customData=k,_(P)},C.type="text/javascript",C.charset="UTF-8",function Zo(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(C)})}function Ko(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Wr=1e12;class id{constructor(g){this.auth=g,this.counter=Wr,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new Tn(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||Wr;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Wr))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,a.Z)(function*(){var C;return null===(C=_._widgets.get(g||Wr))||void 0===C||C.execute(),""})()}}class Tn{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof g?document.getElementById(g):g;ae(k,"argument-error",{appName:_}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zp(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yh=Ko("rcb"),Zb=new We(3e4,6e4);class __{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Yn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return ae(function Wh(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Yn().grecaptcha):new Promise((C,k)=>{const P=Yn().setTimeout(()=>{k(Ne(g,"network-request-failed"))},Zb.get());Yn()[Yh]=()=>{Yn().clearTimeout(P),delete Yn()[Yh];const Se=Yn().grecaptcha;if(!Se)return void k(Ne(g,"internal-error"));const lt=Se.render;Se.render=(At,Jt)=>{const Fn=lt(At,Jt);return this.counter++,Fn},this.hostLanguage=_,C(Se)},lo(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Yh,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),k(Ne(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Yn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kb{load(g){return(0,a.Z)(function*(){return new id(g)})()}clearedOneInstance(){}}const Ls="recaptcha",y_={theme:"light",type:"image"};class qp{constructor(g,_=Object.assign({},y_),C){this.parameters=_,this.type=Ls,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Et(C),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof g?document.getElementById(g):g;ae(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kb:new __,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(P=>{const ie=Se=>{!Se||(g.tokenChangeListeners.delete(ie),P(Se))};g.tokenChangeListeners.add(ie),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=Yn()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){ae(Ge()&&!tr(),g.auth,"internal-error"),yield function bi(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Sl(b){return Ni.apply(this,arguments)}(g.auth);ae(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Li{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=So._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function pn(b,g,_){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(b,g,_){const C=Et(b),k=yield Zr(C,g,(0,j.m9)(_));return new Li(k,P=>Ta(C,P))})).apply(this,arguments)}function Ke(b,g,_){return ft.apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);yield zr(!1,C,"phone");const k=yield Zr(C.auth,g,(0,j.m9)(_));return new Li(k,P=>Nt(C,P))})).apply(this,arguments)}function Un(b,g,_){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b),k=yield Zr(C.auth,g,(0,j.m9)(_));return new Li(k,P=>jp(C,P))})).apply(this,arguments)}function Zr(b,g,_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,a.Z)(function*(b,g,_){var C;const k=yield _.verify();try{let P;if(ae("string"==typeof k,b,"argument-error"),ae(_.type===Ls,b,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const ie=P.session;if("phoneNumber"in P)return ae("enroll"===ie.type,b,"internal-error"),(yield qn(b,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{ae("signin"===ie.type,b,"internal-error");const Se=(null===(C=P.multiFactorHint)||void 0===C?void 0:C.uid)||P.multiFactorUid;return ae(Se,b,"missing-multi-factor-info"),(yield qh(b,{mfaPendingCredential:ie.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield Vp(b,{phoneNumber:P.phoneNumber,recaptchaToken:k});return ie}}finally{_._reset()}})).apply(this,arguments)}function rd(b,g){return sd.apply(this,arguments)}function sd(){return(sd=(0,a.Z)(function*(b,g){yield yl((0,j.m9)(b),g)})).apply(this,arguments)}let Zh=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Et(_)}verifyPhoneNumber(_,C){return Zr(this.auth,_,(0,j.m9)(C))}static credential(_,C){return So._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:k}=_;return C&&k?So._fromTokenResponse(C,k):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Xo(b,g){return g?ne(g):(ae(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Nc extends Xi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return no(g,this._buildIdpRequest())}_linkToIdToken(g,_){return no(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return no(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function od(b){return wc(b.auth,new Nc(b),b.bypassAuthState)}function wi(b){const{auth:g,user:_}=b;return ae(_,g,"internal-error"),bc(_,new Nc(b),b.bypassAuthState)}function dt(b){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(b){const{auth:g,user:_}=b;return ae(_,g,"internal-error"),yl(_,new Nc(b),b.bypassAuthState)})).apply(this,arguments)}class Lc{constructor(g,_,C,k,P=!1){this.auth=g,this.resolver=C,this.user=k,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,a.Z)(function*(C,k){g.pendingPromise={resolve:C,reject:k};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(C,k){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,a.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:P,tenantId:ie,error:Se,type:lt}=g;if(Se)return void _.reject(Se);const At={auth:_.auth,requestUri:C,sessionId:k,tenantId:ie||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(lt)(At))}catch(Jt){_.reject(Jt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return od;case"linkViaPopup":case"linkViaRedirect":return dt;case"reauthViaPopup":case"reauthViaRedirect":return wi;default:Je(this.auth,"internal-error")}}resolve(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jo=new We(2e3,1e4);function Ml(b,g,_){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(b,g,_){const C=Et(b);xe(b,g,Ai);const k=Xo(C,_);return new ys(C,"signInViaPopup",g,k).executeNotNull()})).apply(this,arguments)}function Vc(b,g,_){return kl.apply(this,arguments)}function kl(){return(kl=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);xe(C.auth,g,Ai);const k=Xo(C.auth,_);return new ys(C.auth,"reauthViaPopup",g,k,C).executeNotNull()})).apply(this,arguments)}function Yp(b,g,_){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);xe(C.auth,g,Ai);const k=Xo(C.auth,_);return new ys(C.auth,"linkViaPopup",g,k,C).executeNotNull()})).apply(this,arguments)}let ys=(()=>{class b extends Lc{constructor(_,C,k,P,ie){super(_,C,P,ie),this.provider=k,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,a.Z)(function*(){const C=yield _.execute();return ae(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,a.Z)(function*(){we(1===_.filter.length,"Popup operations only handle one event");const C=Go();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(k=>{_.reject(k)}),_.resolver._isIframeWebStorageSupported(_.auth,k=>{k||_.reject(Ne(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,k;this.pollId=null!==(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Jo.get())};_()}}return b.currentPopupAction=null,b})();const nr=new Map;class yr extends Lc{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,a.Z)(function*(){let C=nr.get(_.auth._key());if(!C){try{const P=(yield function co(b,g){return ea.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(P)}catch(k){C=()=>Promise.reject(k)}nr.set(_.auth._key(),C)}return _.bypassAuthState||nr.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const k=yield C.auth._redirectUserForId(g.eventId);if(k)return C.user=k,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function ea(){return(ea=(0,a.Z)(function*(b,g){const _=Qr(g),C=Ln(b);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(_));return yield C._remove(_),k})).apply(this,arguments)}function Jn(b,g){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(b,g){return Ln(b)._set(Qr(g),"true")})).apply(this,arguments)}function zi(){nr.clear()}function Ci(b,g){nr.set(b._key(),g)}function Ln(b){return ne(b._redirectPersistence)}function Qr(b){return $("pendingRedirect",b.config.apiKey,b.name)}function Uc(b,g,_){return function Yt(b,g,_){return kn.apply(this,arguments)}(b,g,_)}function kn(){return(kn=(0,a.Z)(function*(b,g,_){const C=Et(b);xe(b,g,Ai);const k=Xo(C,_);return yield Jn(k,C),k._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function x(b,g,_){return function I(b,g,_){return M.apply(this,arguments)}(b,g,_)}function M(){return(M=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);xe(C.auth,g,Ai);const k=Xo(C.auth,_);yield Jn(k,C.auth);const P=yield Wt(C);return k._openRedirect(C.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function U(b,g,_){return function J(b,g,_){return ue.apply(this,arguments)}(b,g,_)}function ue(){return(ue=(0,a.Z)(function*(b,g,_){const C=(0,j.m9)(b);xe(C.auth,g,Ai);const k=Xo(C.auth,_);yield zr(!1,C,g.providerId),yield Jn(k,C.auth);const P=yield Wt(C);return k._openRedirect(C.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function Ie(b,g){return qe.apply(this,arguments)}function qe(){return(qe=(0,a.Z)(function*(b,g){return yield Et(b)._initializationPromise,Qe(b,g,!1)})).apply(this,arguments)}function Qe(b,g){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(b,g,_=!1){const C=Et(b),k=Xo(C,g),ie=yield new yr(C,k,_).execute();return ie&&!_&&(delete ie.user._redirectEventId,yield C._persistUserIfCurrent(ie.user),yield C._setRedirectUser(null,g)),ie})).apply(this,arguments)}function Wt(b){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(b){const g=Go(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class pi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function vs(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uo(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!uo(g)){const k=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Ne(this.auth,k))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ta(g))}saveEventToCache(g){this.cachedEventUids.add(ta(g)),this.lastProcessedEventTime=Date.now()}}function ta(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function uo({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function Lt(b){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(b,g={}){return $t(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Ya=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rr=/^https?/;function Ol(){return(Ol=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Lt(b);for(const _ of g)try{if(fo(_))return}catch{}Je(b,"unauthorized-domain")})).apply(this,arguments)}function fo(b){const g=He(),{protocol:_,hostname:C}=new URL(g);if(b.startsWith("chrome-extension://")){const ie=new URL(b);return""===ie.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&ie.hostname===C}if(!Rr.test(_))return!1;if(Ya.test(b))return C===b;const k=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const Wp=new We(3e4,6e4);function Kh(){const b=Yn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Fl=null;function Si(b){return Fl=Fl||function Zp(b){return new Promise((g,_)=>{var C,k,P;function ie(){Kh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Kh(),_(Ne(b,"network-request-failed"))},timeout:Wp.get()})}if(null!==(k=null===(C=Yn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==k&&k.Iframe)g(gapi.iframes.getContext());else{if(null===(P=Yn().gapi)||void 0===P||!P.load){const Se=Ko("iframefcb");return Yn()[Se]=()=>{gapi.load?ie():_(Ne(b,"network-request-failed"))},lo(`https://apis.google.com/js/api.js?onload=${Se}`).catch(lt=>_(lt))}ie()}}).catch(g=>{throw Fl=null,g})}(b),Fl}const na=new We(5e3,15e3),Kp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ld(b){const g=b.config;ae(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?mn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:b.name,v:F.SDK_VERSION},k=v_.get(b.config.apiHost);k&&(C.eid=k);const P=b._getFrameworks();return P.length&&(C.fw=P.join(",")),`${_}?${(0,j.xO)(C).slice(1)}`}function Hc(){return Hc=(0,a.Z)(function*(b){const g=yield Si(b),_=Yn().gapi;return ae(_,b,"internal-error"),g.open({where:document.body,url:ld(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kp,dontclear:!0},C=>new Promise(function(){var k=(0,a.Z)(function*(P,ie){yield C.restyle({setHideOnLeave:!1});const Se=Ne(b,"network-request-failed"),lt=Yn().setTimeout(()=>{ie(Se)},na.get());function At(){Yn().clearTimeout(lt),P(C)}C.ping(At).then(At,()=>{ie(Se)})});return function(P,ie){return k.apply(this,arguments)}}()))}),Hc.apply(this,arguments)}const cd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tn{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gc(b,g,_,C,k,P){ae(b.config.authDomain,b,"auth-domain-config-required"),ae(b.config.apiKey,b,"invalid-api-key");const ie={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:F.SDK_VERSION,eventId:k};if(g instanceof Ai){g.setDefaultLanguage(b.languageCode),ie.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(ie.customParameters=JSON.stringify(g.getCustomParameters()));for(const[lt,At]of Object.entries(P||{}))ie[lt]=At}if(g instanceof Mo){const lt=g.getScopes().filter(At=>""!==At);lt.length>0&&(ie.scopes=lt.join(","))}b.tenantId&&(ie.tid=b.tenantId);const Se=ie;for(const lt of Object.keys(Se))void 0===Se[lt]&&delete Se[lt];return`${function po({config:b}){return b.emulator?mn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(Se).slice(1)}`}const Xh="webStorageSupport",Pl=class hd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=Qe,this._overrideRedirectResult=Ci}_openPopup(g,_,C,k){var P=this;return(0,a.Z)(function*(){var ie;we(null===(ie=P.eventManagers[g._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const Se=Gc(g,_,C,He(),k);return function ia(b,g,_,C=500,k=600){const P=Math.max((window.screen.availHeight-k)/2,0).toString(),ie=Math.max((window.screen.availWidth-C)/2,0).toString();let Se="";const lt=Object.assign(Object.assign({},cd),{width:C.toString(),height:k.toString(),top:P,left:ie}),At=(0,j.z$)().toLowerCase();_&&(Se=oe(At)?"_blank":_),R(At)&&(g=g||"http://localhost",lt.scrollbars="yes");const Jt=Object.entries(lt).reduce((qi,[bs,sa])=>`${qi}${bs}=${sa},`,"");if(function _n(b=(0,j.z$)()){var g;return Be(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(At)&&"_self"!==Se)return function Qh(b,g){const _=document.createElement("a");_.href=b,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",Se),new tn(null);const Fn=window.open(g||"",Se,Jt);ae(Fn,b,"popup-blocked");try{Fn.focus()}catch{}return new tn(Fn)}(g,Se,Go())})()}_openRedirect(g,_,C,k){var P=this;return(0,a.Z)(function*(){return yield P._originValidation(g),function ed(b){Yn().location.href=b}(Gc(g,_,C,He(),k)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:k,promise:P}=this.eventManagers[_];return k?Promise.resolve(k):(we(P,"If manager is not set, promise should be"),P)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,a.Z)(function*(){const C=yield function b_(b){return Hc.apply(this,arguments)}(g),k=new pi(g);return C.register("authEvent",P=>(ae(P?.authEvent,g,"invalid-auth-event"),{status:k.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:k},_.iframes[g._key()]=C,k})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Xh,{type:Xh},k=>{var P;const ie=null===(P=k?.[0])||void 0===P?void 0:P[Xh];void 0!==ie&&_(!!ie),Je(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ho(b){return Ol.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return yn()||B()||Be()}};class Nl extends class Xp{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Nl(g)}_finalizeEnroll(g,_,C){return function Cl(b,g){return $t(b,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(b,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Wo(b,g){return $t(b,"POST","/v2/accounts/mfaSignIn:finalize",Qt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let go=(()=>{class b{constructor(){}static assertion(_){return Nl._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var mo="@firebase/auth",jc="0.20.11";class Jp{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,a.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{var k;g((null===(k=C)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function w_(b){(0,F._registerComponent)(new ye.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),k=g.getProvider("heartbeat"),{apiKey:P,authDomain:ie}=C.options;return((Se,lt)=>{ae(P&&!P.includes(":"),"invalid-api-key",{appName:Se.name}),ae(!ie?.includes(":"),"argument-error",{appName:Se.name});const At={apiKey:P,authDomain:ie,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(b)},Jt=new Ao(Se,lt,At);return function ce(b,g){const _=g?.persistence||[],C=(Array.isArray(_)?_:[_]).map(ne);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(C,g?.popupRedirectResolver)}(Jt,_),Jt})(C,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new ye.wA("auth-internal",g=>{const _=Et(g.getProvider("auth").getImmediate());return new Jp(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(mo,jc,function eg(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,F.registerVersion)(mo,jc,"esm2017")}("Browser")},2090:(ht,Me,L)=>{L.d(Me,{$s:()=>rt,BH:()=>qt,G6:()=>xe,L:()=>ge,LL:()=>on,Pz:()=>ln,Sg:()=>We,UG:()=>Ae,US:()=>ye,ZB:()=>q,ZR:()=>En,aH:()=>yt,b$:()=>_e,eu:()=>ae,hl:()=>Ye,jU:()=>ot,m9:()=>rn,ne:()=>An,pd:()=>Zs,r3:()=>Gi,ru:()=>Ce,tV:()=>be,uI:()=>Pe,vZ:()=>et,w1:()=>Je,xO:()=>Dn,xb:()=>Tr,z$:()=>je,zI:()=>he,zd:()=>vi});const le=function(Y){const $=[];let Q=0;for(let G=0;G<Y.length;G++){let R=Y.charCodeAt(G);R<128?$[Q++]=R:R<2048?($[Q++]=R>>6|192,$[Q++]=63&R|128):55296==(64512&R)&&G+1<Y.length&&56320==(64512&Y.charCodeAt(G+1))?(R=65536+((1023&R)<<10)+(1023&Y.charCodeAt(++G)),$[Q++]=R>>18|240,$[Q++]=R>>12&63|128,$[Q++]=R>>6&63|128,$[Q++]=63&R|128):($[Q++]=R>>12|224,$[Q++]=R>>6&63|128,$[Q++]=63&R|128)}return $},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,$){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let R=0;R<Y.length;R+=3){const B=Y[R],oe=R+1<Y.length,Le=oe?Y[R+1]:0,at=R+2<Y.length,ct=at?Y[R+2]:0;let Pt=(15&Le)<<2|ct>>6,_n=63&ct;at||(_n=64,oe||(Pt=64)),G.push(Q[B>>2],Q[(3&B)<<4|Le>>4],Q[Pt],Q[_n])}return G.join("")},encodeString(Y,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(Y):this.encodeByteArray(le(Y),$)},decodeString(Y,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(Y):function(Y){const $=[];let Q=0,G=0;for(;Q<Y.length;){const R=Y[Q++];if(R<128)$[G++]=String.fromCharCode(R);else if(R>191&&R<224){const B=Y[Q++];$[G++]=String.fromCharCode((31&R)<<6|63&B)}else if(R>239&&R<365){const at=((7&R)<<18|(63&Y[Q++])<<12|(63&Y[Q++])<<6|63&Y[Q++])-65536;$[G++]=String.fromCharCode(55296+(at>>10)),$[G++]=String.fromCharCode(56320+(1023&at))}else{const B=Y[Q++],oe=Y[Q++];$[G++]=String.fromCharCode((15&R)<<12|(63&B)<<6|63&oe)}}return $.join("")}(this.decodeStringToByteArray(Y,$))},decodeStringToByteArray(Y,$){this.init_();const Q=$?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let R=0;R<Y.length;){const B=Q[Y.charAt(R++)],Le=R<Y.length?Q[Y.charAt(R)]:0;++R;const ct=R<Y.length?Q[Y.charAt(R)]:64;++R;const Be=R<Y.length?Q[Y.charAt(R)]:64;if(++R,null==B||null==Le||null==ct||null==Be)throw Error();G.push(B<<2|Le>>4),64!==ct&&(G.push(Le<<4&240|ct>>2),64!==Be&&G.push(ct<<6&192|Be))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},ge=function(Y){return function(Y){const $=le(Y);return ye.encodeByteArray($,!0)}(Y).replace(/\./g,"")},be=function(Y){try{return ye.decodeString(Y,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function q(Y,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return $}for(const Q in $)!$.hasOwnProperty(Q)||!ee(Q)||(Y[Q]=q(Y[Q],$[Q]));return Y}function ee(Y){return"__proto__"!==Y}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ot(){return"object"==typeof self&&self.self===self}function Ce(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function _e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){const Y=je();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function xe(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){return"object"==typeof indexedDB}function ae(){return new Promise((Y,$)=>{try{let Q=!0;const G="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(G);R.onsuccess=()=>{R.result.close(),Q||self.indexedDB.deleteDatabase(G),Y(!0)},R.onupgradeneeded=()=>{Q=!1},R.onerror=()=>{var B;$((null===(B=R.error)||void 0===B?void 0:B.message)||"")}}catch(Q){$(Q)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ce=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=Y&&be(Y[1]);return $&&JSON.parse($)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},yt=()=>{var Y;return null===(Y=ce())||void 0===Y?void 0:Y.config},ln=Y=>{var $;return null===($=ce())||void 0===$?void 0:$[`_${Y}`]};class qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Q)=>{this.resolve=$,this.reject=Q})}wrapCallback($){return(Q,G)=>{Q?this.reject(Q):this.resolve(G),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Q):$(Q,G))}}}function We(Y,$){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=$||"demo-project",R=Y.iat||0,B=Y.sub||Y.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:R,exp:R+3600,auth_time:R,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(oe)),""].join(".")}class En extends Error{constructor($,Q,G){super(Q),this.code=$,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor($,Q,G){this.service=$,this.serviceName=Q,this.errors=G}create($,...Q){const G=Q[0]||{},R=`${this.service}/${$}`,B=this.errors[$],oe=B?function an(Y,$){return Y.replace(Qt,(Q,G)=>{const R=$[G];return null!=R?String(R):`<${G}?>`})}(B,G):"Error";return new En(R,`${this.serviceName}: ${oe} (${R}).`,G)}}const Qt=/\{\$([^}]+)}/g;function Gi(Y,$){return Object.prototype.hasOwnProperty.call(Y,$)}function Tr(Y){for(const $ in Y)if(Object.prototype.hasOwnProperty.call(Y,$))return!1;return!0}function et(Y,$){if(Y===$)return!0;const Q=Object.keys(Y),G=Object.keys($);for(const R of Q){if(!G.includes(R))return!1;const B=Y[R],oe=$[R];if(ni(B)&&ni(oe)){if(!et(B,oe))return!1}else if(B!==oe)return!1}for(const R of G)if(!Q.includes(R))return!1;return!0}function ni(Y){return null!==Y&&"object"==typeof Y}function Dn(Y){const $=[];for(const[Q,G]of Object.entries(Y))Array.isArray(G)?G.forEach(R=>{$.push(encodeURIComponent(Q)+"="+encodeURIComponent(R))}):$.push(encodeURIComponent(Q)+"="+encodeURIComponent(G));return $.length?"&"+$.join("&"):""}function vi(Y){const $={};return Y.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[R,B]=G.split("=");$[decodeURIComponent(R)]=decodeURIComponent(B)}}),$}function Zs(Y){const $=Y.indexOf("?");if(!$)return"";const Q=Y.indexOf("#",$);return Y.substring($,Q>0?Q:void 0)}function An(Y,$){const Q=new wn(Y,$);return Q.subscribe.bind(Q)}class wn{constructor($,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{$(this)}).catch(G=>{this.error(G)})}next($){this.forEachObserver(Q=>{Q.next($)})}error($){this.forEachObserver(Q=>{Q.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Q,G){let R;if(void 0===$&&void 0===Q&&void 0===G)throw new Error("Missing Observer.");R=function bt(Y,$){if("object"!=typeof Y||null===Y)return!1;for(const Q of $)if(Q in Y&&"function"==typeof Y[Q])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Q,complete:G},void 0===R.next&&(R.next=Ft),void 0===R.error&&(R.error=Ft),void 0===R.complete&&(R.complete=Ft);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),B}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,$)}sendOne($,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Q(this.observers[$])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}function rt(Y,$=1e3,Q=2){const G=$*Math.pow(Q,Y),R=Math.round(.5*G*(Math.random()-.5)*2);return Math.min(144e5,G+R)}function rn(Y){return Y&&Y._delegate?Y._delegate:Y}},5009:(ht,Me,L)=>{var a=L(4650);let j=null;function F(){return j}const re=new a.OlP("DocumentToken");let ge=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function be(){return(0,a.LFG)(q)}()},providedIn:"platform"}),n})();const W=new a.OlP("Location Initialized");let q=(()=>{class n extends ge{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ee()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ee()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function je(){return new q((0,a.LFG)(re))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(tt)},providedIn:"root"}),n})();const _e=new a.OlP("appBaseHref");let tt=(()=>{class n extends Ce{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Pe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ot(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+ot(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+ot(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ge),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Je=(()=>{class n extends Ce{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Pe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+ot(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+ot(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ge),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ae(Ye(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ot(i))}normalize(e){return n.stripTrailingSlash(function xe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ye(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ot(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ot(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ot,n.joinWithSlash=Pe,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(a.LFG(Ce))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Oe(){return new Ne((0,a.LFG)(Ce))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Format=0]="Format",X[X.Standalone=1]="Standalone",X))(),ne=(()=>((ne=ne||{})[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne))(),me=(()=>((me=me||{})[me.Short=0]="Short",me[me.Medium=1]="Medium",me[me.Long=2]="Long",me[me.Full=3]="Full",me))(),ce=(()=>((ce=ce||{})[ce.Decimal=0]="Decimal",ce[ce.Group=1]="Group",ce[ce.List=2]="List",ce[ce.PercentSign=3]="PercentSign",ce[ce.PlusSign=4]="PlusSign",ce[ce.MinusSign=5]="MinusSign",ce[ce.Exponential=6]="Exponential",ce[ce.SuperscriptingExponent=7]="SuperscriptingExponent",ce[ce.PerMille=8]="PerMille",ce[ce.Infinity=9]="Infinity",ce[ce.NaN=10]="NaN",ce[ce.TimeSeparator=11]="TimeSeparator",ce[ce.CurrencyDecimal=12]="CurrencyDecimal",ce[ce.CurrencyGroup=13]="CurrencyGroup",ce))();function on(n,t){return et((0,a.cg1)(n)[a.wAp.DateFormat],t)}function an(n,t){return et((0,a.cg1)(n)[a.wAp.TimeFormat],t)}function Qt(n,t){return et((0,a.cg1)(n)[a.wAp.DateTimeFormat],t)}function $t(n,t){const e=(0,a.cg1)(n),i=e[a.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ce.CurrencyDecimal)return e[a.wAp.NumberSymbols][ce.Decimal];if(t===ce.CurrencyGroup)return e[a.wAp.NumberSymbols][ce.Group]}return i}function Gi(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function et(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function ni(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Zs=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xn={},An=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var wn=(()=>((wn=wn||{})[wn.Short=0]="Short",wn[wn.ShortGMT=1]="ShortGMT",wn[wn.Long=2]="Long",wn[wn.Extended=3]="Extended",wn))(),vt=(()=>((vt=vt||{})[vt.FullYear=0]="FullYear",vt[vt.Month=1]="Month",vt[vt.Date=2]="Date",vt[vt.Hours=3]="Hours",vt[vt.Minutes=4]="Minutes",vt[vt.Seconds=5]="Seconds",vt[vt.FractionalSeconds=6]="FractionalSeconds",vt[vt.Day=7]="Day",vt))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function Ft(n,t,e,i){let r=function B(n){if(Le(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(h=>+h);return Qi(r,s-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Zs))return function oe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,u,h,m,v),t}(i)}const t=new Date(n);if(!Le(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ii(e,t)||t;let h,u=[];for(;t;){if(h=An.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const E=u.pop();if(!E)break;t=E}}let m=r.getTimezoneOffset();i&&(m=Q(i,m),r=function R(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function G(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Q(t,r)-r))}(r,i,!0));let v="";return u.forEach(E=>{const S=function $(n){if(Y[n])return Y[n];let t;switch(n){case"G":case"GG":case"GGG":t=en(bt.Eras,ne.Abbreviated);break;case"GGGG":t=en(bt.Eras,ne.Wide);break;case"GGGGG":t=en(bt.Eras,ne.Narrow);break;case"y":t=Gt(vt.FullYear,1,0,!1,!0);break;case"yy":t=Gt(vt.FullYear,2,0,!0,!0);break;case"yyy":t=Gt(vt.FullYear,3,0,!1,!0);break;case"yyyy":t=Gt(vt.FullYear,4,0,!1,!0);break;case"Y":t=rn(1);break;case"YY":t=rn(2,!0);break;case"YYY":t=rn(3);break;case"YYYY":t=rn(4);break;case"M":case"L":t=Gt(vt.Month,1,1);break;case"MM":case"LL":t=Gt(vt.Month,2,1);break;case"MMM":t=en(bt.Months,ne.Abbreviated);break;case"MMMM":t=en(bt.Months,ne.Wide);break;case"MMMMM":t=en(bt.Months,ne.Narrow);break;case"LLL":t=en(bt.Months,ne.Abbreviated,X.Standalone);break;case"LLLL":t=en(bt.Months,ne.Wide,X.Standalone);break;case"LLLLL":t=en(bt.Months,ne.Narrow,X.Standalone);break;case"w":t=It(1);break;case"ww":t=It(2);break;case"W":t=It(1,!0);break;case"d":t=Gt(vt.Date,1);break;case"dd":t=Gt(vt.Date,2);break;case"c":case"cc":t=Gt(vt.Day,1);break;case"ccc":t=en(bt.Days,ne.Abbreviated,X.Standalone);break;case"cccc":t=en(bt.Days,ne.Wide,X.Standalone);break;case"ccccc":t=en(bt.Days,ne.Narrow,X.Standalone);break;case"cccccc":t=en(bt.Days,ne.Short,X.Standalone);break;case"E":case"EE":case"EEE":t=en(bt.Days,ne.Abbreviated);break;case"EEEE":t=en(bt.Days,ne.Wide);break;case"EEEEE":t=en(bt.Days,ne.Narrow);break;case"EEEEEE":t=en(bt.Days,ne.Short);break;case"a":case"aa":case"aaa":t=en(bt.DayPeriods,ne.Abbreviated);break;case"aaaa":t=en(bt.DayPeriods,ne.Wide);break;case"aaaaa":t=en(bt.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":t=en(bt.DayPeriods,ne.Abbreviated,X.Standalone,!0);break;case"bbbb":t=en(bt.DayPeriods,ne.Wide,X.Standalone,!0);break;case"bbbbb":t=en(bt.DayPeriods,ne.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":t=en(bt.DayPeriods,ne.Abbreviated,X.Format,!0);break;case"BBBB":t=en(bt.DayPeriods,ne.Wide,X.Format,!0);break;case"BBBBB":t=en(bt.DayPeriods,ne.Narrow,X.Format,!0);break;case"h":t=Gt(vt.Hours,1,-12);break;case"hh":t=Gt(vt.Hours,2,-12);break;case"H":t=Gt(vt.Hours,1);break;case"HH":t=Gt(vt.Hours,2);break;case"m":t=Gt(vt.Minutes,1);break;case"mm":t=Gt(vt.Minutes,2);break;case"s":t=Gt(vt.Seconds,1);break;case"ss":t=Gt(vt.Seconds,2);break;case"S":t=Gt(vt.FractionalSeconds,1);break;case"SS":t=Gt(vt.FractionalSeconds,2);break;case"SSS":t=Gt(vt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=On(wn.Short);break;case"ZZZZZ":t=On(wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=On(wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=On(wn.Long);break;default:return null}return Y[n]=t,t}(E);v+=S?S(r,e,m):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Qi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function ii(n,t){const e=function Ge(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(xn[e]=xn[e]||{},xn[e][t])return xn[e][t];let i="";switch(t){case"shortDate":i=on(n,me.Short);break;case"mediumDate":i=on(n,me.Medium);break;case"longDate":i=on(n,me.Long);break;case"fullDate":i=on(n,me.Full);break;case"shortTime":i=an(n,me.Short);break;case"mediumTime":i=an(n,me.Medium);break;case"longTime":i=an(n,me.Long);break;case"fullTime":i=an(n,me.Full);break;case"short":const r=ii(n,"shortTime"),s=ii(n,"shortDate");i=Pi(Qt(n,me.Short),[r,s]);break;case"medium":const u=ii(n,"mediumTime"),h=ii(n,"mediumDate");i=Pi(Qt(n,me.Medium),[u,h]);break;case"long":const m=ii(n,"longTime"),v=ii(n,"longDate");i=Pi(Qt(n,me.Long),[m,v]);break;case"full":const E=ii(n,"fullTime"),S=ii(n,"fullDate");i=Pi(Qt(n,me.Full),[E,S])}return i&&(xn[e][t]=i),i}function Pi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Mt(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),s+u}function Gt(n,t,e=0,i=!1,r=!1){return function(s,u){let h=function ur(n,t){switch(n){case vt.FullYear:return t.getFullYear();case vt.Month:return t.getMonth();case vt.Date:return t.getDate();case vt.Hours:return t.getHours();case vt.Minutes:return t.getMinutes();case vt.Seconds:return t.getSeconds();case vt.FractionalSeconds:return t.getMilliseconds();case vt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||h>-e)&&(h+=e),n===vt.Hours)0===h&&-12===e&&(h=12);else if(n===vt.FractionalSeconds)return function ji(n,t){return Mt(n,3).substring(0,t)}(h,t);const m=$t(u,ce.MinusSign);return Mt(h,t,m,i,r)}}function en(n,t,e=X.Format,i=!1){return function(r,s){return function hi(n,t,e,i,r,s){switch(e){case bt.Months:return function qt(n,t,e){const i=(0,a.cg1)(n),s=et([i[a.wAp.MonthsFormat],i[a.wAp.MonthsStandalone]],t);return et(s,e)}(t,r,i)[n.getMonth()];case bt.Days:return function ln(n,t,e){const i=(0,a.cg1)(n),s=et([i[a.wAp.DaysFormat],i[a.wAp.DaysStandalone]],t);return et(s,e)}(t,r,i)[n.getDay()];case bt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(s){const v=function Zn(n){const t=(0,a.cg1)(n);return Gi(t),(t[a.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?ni(i):[ni(i[0]),ni(i[1])])}(t),E=function Tr(n,t,e){const i=(0,a.cg1)(n);Gi(i);const s=et([i[a.wAp.ExtraData][0],i[a.wAp.ExtraData][1]],t)||[];return et(s,e)||[]}(t,r,i),S=v.findIndex(N=>{if(Array.isArray(N)){const[H,z]=N,te=u>=H.hours&&h>=H.minutes,pe=u<z.hours||u===z.hours&&h<z.minutes;if(H.hours<z.hours){if(te&&pe)return!0}else if(te||pe)return!0}else if(N.hours===u&&N.minutes===h)return!0;return!1});if(-1!==S)return E[S]}return function yt(n,t,e){const i=(0,a.cg1)(n),s=et([i[a.wAp.DayPeriodsFormat],i[a.wAp.DayPeriodsStandalone]],t);return et(s,e)}(t,r,i)[u<12?0:1];case bt.Eras:return function We(n,t){return et((0,a.cg1)(n)[a.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function On(n){return function(t,e,i){const r=-1*i,s=$t(e,ce.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case wn.Short:return(r>=0?"+":"")+Mt(u,2,s)+Mt(Math.abs(r%60),2,s);case wn.ShortGMT:return"GMT"+(r>=0?"+":"")+Mt(u,1,s);case wn.Long:return"GMT"+(r>=0?"+":"")+Mt(u,2,s)+":"+Mt(Math.abs(r%60),2,s);case wn.Extended:return 0===i?"Z":(r>=0?"+":"")+Mt(u,2,s)+":"+Mt(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function xt(n){return Qi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function It(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+s)/7)}else{const s=xt(e),u=function rt(n){const t=Qi(n,0,1).getDay();return Qi(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),h=s.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Mt(r,n,$t(i,ce.MinusSign))}}function rn(n,t=!1){return function(e,i){return Mt(xt(e).getFullYear(),n,$t(i,ce.MinusSign),t)}}const Y={};function Q(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Le(n){return n instanceof Date&&!isNaN(n.valueOf())}let cn=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class eo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let us=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new eo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),to(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{to(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function to(n,t){n.context.$implicit=t.item}let Sn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Fh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ri("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ri("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Fh{constructor(){this.$implicit=null,this.ngIf=null}}function ri(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class hr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ms=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Da=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new hr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ms,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();const Hp=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let _c=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){if(null==e||""===e||e!=e)return null;try{return Ft(e,i,s||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw function fr(n,t){return new a.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.soG,16),a.Y36(Hp,24))},n.\u0275pipe=a.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Sa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const pr="browser";function fi(n){return n===pr}function gr(n){return"server"===n}let Gu=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Ph((0,a.LFG)(re),window)}),n})();class Ph{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ii(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Mr(this.window.history)||Mr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Mr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Os extends class Yu extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){j||(j=n)}(new Os)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Wu(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}();return null==e?null:function gs(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const t=Pn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function gc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Pn,Fs=null;const Nn=new a.OlP("TRANSITION_ID"),Ac=[{provide:a.ip1,useFactory:function xc(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Nn,re,a.zs3],multi:!0}];let Ic=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Sc=new a.OlP("EventManagerPlugins");let Tc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Sc),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class wl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Bo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Uo=(()=>{class n extends Bo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ku),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ku))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Ku(n){F().remove(n)}const Ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qu=/%COMP%/g;function Dl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Dl(n,r,e):(r=r.replace(Qu,n),e.push(r))}return e}function El(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ua=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ms(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ju(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case a.ifc.ShadowDom:return new Gh(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Dl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Tc),a.LFG(Uo),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ms{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ho[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ga(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ga(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ho[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ho[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,El(i)):this.eventManager.addEventListener(t,e,El(i))}}function Ga(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ju extends ms{constructor(t,e,i,r){super(t),this.component=i;const s=Dl(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function qn(n){return"_ngcontent-%COMP%".replace(Qu,n)}(r+"-"+i.id),this.hostAttr=function Cl(n){return"_nghost-%COMP%".replace(Qu,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Gh extends ms{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Dl(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ai=(()=>{class n extends wl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const jh=["alt","control","meta","shift"],Ps={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ja=(()=>{class n extends wl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),jh.forEach(v=>{const E=i.indexOf(v);E>-1&&(i.splice(E,1),u+=v+".")}),u+=s,0!=i.length||0===s.length)return null;const m={};return m.domEventName=r,m.fullKey=u,m}static matchEventFullKeyCode(e,i){let r=Ps[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),jh.forEach(u=>{u!==r&&(0,Rc[u])(e)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const $a=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:pr},{provide:a.g9A,useValue:function td(){Os.makeCurrent()},multi:!0},{provide:re,useFactory:function Oc(){return(0,a.RDi)(document),document},deps:[]}]),oo=new a.OlP(""),za=[{provide:a.rWj,useClass:class Zu{addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(m){u=u||m,s--,0==s&&i(u)};r.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],jo=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function _s(){return new a.qLn},deps:[]},{provide:Sc,useClass:ai,multi:!0,deps:[re,a.R0b,a.Lbi]},{provide:Sc,useClass:ja,multi:!0,deps:[re]},{provide:Ua,useClass:Ua,deps:[Tc,Uo,a.AFp]},{provide:a.FYo,useExisting:Ua},{provide:Bo,useExisting:Uo},{provide:Uo,useClass:Uo,deps:[re]},{provide:Tc,useClass:Tc,deps:[Sc,a.R0b]},{provide:class Ro{},useClass:Ic,deps:[]},[]];let ao=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Nn,useExisting:a.AFp},Ac]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(oo,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...jo,...za],imports:[Sa,a.hGG]}),n})(),Yr=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function qa(){return new Yr((0,a.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ls=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(qp),i},providedIn:"root"}),n})(),qp=(()=>{class n extends Ls{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function y_(n){return new qp(n.get(re))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var Li=L(2011),pn=L(8996),Vs=L(3269);function Ke(...n){const t=(0,Vs.yG)(n);return(0,pn.D)(n,t)}var ft=L(7579);class Un extends ft.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Zr=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hn=L(9751);const{isArray:rd}=Array,{getPrototypeOf:sd,prototype:Zh,keys:Xo}=Object;function Nc(n){if(1===n.length){const t=n[0];if(rd(t))return{args:t,keys:null};if(function od(n){return n&&"object"==typeof n&&sd(n)===Zh}(t)){const e=Xo(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var wi=L(4671),dt=L(4004);const{isArray:Kr}=Array;function Jo(n){return(0,dt.U)(t=>function Lc(n,t){return Kr(t)?n(...t):n(t)}(n,t))}function Ml(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Mn=L(5403),Vc=L(9672);function kl(...n){const t=(0,Vs.yG)(n),e=(0,Vs.jO)(n),{args:i,keys:r}=Nc(n);if(0===i.length)return(0,pn.D)([],t);const s=new Hn.y(function Yp(n,t,e=wi.y){return i=>{Bc(t,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let m=0;m<r;m++)Bc(t,()=>{const v=(0,pn.D)(n[m],t);let E=!1;v.subscribe((0,Mn.x)(i,S=>{s[m]=S,E||(E=!0,h--),h||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>Ml(r,u):wi.y));return e?s.pipe(Jo(e)):s}function Bc(n,t,e){n?(0,Vc.f)(e,n,t):t()}var ys=L(8189);function nr(...n){return function Rl(){return(0,ys.J)(1)}()((0,pn.D)(n,(0,Vs.yG)(n)))}var yr=L(8421);function co(n){return new Hn.y(t=>{(0,yr.Xf)(n()).subscribe(t)})}var ea=L(9635),Jn=L(576);function Bs(n,t){const e=(0,Jn.m)(n)?n:()=>n,i=r=>r.error(e());return new Hn.y(t?r=>t.schedule(i,0,r):i)}var zi=L(515),Ci=L(727),Ln=L(4482);function Qr(){return(0,Ln.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Mn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Uc extends Hn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ci.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Mn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ci.w0.EMPTY)}return t}refCount(){return Qr()(this)}}function Yt(n,t){return(0,Ln.e)((e,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Mn.x)(i,m=>{r?.unsubscribe();let v=0;const E=s++;(0,yr.Xf)(n(m,E)).subscribe(r=(0,Mn.x)(i,S=>i.next(t?t(m,S,E,v++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function kn(n){return n<=0?()=>zi.E:(0,Ln.e)((t,e)=>{let i=0;t.subscribe((0,Mn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function x(...n){const t=(0,Vs.yG)(n);return(0,Ln.e)((e,i)=>{(t?nr(n,e,t):nr(n,e)).subscribe(i)})}function I(n,t){return(0,Ln.e)((e,i)=>{let r=0;e.subscribe((0,Mn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var M=L(5577);function U(n){return(0,Ln.e)((t,e)=>{let i=!1;t.subscribe((0,Mn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function J(n=ue){return(0,Ln.e)((t,e)=>{let i=!1;t.subscribe((0,Mn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ue(){return new Zr}function Ie(n,t){const e=arguments.length>=2;return i=>i.pipe(n?I((r,s)=>n(r,s,i)):wi.y,kn(1),e?U(t):J(()=>new Zr))}function qe(n,t){return(0,Jn.m)(t)?(0,M.z)(n,t,1):(0,M.z)(n,1)}var Qe=L(8505);function Ct(n){return(0,Ln.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Mn.x)(e,void 0,void 0,u=>{s=(0,yr.Xf)(n(u,Ct(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Wt(n,t,e,i,r){return(s,u)=>{let h=e,m=t,v=0;s.subscribe((0,Mn.x)(u,E=>{const S=v++;m=h?n(m,E,S):(h=!0,E),i&&u.next(m)},r&&(()=>{h&&u.next(m),u.complete()})))}}function gt(n,t){return(0,Ln.e)(Wt(n,t,arguments.length>=2,!0))}function Gn(n){return n<=0?()=>zi.E:(0,Ln.e)((t,e)=>{let i=[];t.subscribe((0,Mn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function pi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?I((r,s)=>n(r,s,i)):wi.y,Gn(1),e?U(t):J(()=>new Zr))}function vs(n){return(0,Ln.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Lt="primary",ir=Symbol("RouteTitle");class Ya{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Rr(n){return new Ya(n)}function ho(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Wp(n[r],t[r]))return!1;return!0}function Wp(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Kh(n){return Array.prototype.concat.apply([],n)}function Zp(n){return n.length>0?n[n.length-1]:null}function Si(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function na(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,pn.D)(Promise.resolve(n)):Ke(n)}const Kp={exact:function Hc(n,t,e){if(!ra(n.segments,t.segments)||!dd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Hc(n.children[i],t.children[i],e))return!1;return!0},subset:ud},v_={exact:function b_(n,t){return fo(n,t)},subset:function cd(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Wp(n[e],t[e]))},ignored:()=>!0};function ld(n,t,e){return Kp[e.paths](n.root,t.root,e.matrixParams)&&v_[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ud(n,t,e){return Wa(n,t,t.segments,e)}function Wa(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ra(r,e)||t.hasChildren()||!dd(r,e,i))}if(n.segments.length===e.length){if(!ra(n.segments,e)||!dd(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ud(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(ra(n.segments,r)&&dd(n.segments,r,i)&&n.children[Lt])&&Wa(n.children[Lt],t,s,i)}}function dd(n,t,e){return t.every((i,r)=>v_[e](n[r].parameters,i.parameters))}class Za{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rr(this.queryParams)),this._queryParamMap}toString(){return Xh.serialize(this)}}class tn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Si(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hd(this)}}class ia{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Rr(this.parameters)),this._parameterMap}toString(){return eg(this)}}function ra(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Gc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new po},providedIn:"root"}),n})();class po{parse(t){const e=new _(t);return new Za(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Pl(t.root,!0)}`,i=function C_(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Nl(e)}=${Nl(r)}`).join("&"):`${Nl(e)}=${Nl(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function go(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Xh=new po;function hd(n){return n.segments.map(t=>eg(t)).join("/")}function Pl(n,t){if(!n.hasChildren())return hd(n);if(t){const e=n.children[Lt]?Pl(n.children[Lt],!1):"",i=[];return Si(n.children,(r,s)=>{s!==Lt&&i.push(`${s}:${Pl(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Qp(n,t){let e=[];return Si(n.children,(i,r)=>{r===Lt&&(e=e.concat(t(i,r)))}),Si(n.children,(i,r)=>{r!==Lt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Lt?[Pl(n.children[Lt],!1)]:[`${r}:${Pl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${hd(n)}/${e[0]}`:`${hd(n)}/(${e.join("//")})`}}function Xp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nl(n){return Xp(n).replace(/%3B/gi,";")}function mo(n){return Xp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jc(n){return decodeURIComponent(n)}function Jp(n){return jc(n.replace(/\+/g,"%20"))}function eg(n){return`${mo(n.path)}${function w_(n){return Object.keys(n).map(t=>`;${mo(t)}=${mo(n[t])}`).join("")}(n.parameters)}`}const D_=/^[^\/()?;=#]+/;function Ll(n){const t=n.match(D_);return t?t[0]:""}const E_=/^[^=?&#]+/,b=/^[^&#]+/;class _{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Lt]=new tn(t,e)),i}parseSegment(){const t=Ll(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new ia(jc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ll(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ll(this.remaining);r&&(i=r,this.capture(i))}t[jc(e)]=jc(i)}parseQueryParam(t){const e=function Xb(n){const t=n.match(E_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function g(n){const t=n.match(b);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Jp(e),s=Jp(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ll(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Lt);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[Lt]:new tn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function C(n){return n.segments.length>0?new tn([],{[Lt]:n}):n}function k(n){const t={};for(const i of Object.keys(n.children)){const s=k(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function P(n){if(1===n.numberOfChildren&&n.children[Lt]){const t=n.children[Lt];return new tn(n.segments.concat(t.segments),t.children)}return n}(new tn(n.segments,t))}function ie(n){return n instanceof Za}function Fn(n,t,e,i,r){if(0===e.length)return sa(t.root,t.root,t.root,i,r);const s=function Jh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pd(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Si(s.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new pd(e,t,i)}(e);return s.toRoot()?sa(t.root,t.root,new tn([],{}),i,r):function u(m){const v=function tf(n,t,e,i){if(n.isAbsolute)return new Ka(t.root,!0,0);if(-1===i)return new Ka(e,e===t.root,0);return function Vl(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new Ka(i,!1,r-s)}(e,i+(qi(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,m),E=v.processChildren?$c(v.segmentGroup,v.index,s.commands):Bl(v.segmentGroup,v.index,s.commands);return sa(t.root,v.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function qi(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bs(n){return"object"==typeof n&&null!=n&&n.outlets}function sa(n,t,e,i,r){let u,s={};i&&Si(i,(m,v)=>{s[v]=Array.isArray(m)?m.map(E=>`${E}`):`${m}`}),u=n===t?e:fd(n,t,e);const h=C(k(u));return new Za(h,s,r)}function fd(n,t,e){const i={};return Si(n.children,(r,s)=>{i[s]=r===t?e:fd(r,t,e)}),new tn(n.segments,i)}class pd{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&qi(i[0]))throw new a.vHH(4003,!1);const r=i.find(bs);if(r&&r!==Zp(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ka{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Bl(n,t,e){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return $c(n,t,e);const i=function Wn(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],h=e[i];if(bs(h))break;const m=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!x_(m,v,u))return s;i+=2}else{if(!x_(m,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new tn(n.segments.slice(0,i.pathIndex),{});return s.children[Lt]=new tn(n.segments.slice(i.pathIndex),n.children),$c(s,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?nf(n,t,e):i.match?$c(n,0,r):nf(n,t,e)}function $c(n,t,e){if(0===e.length)return new tn(n.segments,{});{const i=function gd(n){return bs(n[0])?n[0].outlets:{[Lt]:n}}(e),r={};return Si(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=Bl(n.children[u],t,s))}),Si(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new tn(n.segments,r)}}function nf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(bs(s)){const m=Nx(s.outlets);return new tn(i,m)}if(0===r&&qi(e[0])){i.push(new ia(n.segments[t].path,tg(e[0]))),r++;continue}const u=bs(s)?s.outlets[Lt]:`${s}`,h=r<e.length-1?e[r+1]:null;u&&h&&qi(h)?(i.push(new ia(u,tg(h))),r+=2):(i.push(new ia(u,{})),r++)}return new tn(i,{})}function Nx(n){const t={};return Si(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=nf(new tn([],{}),0,e))}),t}function tg(n){const t={};return Si(n,(e,i)=>t[i]=`${e}`),t}function x_(n,t,e){return n==e.path&&fo(t,e.parameters)}class Qa{constructor(t,e){this.id=t,this.url=e}}class A_ extends Qa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zc extends Qa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ng extends Qa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jb extends Qa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TO extends Qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MO extends Qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rf extends Qa{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class I_ extends Qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ew extends Qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tw{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nw{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lx{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iw{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rw{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vx{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ig{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=rg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return sg(t,this._root).map(e=>e.value)}}function rg(n,t){if(n===t.value)return t;for(const e of t.children){const i=rg(n,e);if(i)return i}return null}function sg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=sg(n,e);if(i.length)return i.unshift(t),i}return[]}class Or{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function md(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class og extends ig{constructor(t,e){super(t),this.snapshot=e,T_(this,t)}toString(){return this.snapshot.toString()}}function sf(n,t){const e=function Ux(n,t){const u=new lf([],{},{},"",{},Lt,t,null,n.root,-1,{});return new ag("",new Or(u,[]))}(n,t),i=new Un([new ia("",{})]),r=new Un({}),s=new Un({}),u=new Un({}),h=new Un(""),m=new Xa(i,r,u,h,s,Lt,t,e.root);return m.snapshot=e.root,new og(new Or(m,[]),e)}class Xa{constructor(t,e,i,r,s,u,h,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,dt.U)(v=>v[ir]))??Ke(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(t=>Rr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(t=>Rr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function af(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function qc(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class lf{constructor(t,e,i,r,s,u,h,m,v,E,S,N){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.[ir],this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=E,this._correctedLastPathIndex=N??E,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ag extends ig{constructor(t,e){super(e),this.url=t,T_(this,e)}toString(){return sw(this._root)}}function T_(n,t){t.value._routerState=n,t.children.forEach(e=>T_(n,e))}function sw(n){const t=n.children.length>0?` { ${n.children.map(sw).join(", ")} } `:"";return`${n.value}${t}`}function lg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,fo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),fo(t.params,e.params)||n.params.next(e.params),function Ol(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!fo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),fo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ul(n,t){const e=fo(n.params,t.params)&&function Qh(n,t){return ra(n,t)&&n.every((e,i)=>fo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ul(n.parent,t.parent))}function cf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Gx(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cf(n,i,r);return cf(n,i)})}(n,t,e);return new Or(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>cf(n,h)),u}}const i=function jx(n){return new Xa(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>cf(n,s));return new Or(i,r)}}const uf="ngNavigationCancelingError";function ow(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ie(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=M_(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function M_(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[uf]=!0,i.cancellationCode=t,e&&(i.url=e),i}function aw(n){return k_(n)&&ie(n.url)}function k_(n){return n&&n[uf]}class kO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new df,this.attachRef=null}}let df=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new kO,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hl=!1;let R_=(()=>{class n{constructor(e,i,r,s,u){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=r||Lt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Hl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Hl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Hl);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,Hl);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new _d(e,h,r.injector);if(i&&function hf(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,m)}else this.activated=r.createComponent(u,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(df),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class _d{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Xa?this.route:t===df?this.childContexts:this.parent.get(t,e)}}let O_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},dependencies:[R_],encapsulation:2}),n})();function $x(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function P_(n){const t=n.children&&n.children.map(P_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=O_),e}function Xr(n){return n.outlet||Lt}function Yx(n,t){const e=n.filter(i=>Xr(i)===t);return e.push(...n.filter(i=>Xr(i)!==t)),e}function ug(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class PO{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),lg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=md(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Si(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=md(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=md(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=md(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new S_(s.value.snapshot))}),t.children.length&&this.forwardEvent(new iw(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(lg(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),lg(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=ug(r.snapshot),m=h?.get(a._Vd)??null;u.attachRef=null,u.route=r,u.resolver=m,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Wx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class L_{constructor(t,e){this.component=t,this.route=e}}function NO(n,t,e){const i=n._root;return vd(i,t?t._root:null,e,[i.value])}function yd(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function vd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=md(t);return n.children.forEach(u=>{(function V_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const m=function cw(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ra(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ra(n.url,t.url)||!fo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ul(n,t)||!fo(n.queryParams,t.queryParams);default:return!Ul(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Wx(i)):(s.data=u.data,s._resolvedData=u._resolvedData),vd(n,t,s.component?h?h.children:null:e,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new L_(h.outlet.component,u))}else u&&bd(t,h,r),r.canActivateChecks.push(new Wx(i)),vd(n,null,s.component?h?h.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),Si(s,(u,h)=>bd(u,e.getContext(h),r)),r}function bd(n,t,e){const i=md(n),r=n.value;Si(i,(s,u)=>{bd(s,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new L_(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function wd(n){return"function"==typeof n}function H_(n){return n instanceof Zr||"EmptyError"===n?.name}const dg=Symbol("INITIAL_VALUE");function Cd(){return Yt(n=>kl(n.map(t=>t.pipe(kn(1),x(dg)))).pipe((0,dt.U)(t=>{for(const e of t)if(!0!==e){if(e===dg)return dg;if(!1===e||e instanceof Za)return e}return!0}),I(t=>t!==dg),kn(1)))}function hg(n){return(0,ea.z)((0,Qe.b)(t=>{if(ie(t))throw ow(0,t)}),(0,dt.U)(t=>!0===t))}const pf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rr(n,t,e,i,r){const s=Yc(n,t,e);return s.matched?function hw(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ke(r.map(u=>{const h=yd(u,n);return na(function Qx(n){return n&&wd(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(Cd(),hg()):Ke(!0)}(i=$x(t,i),t,e).pipe((0,dt.U)(u=>!0===u?s:{...pf})):Ke(s)}function Yc(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...pf}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||ho)(e,n,t);if(!r)return{...pf};const s={};Si(r.posParams,(h,m)=>{s[m]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function gf(n,t,e,i,r="corrected"){if(e.length>0&&function fw(n,t,e){return e.some(i=>mf(n,t,i)&&Xr(i)!==Lt)}(n,e,i)){const u=new tn(t,function sA(n,t,e,i){const r={};r[Lt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Xr(s)!==Lt){const u=new tn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[Xr(s)]=u}return r}(n,t,i,new tn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function oA(n,t,e){return e.some(i=>mf(n,t,i))}(n,e,i)){const u=new tn(n.segments,function rA(n,t,e,i,r,s){const u={};for(const h of i)if(mf(n,e,h)&&!r[Xr(h)]){const m=new tn([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===s?n.segments.length:t.length,u[Xr(h)]=m}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const s=new tn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function mf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function pw(n,t,e,i){return!!(Xr(n)===i||i!==Lt&&mf(t,e,n))&&("**"===n.path||Yc(t,n,e).matched)}function j_(n,t,e){return 0===t.length&&!n.children[e]}const fg=!1;class pg{constructor(t){this.segmentGroup=t||null}}class gw{constructor(t){this.urlTree=t}}function _f(n){return Bs(new pg(n))}function mw(n){return Bs(new gw(n))}class lA{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=gf(this.urlTree.root,[],[],this.config).segmentGroup,e=new tn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Lt).pipe((0,dt.U)(s=>this.createUrlTree(k(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ct(s=>{if(s instanceof gw)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof pg?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Lt).pipe((0,dt.U)(r=>this.createUrlTree(k(r),t.queryParams,t.fragment))).pipe(Ct(r=>{throw r instanceof pg?this.noMatchError(r):r}))}noMatchError(t){return new a.vHH(4002,fg)}createUrlTree(t,e,i){const r=C(t);return new Za(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,dt.U)(s=>new tn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,pn.D)(r).pipe(qe(s=>{const u=i.children[s],h=Yx(e,s);return this.expandSegmentGroup(t,h,u,s).pipe((0,dt.U)(m=>({segment:m,outlet:s})))}),gt((s,u)=>(s[u.outlet]=u.segment,s),{}),pi())}expandSegment(t,e,i,r,s,u){return(0,pn.D)(i).pipe(qe(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,u).pipe(Ct(v=>{if(v instanceof pg)return Ke(null);throw v}))),Ie(h=>!!h),Ct((h,m)=>{if(H_(h))return j_(e,r,s)?Ke(new tn([],{})):_f(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,u,h){return pw(r,e,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u):_f(e):_f(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?mw(s):this.lineralizeSegments(i,s).pipe((0,M.z)(u=>{const h=new tn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:E}=Yc(e,r,s);if(!h)return _f(e);const S=this.applyRedirectCommands(m,r.redirectTo,E);return r.redirectTo.startsWith("/")?mw(S):this.lineralizeSegments(r,S).pipe((0,M.z)(N=>this.expandSegment(t,e,i,N.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=$x(i,t),i.loadChildren?(i._loadedRoutes?Ke({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,dt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new tn(r,{})))):Ke(new tn(r,{}))):rr(e,i,r,t).pipe(Yt(({matched:u,consumedSegments:h,remainingSegments:m})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,M.z)(E=>{const S=E.injector??t,N=E.routes,{segmentGroup:H,slicedSegments:z}=gf(e,h,m,N),te=new tn(H.segments,H.children);if(0===z.length&&te.hasChildren())return this.expandChildren(S,N,te).pipe((0,dt.U)(mt=>new tn(h,mt)));if(0===N.length&&0===z.length)return Ke(new tn(h,{}));const pe=Xr(i)===s;return this.expandSegment(S,te,N,z,pe?Lt:s,!0).pipe((0,dt.U)(st=>new tn(h.concat(st.segments),st.children)))})):_f(e)))}getChildConfig(t,e,i){return e.children?Ke({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ke({routes:e._loadedRoutes,injector:e._loadedInjector}):function Fr(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ke(!0):Ke(r.map(u=>{const h=yd(u,n);return na(function Zx(n){return n&&wd(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(Cd(),hg())}(t,e,i).pipe((0,M.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Qe.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Ja(n){return Bs(M_(fg,3))}())):Ke({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ke(i);if(r.numberOfChildren>1||!r.children[Lt])return Bs(new a.vHH(4e3,fg));r=r.children[Lt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Za(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Si(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return Si(e.children,(h,m)=>{u[m]=this.createSegmentGroup(t,h,i,r)}),new tn(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.vHH(4001,fg);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class _w{}class z_{constructor(t,e,i,r,s,u,h,m){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=m}recognize(){const t=gf(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Lt).pipe((0,dt.U)(e=>{if(null===e)return null;const i=new lf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Or(i,e),s=new ag(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=af(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,pn.D)(Object.keys(i.children)).pipe(qe(r=>{const s=i.children[r],u=Yx(e,r);return this.processSegmentGroup(t,u,s,r)}),gt((r,s)=>r&&s?(r.push(...s),r):null),function ta(n,t=!1){return(0,Ln.e)((e,i)=>{let r=0;e.subscribe((0,Mn.x)(i,s=>{const u=n(s,r++);(u||t)&&i.next(s),!u&&i.complete()}))})}(r=>null!==r),U(null),pi(),(0,dt.U)(r=>{if(null===r)return null;const s=vw(r);return function q_(n){n.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,pn.D)(e).pipe(qe(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,s)),Ie(u=>!!u),Ct(u=>{if(H_(u))return j_(i,r,s)?Ke([]):Ke(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!pw(e,i,r,s))return Ke(null);let u;if("**"===e.path){const h=r.length>0?Zp(r).parameters:{},m=ww(i)+r.length;u=Ke({snapshot:new lf(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mg(e),Xr(e),e.component??e._loadedComponent??null,e,bw(i),m,Y_(e),m),consumedSegments:[],remainingSegments:[]})}else u=rr(i,e,r,t).pipe((0,dt.U)(({matched:h,consumedSegments:m,remainingSegments:v,parameters:E})=>{if(!h)return null;const S=ww(i)+m.length;return{snapshot:new lf(m,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mg(e),Xr(e),e.component??e._loadedComponent??null,e,bw(i),S,Y_(e),S),consumedSegments:m,remainingSegments:v}}));return u.pipe(Yt(h=>{if(null===h)return Ke(null);const{snapshot:m,consumedSegments:v,remainingSegments:E}=h;t=e._injector??t;const S=e._loadedInjector??t,N=function cA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:H,slicedSegments:z}=gf(i,v,E,N.filter(pe=>void 0===pe.redirectTo),this.relativeLinkResolution);if(0===z.length&&H.hasChildren())return this.processChildren(S,N,H).pipe((0,dt.U)(pe=>null===pe?null:[new Or(m,pe)]));if(0===N.length&&0===z.length)return Ke([new Or(m,[])]);const te=Xr(e)===s;return this.processSegment(S,N,H,z,te?Lt:s).pipe((0,dt.U)(pe=>null===pe?null:[new Or(m,pe)]))}))}}function yw(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function vw(n){const t=[],e=new Set;for(const i of n){if(!yw(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=vw(i.children);t.push(new Or(i.value,r))}return t.filter(i=>!e.has(i))}function bw(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ww(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function mg(n){return n.data||{}}function Y_(n){return n.resolve||{}}function Ed(n,t){return(0,M.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ke(e);let s=0;return(0,pn.D)(r).pipe(qe(u=>function W_(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Dw(r)&&(s[ir]=r.title),function Cw(n,t,e,i){const r=function uA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ke({});const s={};return(0,pn.D)(r).pipe((0,M.z)(u=>function Z_(n,t,e,i){const r=ug(t)??i,s=yd(n,r);return na(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[u],t,e,i).pipe(Ie(),(0,Qe.b)(h=>{s[u]=h}))),Gn(1),function uo(n){return(0,dt.U)(()=>n)}(s),Ct(u=>H_(u)?zi.E:Bs(u)))}(s,n,t,i).pipe((0,dt.U)(u=>(n._resolvedData=u,n.data=af(n,e).resolve,r&&Dw(r)&&(n.data[ir]=r.title),null)))}(u.route,i,n,t)),(0,Qe.b)(()=>s++),Gn(1),(0,M.z)(u=>s===r.length?Ke(e):zi.E))})}function Dw(n){return"string"==typeof n.title||null===n.title}function K_(n){return Yt(t=>{const e=n(t);return e?(0,pn.D)(e).pipe((0,dt.U)(()=>t)):Ke(t)})}let Ew=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Lt);return i}getResolvedTitleForRoute(e){return e.data[ir]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(xw)},providedIn:"root"}),n})(),xw=(()=>{class n extends Ew{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Yr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dA{}class Q_ extends class Aw{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const xd=new a.OlP("",{providedIn:"root",factory:()=>({})}),X_=new a.OlP("ROUTES");let _g=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ke(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=na(e.loadComponent()).pipe((0,Qe.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),vs(()=>{this.componentLoaders.delete(e)})),r=new Uc(i,()=>new ft.x).pipe(Qr());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ke({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,dt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,v,E=!1;Array.isArray(h)?v=h:(m=h.create(e).injector,v=Kh(m.get(X_,[],a.XFs.Self|a.XFs.Optional)));return{routes:v.map(P_),injector:m}}),vs(()=>{this.childrenLoaders.delete(i)})),u=new Uc(s,()=>new ft.x).pipe(Qr());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return na(e()).pipe((0,M.z)(i=>i instanceof a.YKP||Array.isArray(i)?Ke(i):(0,pn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tw{}class Wc{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Mw(n){throw n}function hA(n,t,e){return t.parse("/")}const jO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function J_(){const n=(0,a.f3M)(Gc),t=(0,a.f3M)(df),e=(0,a.f3M)(Ne),i=(0,a.f3M)(a.zs3),r=(0,a.f3M)(a.Sil),s=(0,a.f3M)(X_,{optional:!0})??[],u=(0,a.f3M)(xd,{optional:!0})??{},h=(0,a.f3M)(xw),m=(0,a.f3M)(Ew,{optional:!0}),v=(0,a.f3M)(Tw,{optional:!0}),E=(0,a.f3M)(dA,{optional:!0}),S=new Vi(null,n,t,e,i,r,Kh(s));return v&&(S.urlHandlingStrategy=v),E&&(S.routeReuseStrategy=E),S.titleStrategy=m??h,function fA(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,S),S}let Vi=(()=>{class n{constructor(e,i,r,s,u,h,m){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ft.x,this.errorHandler=Mw,this.malformedUriErrorHandler=hA,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ke(void 0),this.urlHandlingStrategy=new Wc,this.routeReuseStrategy=new Q_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(_g),this.configLoader.onLoadEndListener=N=>this.triggerEvent(new nw(N)),this.configLoader.onLoadStartListener=N=>this.triggerEvent(new tw(N)),this.ngModule=u.get(a.h0i),this.console=u.get(a.c2e);const S=u.get(a.R0b);this.isNgZoneEnabled=S instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function Qb(){return new Za(new tn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sf(this.currentUrlTree,this.rootComponentType),this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(I(r=>0!==r.id),(0,dt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Yt(r=>{let s=!1,u=!1;return Ke(r).pipe((0,Qe.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yt(h=>{const m=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return vg(h.source)&&(this.browserUrlTree=h.extractedUrl),Ke(h).pipe(Yt(S=>{const N=this.transitions.getValue();return i.next(new A_(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions.getValue()?zi.E:Promise.resolve(S)}),function BO(n,t,e,i){return Yt(r=>function aA(n,t,e,i,r){return new lA(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,dt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qe.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function HO(n,t,e,i,r,s){return(0,M.z)(u=>function oa(n,t,e,i,r,s,u="emptyOnly",h="legacy"){return new z_(n,t,e,i,r,u,h,s).recognize().pipe(Yt(m=>null===m?function UO(n){return new Hn.y(t=>t.error(n))}(new _w):Ke(m)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,dt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qe.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(H,S)}this.browserUrlTree=S.urlAfterRedirects}const N=new TO(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(N)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:H,source:z,restoredState:te,extras:pe}=h,Ue=new A_(N,this.serializeUrl(H),z,te);i.next(Ue);const st=sf(H,this.rootComponentType).snapshot;return Ke(r={...h,targetSnapshot:st,urlAfterRedirects:H,extras:{...pe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),zi.E}),(0,Qe.b)(h=>{const m=new MO(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,dt.U)(h=>r={...h,guards:NO(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function Xx(n,t){return(0,M.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?Ke({...e,guardsResult:!0}):function G_(n,t,e,i){return(0,pn.D)(n).pipe((0,M.z)(r=>function iA(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ke(s.map(h=>{const m=ug(t)??r,v=yd(h,m);return na(function Kx(n){return n&&wd(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):m.runInContext(()=>v(n,t,e,i))).pipe(Ie())})).pipe(Cd()):Ke(!0)}(r.component,r.route,e,t,i)),Ie(r=>!0!==r,!0))}(u,i,r,n).pipe((0,M.z)(h=>h&&function B_(n){return"boolean"==typeof n}(h)?function Jx(n,t,e,i){return(0,pn.D)(t).pipe(qe(r=>nr(function tA(n,t){return null!==n&&t&&t(new Lx(n)),Ke(!0)}(r.route.parent,i),function eA(n,t){return null!==n&&t&&t(new rw(n)),Ke(!0)}(r.route,i),function nA(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function LO(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>co(()=>Ke(u.guards.map(m=>{const v=ug(u.node)??e,E=yd(m,v);return na(function ff(n){return n&&wd(n.canActivateChild)}(E)?E.canActivateChild(i,n):v.runInContext(()=>E(i,n))).pipe(Ie())})).pipe(Cd())));return Ke(s).pipe(Cd())}(n,r.path,e),function dw(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const r=i.map(s=>co(()=>{const u=ug(t)??e,h=yd(s,u);return na(function U_(n){return n&&wd(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(Ie())}));return Ke(r).pipe(Cd())}(n,r.route,e))),Ie(r=>!0!==r,!0))}(i,s,n,t):Ke(h)),(0,dt.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Qe.b)(h=>{if(r.guardsResult=h.guardsResult,ie(h.guardsResult))throw ow(0,h.guardsResult);const m=new rf(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),I(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),K_(h=>{if(h.guards.canActivateChecks.length)return Ke(h).pipe((0,Qe.b)(m=>{const v=new I_(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),Yt(m=>{let v=!1;return Ke(m).pipe(Ed(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qe.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Qe.b)(m=>{const v=new ew(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),K_(h=>{const m=v=>{const E=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Qe.b)(S=>{v.component=S}),(0,dt.U)(()=>{})));for(const S of v.children)E.push(...m(S));return E};return kl(m(h.targetSnapshot.root)).pipe(U(),kn(1))}),K_(()=>this.afterPreactivation()),(0,dt.U)(h=>{const m=function Hx(n,t,e){const i=cf(n,t._root,e?e._root:void 0);return new og(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:m}}),(0,Qe.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,dt.U)(i=>(new PO(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Qe.b)({next(){s=!0},complete(){s=!0}}),vs(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ct(h=>{if(u=!0,k_(h)){aw(h)||(this.navigated=!0,this.restoreHistory(r,!0));const m=new ng(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(m),aw(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vg(r.source)};this.scheduleNavigation(v,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const m=new Jb(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(m);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return zi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(P_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:m}=i,v=r||this.routerState.root,E=m?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...s};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),Fn(v,this.currentUrlTree,e,S,E??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ie(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function kw(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new a.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...jO}:!1===i?{...yg}:i,ie(e))return ld(this.currentUrlTree,e,r);const s=this.parseUrl(e);return ld(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new zc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,m,v;u?(h=u.resolve,m=u.reject,v=u.promise):v=new Promise((N,H)=>{h=N,m=H});const E=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),S=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:E,targetPageId:S,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(N=>Promise.reject(N))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new ng(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return J_()},providedIn:"root"}),n})();function vg(n){return"imperative"!==n}let Gl=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ft.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Vi),a.Y36(Xa),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class wg{}let bf=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(I(e=>e instanceof zc),qe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,e,`Route: ${s.path}`));const u=s._injector??e,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,pn.D)(r).pipe((0,ys.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ke(null);const s=r.pipe((0,M.z)(u=>null===u?Ke(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,pn.D)([s,u]).pipe((0,ys.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Vi),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(wg),a.LFG(_g))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ey=new a.OlP("");let ty=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof A_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Vx&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Vx(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function jl(n,t){return{\u0275kind:n,\u0275providers:t}}function Dg(n){return[{provide:X_,multi:!0,useValue:n}]}function iy(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(Vi),r=n.get(Fw);1===n.get(Eg)&&i.initialNavigation(),n.get(Pw,null,a.XFs.Optional)?.setUpPreloading(),n.get(ey,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const Fw=new a.OlP("",{factory:()=>new ft.x}),Eg=new a.OlP("",{providedIn:"root",factory:()=>1});const Pw=new a.OlP("");function Nw(n){return jl(0,[{provide:Pw,useExisting:bf},{provide:wg,useExisting:n}])}const Lw=new a.OlP("ROUTER_FORROOT_GUARD"),Vw=[Ne,{provide:Gc,useClass:po},{provide:Vi,useFactory:J_},df,{provide:Xa,useFactory:function ny(n){return n.routerState.root},deps:[Vi]},_g];function _A(){return new a.PXZ("Router",Vi)}let Bw=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Vw,[],Dg(e),{provide:Lw,useFactory:Hw,deps:[[Vi,new a.FiY,new a.tp0]]},{provide:xd,useValue:i||{}},i?.useHash?{provide:Ce,useClass:Je}:{provide:Ce,useClass:tt},{provide:ey,useFactory:()=>{const n=(0,a.f3M)(Vi),t=(0,a.f3M)(Gu),e=(0,a.f3M)(xd);return e.scrollOffset&&t.setOffset(e.scrollOffset),new ty(n,t,e)}},i?.preloadingStrategy?Nw(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:_A},i?.initialNavigation?Gw(i):[],[{provide:jw,useFactory:iy},{provide:a.tb,multi:!0,useExisting:jw}]]}}static forChild(e){return{ngModule:n,providers:[Dg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Lw,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[O_]}),n})();function Hw(n){return"guarded"}function Gw(n){return["disabled"===n.initialNavigation?jl(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(Vi);return()=>{t.setUpLocationChangeListener()}}},{provide:Eg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?jl(2,[{provide:Eg,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(W,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const u=t.get(Vi),h=t.get(Fw);(function r(s){t.get(Vi).events.pipe(I(h=>h instanceof zc||h instanceof ng||h instanceof Jb),(0,dt.U)(h=>h instanceof zc||h instanceof ng&&(0===h.code||1===h.code)&&null),I(h=>null!==h),kn(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),u.afterPreactivation=()=>(s(!0),i||h.closed?Ke(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const jw=new a.OlP("");function $w(...n){const t=(0,Vs.jO)(n),{args:e,keys:i}=Nc(n),r=new Hn.y(s=>{const{length:u}=e;if(!u)return void s.complete();const h=new Array(u);let m=u,v=u;for(let E=0;E<u;E++){let S=!1;(0,yr.Xf)(e[E]).subscribe((0,Mn.x)(s,N=>{S||(S=!0,v--),h[E]=N},()=>m--,void 0,()=>{(!m||!S)&&(v||s.next(i?Ml(i,h):h),s.complete())}))}});return t?r.pipe(Jo(t)):r}let ry=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Zc=(()=>{class n extends ry{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Jr=new a.OlP("NgValueAccessor"),zw={provide:Jr,useExisting:(0,a.Gpc)(()=>el),multi:!0},wA=new a.OlP("CompositionEventMode");let el=(()=>{class n extends ry{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kc(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(wA,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([zw]),a.qOj]}),n})();function $l(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function CA(n){return null!=n&&"number"==typeof n.length}const sr=new a.OlP("NgValidators"),Qc=new a.OlP("NgAsyncValidators"),DA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class es{static min(t){return function EA(n){return t=>{if($l(t.value)||$l(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function qw(n){return t=>{if($l(t.value)||$l(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function Xc(n){return $l(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Yw(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function ay(n){return $l(n.value)||DA.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function wf(n){return t=>$l(t.value)||!CA(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Ww(n){return t=>CA(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ly(n){if(!n)return Ag;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if($l(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return cy(t)}static composeAsync(t){return Sg(t)}}function Ag(n){return null}function Zw(n){return null!=n}function Kw(n){return(0,a.QGY)(n)?(0,pn.D)(n):n}function Qw(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Xw(n,t){return t.map(e=>e(n))}function eC(n){return n.map(t=>function Jw(n){return!n.validate}(t)?t:e=>t.validate(e))}function cy(n){if(!n)return null;const t=n.filter(Zw);return 0==t.length?null:function(e){return Qw(Xw(e,t))}}function Ig(n){return null!=n?cy(eC(n)):null}function Sg(n){if(!n)return null;const t=n.filter(Zw);return 0==t.length?null:function(e){return $w(Xw(e,t).map(Kw)).pipe((0,dt.U)(Qw))}}function tC(n){return null!=n?Sg(eC(n)):null}function Tg(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function nC(n){return n._rawValidators}function xA(n){return n._rawAsyncValidators}function zl(n){return n?Array.isArray(n)?n:[n]:[]}function Cf(n,t){return Array.isArray(n)?n.includes(t):n===t}function uy(n,t){const e=zl(t);return zl(n).forEach(r=>{Cf(e,r)||e.push(r)}),e}function Df(n,t){return zl(t).filter(e=>!Cf(n,e))}class Us{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ig(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=tC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class vr extends Us{get formDirective(){return null}get path(){return null}}class tl extends Us{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mg{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Id=(()=>{class n extends Mg{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(tl,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),Yl=(()=>{class n extends Mg{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(vr,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const Td="VALID",Og="INVALID",Wl="PENDING",Fg="DISABLED";function lC(n){return(hy(n)?n.validators:n)||null}function SA(n){return Array.isArray(n)?Ig(n):n||null}function cC(n,t){return(hy(t)?t.asyncValidators:n)||null}function TA(n){return Array.isArray(n)?tC(n):n||null}function hy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function MA(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")}function kA(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})}class fy{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=SA(this._rawValidators),this._composedAsyncValidatorFn=TA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Td}get invalid(){return this.status===Og}get pending(){return this.status==Wl}get disabled(){return this.status===Fg}get enabled(){return this.status!==Fg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=SA(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=TA(t)}addValidators(t){this.setValidators(uy(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uy(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Df(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Df(t,this._rawAsyncValidators))}hasValidator(t){return Cf(this._rawValidators,t)}hasAsyncValidator(t){return Cf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Wl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Td,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Td||this.status===Wl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fg:Td}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Wl,this._hasOwnPendingAsyncValidator=!0;const e=Kw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Fg:this.errors?Og:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wl)?Wl:this._anyControlsHaveStatus(Og)?Og:Td}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Pg extends fy{constructor(t,e,i){super(lC(e),cC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){kA(this,0,t),Object.keys(t).forEach(i=>{MA(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class dC extends Pg{}function kd(n,t){Lg(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function OA(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fC(n,t)})}(n,t),function FA(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function hC(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fC(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Zl(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Rd(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Vg(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ng(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Lg(n,t){const e=nC(n);null!==t.validator?n.setValidators(Tg(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=xA(n);null!==t.asyncValidator?n.setAsyncValidators(Tg(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ng(t._rawValidators,r),Ng(t._rawAsyncValidators,r)}function Vg(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=nC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=xA(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ng(t._rawValidators,i),Ng(t._rawAsyncValidators,i),e}function fC(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xf(n,t){Lg(n,t)}function Hg(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const PA={provide:vr,useExisting:(0,a.Gpc)(()=>If)},Gg=(()=>Promise.resolve())();let If=(()=>{class n extends vr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Pg({},Ig(e),tC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Gg.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),kd(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Gg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Gg.then(()=>{const i=this._findContainer(e.path),r=new Pg({});xf(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Gg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Gg.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Hg(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sr,10),a.Y36(Qc,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([PA]),a.qOj]}),n})();function gy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function yC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Pd=class extends fy{constructor(t=null,e,i){super(lC(e),cC(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hy(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=yC(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){yC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let eu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),vy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const by=new a.OlP("NgModelWithFormControlWarning"),DC={provide:vr,useExisting:(0,a.Gpc)(()=>Kl)};let Kl=(()=>{class n extends vr{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return kd(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Rd(e.control||null,e,!1),function mC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Hg(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Rd(i||null,e),(n=>n instanceof Pd)(r)&&(kd(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);xf(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Od(n,t){return Vg(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lg(this.form,this),this._oldForm&&Vg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sr,10),a.Y36(Qc,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([DC]),a.qOj,a.TTD]}),n})();const $g={provide:tl,useExisting:(0,a.Gpc)(()=>Ql)};let Ql=(()=>{class n extends tl{constructor(e,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Af(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===el?e=s:function gC(n){return Object.getPrototypeOf(n.constructor)===Zc}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Ug(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Md(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(vr,13),a.Y36(sr,10),a.Y36(Qc,10),a.Y36(Jr,10),a.Y36(by,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([$g]),a.qOj,a.TTD]}),n})(),PC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[vy]}),n})(),KA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[PC]}),n})(),NC=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:by,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[PC]}),n})();class Mf extends fy{constructor(t,e,i){super(lC(e),cC(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){kA(this,0,t),t.forEach((i,r)=>{MA(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Vd(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Hs,Zg=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return Vd(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Pg(r,s)}record(e,i=null){const r=this._reduceControls(e);return new dC(r,i)}control(e,i,r){let s={};return this.useNonNullable?(Vd(i)?s=i:(s.validators=i,s.asyncValidators=r),new Pd(e,{...s,nonNullable:!0})):new Pd(e,i,r)}array(e,i,r){const s=e.map(u=>this._createControl(u));return new Mf(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Pd||e instanceof fy?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:NC}),n})();try{Hs=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Hs=!1}let Gs,Di=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?fi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Hs)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kf=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ws(){if(Gs)return Gs;if("object"!=typeof document||!document)return Gs=new Set(kf),Gs;let n=document.createElement("input");return Gs=new Set(kf.filter(t=>(n.setAttribute("type",t),n.type===t))),Gs}let nu,js,Xl;function nl(n){return function Bd(){if(null==nu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nu=!0}))}finally{nu=nu||!1}return nu}()?n:!!n.capture}function Ud(){if(null==js){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return js=!1,js;if("scrollBehavior"in document.documentElement.style)js=!0;else{const n=Element.prototype.scrollTo;js=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return js}function jd(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function rl(n){return n.composedPath?n.composedPath()[0]:n.target}function Kg(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ll(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ky(n){return I((t,e)=>n<=e)}function Ry(n,t=wi.y){return n=n??KC,(0,Ln.e)((e,i)=>{let r,s=!0;e.subscribe((0,Mn.x)(i,u=>{const h=t(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function KC(n,t){return n===t}var Oy=L(5032);function Wi(n){return(0,Ln.e)((t,e)=>{(0,yr.Xf)(n).subscribe((0,Mn.x)(e,()=>e.complete(),Oy.Z)),!e.closed&&t.subscribe(e)})}function sn(n){return null!=n&&"false"!=`${n}`}function Jg(n,t=0){return function Fy(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Wd(n){return Array.isArray(n)?n:[n]}function jn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function cl(n){return n instanceof a.SBq?n.nativeElement:n}var ua=L(4986);function $I(n,t=ua.z){return(0,Ln.e)((e,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function m(){const v=u+n,E=t.now();if(E<v)return r=this.schedule(void 0,v-E),void i.add(r);h()}e.subscribe((0,Mn.x)(i,v=>{s=v,u=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}let em=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZF=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=cl(e);return new Hn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ft.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(em))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Py=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=sn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Jg(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe($I(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ZF),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),tm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[em]}),n})();const Tt=new Set;let Zd,zI=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Kd}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function qI(n){if(!Tt.has(n))try{Zd||(Zd=document.createElement("style"),Zd.setAttribute("type","text/css"),document.head.appendChild(Zd)),Zd.sheet&&(Zd.sheet.insertRule(`@media ${n} {body{ }}`,0),Tt.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Di))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kd(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let YI=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ft.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Ff(Wd(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=kl(Ff(Wd(e)).map(u=>this._registerQuery(u).observable));return s=nr(s.pipe(kn(1)),s.pipe(ky(1),$I(0))),s.pipe((0,dt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:v})=>{h.matches=h.matches||m,h.breakpoints[v]=m}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Hn.y(u=>{const h=m=>this._zone.run(()=>u.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(x(i),(0,dt.U)(({matches:u})=>({query:e,matches:u})),Wi(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(zI),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ff(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let im=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function JC(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function rm(n){try{return n.frameElement}catch{return null}}(function sD(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===iD(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=iD(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function XI(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function rD(n){return!function tD(n){return function Pf(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function eD(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function QI(n){return function Nf(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nD(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Di))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nD(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function iD(n){if(!nD(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class oD{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(kn(1)).subscribe(t)}}let sm=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new oD(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(im),a.LFG(a.R0b),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aD=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=sn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=sn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=jd(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(sm),a.Y36(re))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[a.TTD]}),n})();function JI(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Vy(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const om=new a.OlP("cdk-input-modality-detector-options"),eS={ignoreKeys:[18,17,224,91,16]},ou=nl({passive:!0,capture:!0});let Lf=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Un(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rl(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(JI(u)?"keyboard":"mouse"),this._mostRecentTarget=rl(u))},this._onTouchstart=u=>{Vy(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rl(u))},this._options={...eS,...s},this.modalityDetected=this._modality.pipe(ky(1)),this.modalityChanged=this.modalityDetected.pipe(Ry()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ou),r.addEventListener("mousedown",this._onMousedown,ou),r.addEventListener("touchstart",this._onTouchstart,ou)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ou),document.removeEventListener("mousedown",this._onMousedown,ou),document.removeEventListener("touchstart",this._onTouchstart,ou))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Di),a.LFG(a.R0b),a.LFG(re),a.LFG(om,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cD=new a.OlP("cdk-focus-monitor-default-options"),am=nl({passive:!0,capture:!0});let au=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ft.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=rl(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=cl(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ke(null);const s=function Gd(n){if(function Hd(){if(null==Xl){const n=typeof document<"u"?document.head:null;Xl=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Xl}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new ft.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=cl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=cl(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=rl(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,am),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,am)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,am),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,am),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(Di),a.LFG(Lf),a.LFG(re,8),a.LFG(cD,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vf=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new a.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(au))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const uD="cdk-high-contrast-black-on-white",By="cdk-high-contrast-white-on-black",Uy="cdk-high-contrast-active";let Hy=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.f3M)(YI).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Uy,uD,By),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Uy,uD):2===i&&e.add(Uy,By)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Di),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dD=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Hy))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[tm]}),n})();var hD=L(1144);const nS=["addListener","removeListener"],Gy=["addEventListener","removeEventListener"],iS=["on","off"];function tc(n,t,e,i){if((0,Jn.m)(e)&&(i=e,e=void 0),i)return tc(n,t,e).pipe(Jo(i));const[r,s]=function oS(n){return(0,Jn.m)(n.addEventListener)&&(0,Jn.m)(n.removeEventListener)}(n)?Gy.map(u=>h=>n[u](t,h,e)):function rS(n){return(0,Jn.m)(n.addListener)&&(0,Jn.m)(n.removeListener)}(n)?nS.map(jy(n,t)):function sS(n){return(0,Jn.m)(n.on)&&(0,Jn.m)(n.off)}(n)?iS.map(jy(n,t)):[];if(!r&&(0,hD.z)(n))return(0,M.z)(u=>tc(u,t,e))((0,yr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Hn.y(u=>{const h=(...m)=>u.next(1<m.length?m:m[0]);return r(h),()=>s(h)})}function jy(n,t){return e=>i=>n[e](t,i)}var lm=L(4408);const Bf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Bf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ci.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Bf;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Bf;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var pD=L(7565);new class aS extends pD.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class fD extends lm.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Bf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Bf.cancelAnimationFrame(e),t._scheduled=void 0)}});let $y,cS=1;const cm={};function gD(n){return n in cm&&(delete cm[n],!0)}const mD={setImmediate(n){const t=cS++;return cm[t]=!0,$y||($y=Promise.resolve()),$y.then(()=>gD(t)&&n()),t},clearImmediate(n){gD(n)}},{setImmediate:dS,clearImmediate:hS}=mD,Uf={setImmediate(...n){const{delegate:t}=Uf;return(t?.setImmediate||dS)(...n)},clearImmediate(n){const{delegate:t}=Uf;return(t?.clearImmediate||hS)(n)},delegate:void 0};new class pS extends pD.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class fS extends lm.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Uf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Uf.clearImmediate(e),t._scheduled=void 0)}});var yD=L(3532);function bD(n,t=ua.z){return function zy(n){return(0,Ln.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const v=r;r=null,e.next(v)}u&&e.complete()},m=()=>{s=null,u&&e.complete()};t.subscribe((0,Mn.x)(e,v=>{i=!0,r=v,s||(0,yr.Xf)(n(v)).subscribe(s=(0,Mn.x)(e,h,m))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function vD(n=0,t,e=ua.P){let i=-1;return null!=t&&((0,yD.K)(t)?e=t:i=t),new Hn.y(r=>{let s=function qy(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}const Yy=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function mS(){return(0,a.f3M)(re)}}),wD=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Cs=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Qd(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?wD.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Yy,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),ED=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ft.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Hn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(bD(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(I(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=cl(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(Di),a.LFG(re,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gf=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ft.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(bD(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Di),a.LFG(a.R0b),a.LFG(re,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),AD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Hf,Zy,Hf,Zy]}),n})();class Ky{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jf extends Ky{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class um extends Ky{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class DS extends Ky{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class Qy{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jf?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof um?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof DS?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $f extends Qy{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Xd=(()=>{class n extends Qy{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(re))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),Jd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var $s=L(6451);const ID=Ud();class SD{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=jn(-this._previousScrollPosition.left),t.style.top=jn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ID&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ID&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class SS{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class TD{enable(){}disable(){}attach(){}}function lu(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function MD(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Xy{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();lu(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let da=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new TD,this.close=u=>new SS(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new SD(this._viewportRuler,this._document),this.reposition=u=>new Xy(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ED),a.LFG(Gf),a.LFG(a.R0b),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dm{constructor(t){if(this.scrollStrategy=new TD,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class TS{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let zf=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fm=(()=>{class n extends zf{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MS=(()=>{class n extends zf{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=rl(s)},this._clickListener=s=>{const u=rl(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const E=m[v];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const S=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re),a.LFG(Di),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pm=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Kg()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Kg()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re),a.LFG(Di))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eh{constructor(t,e,i,r,s,u,h,m,v,E=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new ft.x,this._attachments=new ft.x,this._detachments=new ft.x,this._locationChanges=Ci.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new ft.x,this._outsidePointerEvents=new ft.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(kn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=jn(this._config.width),t.height=jn(this._config.height),t.minWidth=jn(this._config.minWidth),t.minHeight=jn(this._config.minHeight),t.maxWidth=jn(this._config.maxWidth),t.maxHeight=jn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Wd(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Wi((0,$s.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Jy="cdk-overlay-connected-position-bounding-box",ev=/([A-Za-z%]+)$/;class tv{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ft.x,this._resizeSubscription=Ci.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Jy),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(m,e,h),E=this._getOverlayFit(v,e,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(E,v,i)?s.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:v,originPoint:m,position:h,overlayRect:e})}if(s.length){let h=null,m=-1;for(const v of s){const E=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);E>m&&(m=E,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&cu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Jy),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=kS(e);let{x:u,y:h}=t,m=this._getOffset(r,"x"),v=this._getOffset(r,"y");m&&(u+=m),v&&(h+=v);let N=0-h,H=h+s.height-i.height,z=this._subtractOverflows(s.width,0-u,u+s.width-i.width),te=this._subtractOverflows(s.height,N,H),pe=z*te;return{visibleArea:pe,isCompletelyWithinViewport:s.width*s.height===pe,fitsInViewportVertically:te===s.height,fitsInViewportHorizontally:z==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=RD(this._overlayRef.getConfig().minHeight),h=RD(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=u&&u<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=kS(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),m=Math.max(s.top-i.top-t.y,0),v=Math.max(s.left-i.left-t.x,0);let E=0,S=0;return E=r.width<=s.width?v||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,S=r.height<=s.height?m||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:E,y:S},{x:t.x+E,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new TS(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,h,E,S,N;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const H=Math.min(i.bottom-t.y+i.top,t.y),z=this._lastBoundingBoxSize.height;s=2*H,u=t.y-H,s>z&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-z/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)N=i.width-t.x+this._viewportMargin,E=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,E=i.right-t.x;else{const H=Math.min(i.right-t.x+i.left,t.x),z=this._lastBoundingBoxSize.width;E=2*H,S=t.x-H,E>z&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-z/2)}return{top:u,left:S,bottom:h,right:N,width:E,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=jn(i.height),r.top=jn(i.top),r.bottom=jn(i.bottom),r.width=jn(i.width),r.left=jn(i.left),r.right=jn(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=jn(s)),u&&(r.maxWidth=jn(u))}this._lastBoundingBoxSize=i,cu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){cu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){cu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();cu(i,this._getExactOverlayY(e,t,E)),cu(i,this._getExactOverlayX(e,t,E))}else i.position="static";let h="",m=this._getOffset(e,"x"),v=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=jn(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=jn(u.maxWidth):s&&(i.maxWidth="")),cu(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=jn(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=jn(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MD(t,i),isOriginOutsideView:lu(t,i),isOverlayClipped:MD(e,i),isOverlayOutsideView:lu(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Wd(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function cu(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function RD(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ev);return e&&"px"!==e?null:parseFloat(t)}return n||null}function kS(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const nv="cdk-global-overlay-wrapper";class iv{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(nv),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,S=this._xOffset,N="rtl"===this._overlayRef.getConfig().direction;let H="",z="",te="";m?te="flex-start":"center"===E?(te="center",N?z=S:H=S):N?"left"===E||"end"===E?(te="flex-end",H=S):("right"===E||"start"===E)&&(te="flex-start",z=S):"left"===E||"start"===E?(te="flex-start",H=S):("right"===E||"end"===E)&&(te="flex-end",z=S),t.position=this._cssPosition,t.marginLeft=m?"0":H,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":z,e.justifyContent=te,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(nv),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let rv=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new iv}flexibleConnectedTo(e){return new tv(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Gf),a.LFG(re),a.LFG(Di),a.LFG(pm))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RS=0,ha=(()=>{class n{constructor(e,i,r,s,u,h,m,v,E,S,N,H){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=m,this._document=v,this._directionality=E,this._location=S,this._outsideClickDispatcher=N,this._animationsModuleType=H}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new dm(e);return u.direction=u.direction||this._directionality.value,new eh(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+RS++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new $f(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(da),a.LFG(pm),a.LFG(a._Vd),a.LFG(rv),a.LFG(fm),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(re),a.LFG(Cs),a.LFG(Ne),a.LFG(MS),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const LD={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ha],useFactory:function ND(n){return()=>n.scrollStrategies.reposition()}};let qf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ha,LD],imports:[Hf,Jd,AD,AD]}),n})();function NS(n,t){}class Yf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let VD=(()=>{class n extends Qy{constructor(e,i,r,s,u,h,m,v){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=m,this._focusMonitor=v,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(E);return this._contentAttached(),S},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=jd(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=jd();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=jd())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(sm),a.Y36(re,8),a.Y36(Yf),a.Y36(im),a.Y36(a.R0b),a.Y36(eh),a.Y36(au))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&a.Gf(Xd,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&a.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,NS,0,0,"ng-template",0)},dependencies:[Xd],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class gm{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new ft.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ll(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const BD=new a.OlP("DialogScrollStrategy"),Nr=new a.OlP("DialogData"),th=new a.OlP("DefaultDialogConfig"),BS={provide:BD,deps:[ha],useFactory:function VS(n){return()=>n.scrollStrategies.block()}};let M1=0,US=(()=>{class n{constructor(e,i,r,s,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ft.x,this._afterOpenedAtThisLevel=new ft.x,this._ariaHiddenElements=new Map,this.afterAllClosed=co(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(x(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Yf,...i}).id=i.id||"cdk-dialog-"+M1++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),u=this._overlay.create(s),h=new gm(u,i),m=this._attachContainer(u,h,i);return h.containerInstance=m,this._attachDialogContent(e,h,m,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){mm(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){mm(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),mm(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new dm({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,u=[{provide:Yf,useValue:r},{provide:gm,useValue:i},{provide:eh,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=VD;const m=new jf(h,r.viewContainerRef,a.zs3.create({parent:s||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,i,r,s){if(e instanceof a.Rgc){const u=this._createInjector(s,i,r,void 0);let h={$implicit:s.data,dialogRef:i};s.templateContext&&(h={...h,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new um(e,null,h,u))}else{const u=this._createInjector(s,i,r,this._injector),h=r.attachComponentPortal(new jf(e,s.viewContainerRef,u,s.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r,s){const u=e.injector||e.viewContainerRef?.injector,h=[{provide:Nr,useValue:e.data},{provide:gm,useValue:i}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(i,e,r)):h.push(...e.providers)),e.direction&&(!u||!u.get(Cs,null,a.XFs.Optional))&&h.push({provide:Cs,useValue:{value:e.direction,change:Ke()}}),a.zs3.create({parent:u||s,providers:h})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,u)=>{s?u.setAttribute("aria-hidden",s):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ha),a.LFG(a.zs3),a.LFG(th,8),a.LFG(n,12),a.LFG(pm),a.LFG(BD))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function mm(n,t){let e=n.length;for(;e--;)t(n[e])}let UD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[US,BS],imports:[qf,Jd,dD,Jd]}),n})();const zD=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function $D(){return!0}});let Rn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Kg()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Hy),a.LFG(zD,8),a.LFG(re))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Hf,Hf]}),n})();function YD(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=sn(t)}}}function uu(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function nc(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=sn(t)}}}function WD(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Jg(e):this.defaultTabIndex}}}function ZD(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const P1=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function jS(){return(0,a.f3M)(a.soG)}});class br{constructor(){this._localeChanges=new ft.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const du=new a.OlP("mat-date-formats"),$S=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function sv(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let QD=(()=>{class n extends br{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return sv(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return sv(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return sv(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if($S.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(P1,8),a.LFG(Di))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const XD={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let zS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:br,useClass:QD}]}),n})(),JD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:du,useValue:XD}],imports:[zS]}),n})(),e0=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class t0{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ov={enterDuration:225,exitDuration:150},av=nl({passive:!0}),r0=["mousedown","touchstart"],ZS=["mouseup","mouseleave","touchend","touchcancel"];class s0{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=cl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...ov,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function L1(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,m=e-r.top,v=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=m-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(E);const S=window.getComputedStyle(E),H=S.transitionDuration,z="none"===S.transitionProperty||"0s"===H||"0s, 0s"===H,te=new t0(this,E,i,z);E.style.transform="scale3d(1, 1, 1)",te.state=0,i.persistent||(this._mostRecentTransientRipple=te);let pe=null;return!z&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ue=()=>this._finishRippleTransition(te),st=()=>this._destroyRipple(te);E.addEventListener("transitionend",Ue),E.addEventListener("transitioncancel",st),pe={onTransitionEnd:Ue,onTransitionCancel:st}}),this._activeRipples.set(te,pe),(z||!v)&&this._finishRippleTransition(te),te}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...ov,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=cl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(r0))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ZS),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=JI(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Vy(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,av)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(r0.forEach(t=>{this._triggerElement.removeEventListener(t,this,av)}),this._pointerUpEventsRegistered&&ZS.forEach(t=>{this._triggerElement.removeEventListener(t,this,av)}))}}const V1=new a.OlP("mat-ripple-global-options");let _m=(()=>{class n{constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new s0(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Di),a.Y36(V1,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),lv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Rn,Rn]}),n})(),B1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Rn]}),n})(),dv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lv,Sa,Rn,B1]}),n})();class JS{}const ul="*";function ym(n,t){return{type:7,name:n,definitions:t,options:{}}}function fa(n,t=null){return{type:4,styles:t,timings:n}}function c0(n,t=null){return{type:3,steps:n,options:t}}function tT(n,t=null){return{type:2,steps:n,options:t}}function ns(n){return{type:6,styles:n,offset:null}}function vm(n,t,e){return{type:0,name:n,styles:t,options:e}}function u0(n){return{type:5,steps:n}}function hu(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function nT(n=null){return{type:9,options:n}}function hv(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function rT(n){Promise.resolve().then(n)}class Lr{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class d0{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?rT(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function sT(n,t){}const or={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},oT={dialogContainer:ym("dialogContainer",[vm("void, exit",ns({opacity:0,transform:"scale(0.7)"})),vm("enter",ns({transform:"none"})),hu("* => enter",c0([fa("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",ns({transform:"none",opacity:1})),hv("@*",nT(),{optional:!0})]),or),hu("* => void, * => exit",c0([fa("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",ns({opacity:0})),hv("@*",nT(),{optional:!0})]),or)])};class ih{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=or.params.enterAnimationDuration,this.exitAnimationDuration=or.params.exitAnimationDuration}}let aT=(()=>{class n extends VD{constructor(e,i,r,s,u,h,m,v){super(e,i,r,s,u,h,m,v),this._animationStateChanged=new a.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(sm),a.Y36(re,8),a.Y36(ih),a.Y36(im),a.Y36(a.R0b),a.Y36(eh),a.Y36(au))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],features:[a.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),lT=(()=>{class n extends aT{constructor(e,i,r,s,u,h,m,v,E){super(e,i,r,s,u,h,m,E),this._changeDetectorRef=v,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||or.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||or.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(sm),a.Y36(re,8),a.Y36(ih),a.Y36(im),a.Y36(a.R0b),a.Y36(eh),a.Y36(a.sBO),a.Y36(au))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&a.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(a.Ikx("id",i._config.id),a.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._getAnimationState()))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,sT,0,0,"ng-template",0)},dependencies:[Xd],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[oT.dialogContainer]}}),n})();class bm{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new ft.x,this._beforeClosed=new ft.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(I(r=>"opened"===r.state),kn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(I(r=>"closed"===r.state),kn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,$s.T)(this.backdropClick(),this.keydownEvents().pipe(I(r=>27===r.keyCode&&!this.disableClose&&!ll(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function h0(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(I(e=>"closing"===e.state),kn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const fv=new a.OlP("MatDialogData"),cT=new a.OlP("mat-dialog-default-options"),pv=new a.OlP("mat-dialog-scroll-strategy"),f0={provide:pv,deps:[ha],useFactory:function dT(n){return()=>n.scrollStrategies.block()}};let hT=0,gv=(()=>{class n{constructor(e,i,r,s,u,h,m,v,E,S){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=m,this._dialogContainerType=v,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ft.x,this._afterOpenedAtThisLevel=new ft.x,this._idPrefix="mat-dialog-",this.afterAllClosed=co(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(x(void 0))),this._scrollStrategy=h,this._dialog=i.get(US)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new ih,...i}).id=i.id||`${this._idPrefix}${hT++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:ih,useValue:i},{provide:Yf,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,m)=>(r=new this._dialogRefConstructor(u,i,m),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),dl=(()=>{class n extends gv{constructor(e,i,r,s,u,h,m,v){super(e,i,s,h,m,u,bm,lT,fv,v)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ha),a.LFG(a.zs3),a.LFG(Ne,8),a.LFG(cT,8),a.LFG(pv),a.LFG(n,12),a.LFG(pm),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),pT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[dl,f0],imports:[UD,qf,Jd,Rn,Rn]}),n})();var wr=L(5813);function mv(){return(0,Ln.e)((n,t)=>{let e,i=!1;n.subscribe((0,Mn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}L(5881);var wt,$1=L(3942),De=L(5861),fu=L(9681),Kf=L(4859),pu=L(1877),dn=L(2090),g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pa={},wm=wm||{},zt=g0||self;function gu(){}function mu(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function rh(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Cm="closure_uid_"+(1e9*Math.random()>>>0),m0=0;function _T(n,t,e){return n.call.apply(n.bind,arguments)}function yT(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Vr(n,t,e){return(Vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_T:yT).apply(null,arguments)}function _v(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Zi(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function rc(){this.s=this.s,this.o=this.o}rc.prototype.s=!1,rc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function mT(n){Object.prototype.hasOwnProperty.call(n,Cm)&&n[Cm]||(n[Cm]=++m0)}(this)},rc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _0=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function y0(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function bT(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(mu(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Br(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var z1=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",gu,t),zt.removeEventListener("test",gu,t)}catch{}return n}();function yv(n){return/^[\s\xa0]*$/.test(n)}var v0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function sh(n,t){return n<t?-1:n>t?1:0}function Dm(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function ga(n){return-1!=Dm().indexOf(n)}function Em(n){return Em[" "](n),n}Em[" "]=gu;var wv,n,b0=ga("Opera"),sc=ga("Trident")||ga("MSIE"),xm=ga("Edge"),vv=xm||sc,Am=ga("Gecko")&&!(-1!=Dm().toLowerCase().indexOf("webkit")&&!ga("Edge"))&&!(ga("Trident")||ga("MSIE"))&&!ga("Edge"),bv=-1!=Dm().toLowerCase().indexOf("webkit")&&!ga("Edge");function Qf(){var n=zt.document;return n?n.documentMode:void 0}e:{var w0="",C0=(n=Dm(),Am?/rv:([^\);]+)(\)|;)/.exec(n):xm?/Edge\/([\d\.]+)/.exec(n):sc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bv?/WebKit\/(\S+)/.exec(n):b0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(C0&&(w0=C0?C0[1]:""),sc){var D0=Qf();if(null!=D0&&D0>parseFloat(w0)){wv=String(D0);break e}}wv=w0}var E0={};var CT=zt.document&&sc&&(Qf()||parseInt(wv,10))||void 0;function oh(n,t){if(Br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Am){e:{try{Em(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:A0[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&oh.X.h.call(this)}}Zi(oh,Br);var A0={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ah="closure_listenable_"+(1e6*Math.random()|0),DT=0;function ET(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++DT,this.ba=this.ea=!1}function Xf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Jf(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function xT(n){const t={};for(const e in n)t[e]=n[e];return t}const Dv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Im(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Dv.length;s++)e=Dv[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Sm(n){this.src=n,this.g={},this.h=0}function Ev(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=_0(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Xf(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function I0(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}Sm.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=I0(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new ET(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var S0="closure_lm_"+(1e6*Math.random()|0),xv={};function T0(n,t,e,i,r){if(i&&i.once)return AT(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)T0(n,t[s],e,i,r);return null}return e=F0(e),n&&n[ah]?n.N(t,e,rh(i)?!!i.capture:!!i,r):M0(n,t,e,!1,i,r)}function M0(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=rh(r)?!!r.capture:!!r,h=R0(n);if(h||(n[S0]=h=new Sm(n)),(e=h.add(t,e,i,u,s)).proxy)return e;if(i=function q1(){const t=TT;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)z1||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(ST(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function AT(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)AT(n,t[s],e,i,r);return null}return e=F0(e),n&&n[ah]?n.O(t,e,rh(i)?!!i.capture:!!i,r):M0(n,t,e,!0,i,r)}function IT(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)IT(n,t[s],e,i,r);else i=rh(i)?!!i.capture:!!i,e=F0(e),n&&n[ah]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=I0(s=n.g[t],e,i,r))&&(Xf(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=R0(n))&&(t=n.g[t.toString()],n=-1,t&&(n=I0(t,e,i,r)),(e=-1<n?t[n]:null)&&k0(e))}function k0(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[ah])Ev(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(ST(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=R0(t))?(Ev(e,n),0==e.h&&(e.src=null,t[S0]=null)):Xf(n)}}}function ST(n){return n in xv?xv[n]:xv[n]="on"+n}function TT(n,t){if(n.ba)n=!0;else{t=new oh(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&k0(n),n=e.call(i,t)}return n}function R0(n){return(n=n[S0])instanceof Sm?n:null}var O0="__closure_events_fn_"+(1e9*Math.random()>>>0);function F0(n){return"function"==typeof n?n:(n[O0]||(n[O0]=function(t){return n.handleEvent(t)}),n[O0])}function ar(){rc.call(this),this.i=new Sm(this),this.P=this,this.I=null}function Cr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Br(t,n);else if(t instanceof Br)t.target=t.target||n;else{var r=t;Im(t=new Br(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=Av(u,i,!0,t)&&r}if(r=Av(u=t.g=n,i,!0,t)&&r,r=Av(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Av(u=t.g=e[s],i,!1,t)&&r}function Av(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ba&&u.capture==e){var h=u.listener,m=u.ha||u.src;u.ea&&Ev(n.i,u),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}Zi(ar,rc),ar.prototype[ah]=!0,ar.prototype.removeEventListener=function(n,t,e,i){IT(this,n,t,e,i)},ar.prototype.M=function(){if(ar.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Xf(e[i]);delete n.g[t],n.h--}}this.I=null},ar.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ar.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var o=zt.JSON.stringify;function l(){var n=O;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var w,d=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new f,n=>n.reset());class f{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function p(n){zt.setTimeout(()=>{throw n},0)}function y(n,t){w||function D(){var n=zt.Promise.resolve(void 0);w=function(){n.then(V)}}(),T||(w(),T=!0),O.add(n,t)}var T=!1,O=new class c{constructor(){this.h=this.g=null}add(t,e){const i=d.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function V(){for(var n;n=l();){try{n.h.call(n.g)}catch(e){p(e)}var t=d;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}T=!1}function K(n,t){ar.call(this),this.h=n||1,this.g=t||zt,this.j=Vr(this.lb,this),this.l=Date.now()}function se(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Ee(n,t,e){if("function"==typeof n)e&&(n=Vr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vr(n.handleEvent,n)}return 2147483647<Number(t)?-1:zt.setTimeout(n,t||0)}function ze(n){n.g=Ee(()=>{n.g=null,n.i&&(n.i=!1,ze(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Zi(K,ar),(wt=K.prototype).ca=!1,wt.R=null,wt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Cr(this,"tick"),this.ca&&(se(this),this.start()))}},wt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wt.M=function(){K.X.M.call(this),se(this),delete this.g};class Ze extends rc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ze(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(n){rc.call(this),this.h=n,this.g={}}Zi(ut,rc);var St=[];function Fe(n,t,e,i){Array.isArray(e)||(e&&(St[0]=e.toString()),e=St);for(var r=0;r<e.length;r++){var s=T0(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function kt(n){Jf(n.g,function(t,e){this.g.hasOwnProperty(e)&&k0(t)},n),n.g={}}function hn(){this.g=!0}function oc(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Sv(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return o(e)}catch{return t}}(n,e)+(i?" "+i:"")})}ut.prototype.M=function(){ut.X.M.call(this),kt(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hn.prototype.Aa=function(){this.g=!1},hn.prototype.info=function(){};var hl={},Tm=null;function lh(){return Tm=Tm||new ar}function Mm(n){Br.call(this,hl.Pa,n)}function vu(n){const t=lh();Cr(t,new Mm(t))}function km(n,t){Br.call(this,hl.STAT_EVENT,n),this.stat=t}function Ds(n){const t=lh();Cr(t,new km(t,n))}function Y1(n,t){Br.call(this,hl.Qa,n),this.size=t}function Tv(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},t)}hl.Pa="serverreachability",Zi(Mm,Br),hl.STAT_EVENT="statevent",Zi(km,Br),hl.Qa="timingevent",Zi(Y1,Br);var P0={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},W1={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function MT(){}function K1(){}MT.prototype.h=null;var OT,Mv={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function kT(){Br.call(this,"d")}function RT(){Br.call(this,"c")}function N0(){}function kv(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new ut(this),this.O=xH,this.T=new K(n=vv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Q1}function Q1(){this.i=null,this.g="",this.h=!1}Zi(kT,Br),Zi(RT,Br),Zi(N0,MT),N0.prototype.g=function(){return new XMLHttpRequest},N0.prototype.i=function(){return{}},OT=new N0;var xH=45e3,FT={},L0={};function PT(n,t,e){n.K=1,n.v=H0(bu(t)),n.s=e,n.P=!0,X1(n,null)}function X1(n,t){n.F=Date.now(),Rv(n),n.A=bu(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),lP(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Q1,n.g=RP(n.l,e?t:null,!n.s),0<n.N&&(n.L=new Ze(Vr(n.La,n,n.g),n.N)),Fe(n.S,n.g,"readystatechange",n.ib),t=n.H?xT(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),vu(),function ei(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var E=v[0];v=v[1];var S=E.split("_");u=2<=S.length&&"type"==S[1]?u+(E+"=")+v+"&":u+(E+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function J1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function eP(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=AH(n,e),r==L0){4==t&&(n.o=4,Ds(14),i=!1),oc(n.j,n.m,null,"[Incomplete Response]");break}if(r==FT){n.o=4,Ds(15),oc(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}oc(n.j,n.m,r,null),NT(n,r)}J1(n)&&r!=L0&&r!=FT&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ds(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),$T(t),t.K=!0,Ds(11))):(oc(n.j,n.m,e,"[Invalid Chunked Response]"),ep(n),Ov(n))}function AH(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?L0:(e=Number(t.substring(e,i)),isNaN(e)?FT:(i+=1)+e>t.length?L0:(t=t.substr(i,e),n.C=i+e,t))}function Rv(n){n.V=Date.now()+n.O,tP(n,n.O)}function tP(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Tv(Vr(n.gb,n),t)}function V0(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function Ov(n){0==n.l.G||n.I||SP(n.l,n)}function ep(n){V0(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,se(n.T),kt(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function NT(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||LT(e.h,n)))if(!n.J&&LT(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Y0(e),z0(e)}jT(e),Ds(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Tv(Vr(e.cb,e),6e3));if(1>=dP(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else np(e,11)}else if((n.J||e.g==n)&&Y0(e),!yv(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.T=v[0],v=v[1],2==e.G)if("c"==v[0]){e.I=v[1],e.ka=v[2];const E=v[3];null!=E&&(e.ma=E,e.j.info("VER="+e.ma));const S=v[4];null!=S&&(e.Ca=S,e.j.info("SVER="+e.Ca));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(e.J=i=1.5*N,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const H=n.g;if(H){const z=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var s=i.h;s.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(VT(s,s.h),s.h=null))}if(i.D){const te=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(i.za=te,gi(i.F,i.D,te))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=kP(i,i.H?i.ka:null,i.V),u.J){hP(i.h,u);var h=u,m=i.J;m&&h.setTimeout(m),h.B&&(V0(h),Rv(h)),i.g=u}else AP(i);0<e.i.length&&q0(e)}else"stop"!=v[0]&&"close"!=v[0]||np(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?np(e,7):GT(e):"noop"!=v[0]&&e.l&&e.l.wa(v),e.A=0)}vu()}catch{}}function nP(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(mu(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function SH(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(mu(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function IH(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(mu(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(wt=kv.prototype).setTimeout=function(n){this.O=n},wt.ib=function(n){n=n.target;const t=this.L;t&&3==wu(n)?t.l():this.La(n)},wt.La=function(n){try{if(n==this.g)e:{const E=wu(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||vv||this.g&&(this.h.h||this.g.fa()||bP(this.g)))){this.I||4!=E||7==t||vu(),V0(this);var e=this.g.aa();this.Y=e;t:if(J1(this)){var i=bP(this.g);n="";var r=i.length,s=4==wu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ep(this),Ov(this);var u="";break t}this.h.i=new zt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function yu(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yv(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Ds(12),ep(this),Ov(this);break e}oc(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,NT(this,e)}this.P?(eP(this,E,u),vv&&this.i&&3==E&&(Fe(this.S,this.T,"tick",this.hb),this.T.start())):(oc(this.j,this.m,u,null),NT(this,u)),4==E&&ep(this),this.i&&!this.I&&(4==E?SP(this.l,this):(this.i=!1,Rv(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Ds(12)):(this.o=0,Ds(13)),ep(this),Ov(this)}}}catch{}},wt.hb=function(){if(this.g){var n=wu(this.g),t=this.g.fa();this.C<t.length&&(V0(this),eP(this,n,t),this.i&&4!=n&&Rv(this))}},wt.cancel=function(){this.I=!0,ep(this)},wt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Iv(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(vu(),Ds(17)),ep(this),this.o=2,Ov(this)):tP(this,this.V-n)};var iP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tp(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tp){this.h=void 0!==t?t:n.h,B0(this,n.j),this.s=n.s,this.g=n.g,U0(this,n.m),this.l=n.l,t=n.i;var e=new Nv;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),rP(this,e),this.o=n.o}else n&&(e=String(n).match(iP))?(this.h=!!t,B0(this,e[1]||"",!0),this.s=Fv(e[2]||""),this.g=Fv(e[3]||"",!0),U0(this,e[4]),this.l=Fv(e[5]||"",!0),rP(this,e[6]||"",!0),this.o=Fv(e[7]||"")):(this.h=!!t,this.i=new Nv(null,this.h))}function bu(n){return new tp(n)}function B0(n,t,e){n.j=e?Fv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function U0(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function rP(n,t,e){t instanceof Nv?(n.i=t,function PH(n,t){t&&!n.j&&(ch(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(oP(this,i),lP(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Pv(t,OH)),n.i=new Nv(t,n.h))}function gi(n,t,e){n.i.set(t,e)}function H0(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,MH),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function MH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Pv(t,sP,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Pv(t,sP,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Pv(e,"/"==e.charAt(0)?RH:kH,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Pv(e,FH)),n.join("")};var sP=/[#\/\?@]/g,kH=/[#\?:]/g,RH=/[#\?]/g,OH=/[#\?@]/g,FH=/#/g;function Nv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ch(n){n.g||(n.g=new Map,n.h=0,n.i&&function TH(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function oP(n,t){ch(n),t=Rm(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function aP(n,t){return ch(n),t=Rm(n,t),n.g.has(t)}function lP(n,t,e){oP(n,t),0<e.length&&(n.i=null,n.g.set(Rm(n,t),y0(e)),n.h+=e.length)}function Rm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function cP(n){this.l=n||LH,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wt=Nv.prototype).add=function(n,t){ch(this),this.i=null,n=Rm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},wt.forEach=function(n,t){ch(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},wt.oa=function(){ch(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},wt.W=function(n){ch(this);let t=[];if("string"==typeof n)aP(this,n)&&(t=t.concat(this.g.get(Rm(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},wt.set=function(n,t){return ch(this),this.i=null,aP(this,n=Rm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},wt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var LH=10;function uP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dP(n){return n.h?1:n.g?n.g.size:0}function LT(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function VT(n,t){n.g?n.g.add(t):n.h=t}function hP(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function fP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return y0(n.i)}function BT(){}function VH(){this.g=new BT}function BH(n,t,e){const i=e||"";try{nP(n,function(r,s){let u=r;rh(r)&&(u=o(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function G0(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Lv(n){this.l=n.ac||null,this.j=n.jb||!1}function j0(n,t){ar.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=UT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cP.prototype.cancel=function(){if(this.i=fP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},BT.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},BT.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},Zi(Lv,MT),Lv.prototype.g=function(){return new j0(this.l,this.j)},Lv.prototype.i=function(n){return function(){return n}}({}),Zi(j0,ar);var UT=0;function pP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Vv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bv(n)}function Bv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(wt=j0.prototype).open=function(n,t){if(this.readyState!=UT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Bv(this)},wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||zt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vv(this)),this.readyState=UT},wt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bv(this)),this.g&&(this.readyState=3,Bv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},wt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Vv(this):Bv(this),3==this.readyState&&pP(this)}},wt.Va=function(n){this.g&&(this.response=this.responseText=n,Vv(this))},wt.Ua=function(n){this.g&&(this.response=n,Vv(this))},wt.ga=function(){this.g&&Vv(this)},wt.setRequestHeader=function(n,t){this.v.append(n,t)},wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(j0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var HH=zt.JSON.parse;function Ti(n){ar.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gP,this.K=this.L=!1}Zi(Ti,ar);var gP="",GH=/^https?$/i,jH=["POST","PUT"];function mP(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,_P(n),$0(n)}function _P(n){n.D||(n.D=!0,Cr(n,"complete"),Cr(n,"error"))}function yP(n){if(n.h&&typeof wm<"u"&&(!n.C[1]||4!=wu(n)||2!=n.aa()))if(n.v&&4==wu(n))Ee(n.Ha,0,n);else if(Cr(n,"readystatechange"),4==wu(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(iP)[1]||null;if(!r&&zt.self&&zt.self.location){var s=zt.self.location.protocol;r=s.substr(0,s.length-1)}i=!GH.test(r?r.toLowerCase():"")}e=i}if(e)Cr(n,"complete"),Cr(n,"success");else{n.m=6;try{var u=2<wu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",_P(n)}}finally{$0(n)}}}function $0(n,t){if(n.g){vP(n);const e=n.g,i=n.C[0]?gu:null;n.g=null,n.C=null,t||Cr(n,"ready");try{e.onreadystatechange=i}catch{}}}function vP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function wu(n){return n.g?n.g.readyState:0}function bP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case gP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wP(n){let t="";return Jf(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function HT(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=wP(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):gi(n,t,e))}function Uv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function CP(n){this.Ca=0,this.i=[],this.j=new hn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Uv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Uv("baseRetryDelayMs",5e3,n),this.bb=Uv("retryDelaySeedMs",1e4,n),this.$a=Uv("forwardChannelMaxRetries",2,n),this.ta=Uv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new cP(n&&n.concurrentRequestLimit),this.Fa=new VH,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function GT(n){if(DP(n),3==n.G){var t=n.U++,e=bu(n.F);gi(e,"SID",n.I),gi(e,"RID",t),gi(e,"TYPE","terminate"),Hv(n,e),(t=new kv(n,n.j,t,void 0)).K=2,t.v=H0(bu(e)),e=!1,zt.navigator&&zt.navigator.sendBeacon&&(e=zt.navigator.sendBeacon(t.v.toString(),"")),!e&&zt.Image&&((new Image).src=t.v,e=!0),e||(t.g=RP(t.l,null),t.g.da(t.v)),t.F=Date.now(),Rv(t)}MP(n)}function z0(n){n.g&&($T(n),n.g.cancel(),n.g=null)}function DP(n){z0(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Y0(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function q0(n){uP(n.h)||n.m||(n.m=!0,y(n.Ja,n),n.C=0)}function EP(n,t){var e;e=t?t.m:n.U++;const i=bu(n.F);gi(i,"SID",n.I),gi(i,"RID",e),gi(i,"AID",n.T),Hv(n,i),n.o&&n.s&&HT(i,n.o,n.s),e=new kv(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=xP(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),VT(n.h,e),PT(e,i,t)}function Hv(n,t){n.ia&&Jf(n.ia,function(e,i){gi(t,i,e)}),n.l&&nP({},function(e,i){gi(t,i,e)})}function xP(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Vr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let m=0;m<e;m++){let v=r[m].h;const E=r[m].g;if(v-=s,0>v)s=Math.max(0,r[m].h-100),h=!1;else try{BH(E,u,"req"+v+"_")}catch{i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function AP(n){n.g||n.u||(n.Z=1,y(n.Ia,n),n.A=0)}function jT(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Tv(Vr(n.Ia,n),TP(n,n.A)),n.A++,0))}function $T(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function IP(n){n.g=new kv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=bu(n.sa);gi(t,"RID","rpc"),gi(t,"SID",n.I),gi(t,"CI",n.L?"0":"1"),gi(t,"AID",n.T),gi(t,"TYPE","xmlhttp"),Hv(n,t),n.o&&n.s&&HT(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=H0(bu(t)),e.s=null,e.P=!0,X1(e,n)}function Y0(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function SP(n,t){var e=null;if(n.g==t){Y0(n),$T(n),n.g=null;var i=2}else{if(!LT(n.h,t))return;e=t.D,hP(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Cr(i=lh(),new Y1(i,e)),q0(n)}else AP(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function zH(n,t){return!(dP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Tv(Vr(n.Ja,n,t),TP(n,n.C)),n.C++,0)))}(n,t)||2==i&&jT(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:np(n,5);break;case 4:np(n,10);break;case 3:np(n,6);break;default:np(n,2)}}function TP(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function np(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Vr(n.kb,n);e||(e=new tp("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||B0(e,"https"),H0(e)),function UH(n,t){const e=new hn;if(zt.Image){const i=new Image;i.onload=_v(G0,e,i,"TestLoadImage: loaded",!0,t),i.onerror=_v(G0,e,i,"TestLoadImage: error",!1,t),i.onabort=_v(G0,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=_v(G0,e,i,"TestLoadImage: timeout",!1,t),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ds(2);n.G=0,n.l&&n.l.va(t),MP(n),DP(n)}function MP(n){if(n.G=0,n.la=[],n.l){const t=fP(n.h);(0!=t.length||0!=n.i.length)&&(bT(n.la,t),bT(n.la,n.i),n.h.i.length=0,y0(n.i),n.i.length=0),n.l.ua()}}function kP(n,t,e){var i=e instanceof tp?bu(e):new tp(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),U0(i,i.m);else{var r=zt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new tp(null,void 0);i&&B0(s,i),t&&(s.g=t),r&&U0(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&gi(i,e,t),gi(i,"VER",n.ma),Hv(n,i),i}function RP(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ti(e&&n.Da&&!n.ra?new Lv({jb:!0}):n.ra)).Ka(n.H),t}function OP(){}function W0(){if(sc&&!(10<=Number(CT)))throw Error("Environmental error: no available transport.")}function vo(n,t){ar.call(this),this.g=new CP(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!yv(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yv(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Om(this)}function FP(n){kT.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function PP(){RT.call(this),this.status=1}function Om(n){this.g=n}(wt=Ti.prototype).Ka=function(n){this.L=n},wt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():OT.g(),this.C=function Z1(n){return n.h||(n.h=n.i())}(this.u?this.u:OT),this.g.onreadystatechange=Vr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void mP(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=_0(jH,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of e)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vP(this),0<this.B&&((this.K=function $H(n){return sc&&function wT(){return function _u(n){var t=E0;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=v0(String(wv)).split("."),e=v0("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",s=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=sh(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||sh(0==r[2].length,0==s[2].length)||sh(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vr(this.qa,this)):this.A=Ee(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){mP(this,s)}},wt.qa=function(){typeof wm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cr(this,"complete"),Cr(this,"abort"),$0(this))},wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$0(this,!0)),Ti.X.M.call(this)},wt.Ha=function(){this.s||(this.F||this.v||this.l?yP(this):this.fb())},wt.fb=function(){yP(this)},wt.aa=function(){try{return 2<wu(this)?this.g.status:-1}catch{return-1}},wt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},wt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),HH(t)}},wt.Ea=function(){return this.m},wt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(wt=CP.prototype).ma=8,wt.G=1,wt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new kv(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=xT(s),Im(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=xP(this,r,t),gi(e=bu(this.F),"RID",n),gi(e,"CVER",22),this.D&&gi(e,"X-HTTP-Session-Id",this.D),Hv(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(wP(s)))+"&"+t:this.o&&HT(e,this.o,s)),VT(this.h,r),this.Ya&&gi(e,"TYPE","init"),this.O?(gi(e,"$req",t),gi(e,"SID","null"),r.Z=!0,PT(r,e,null)):PT(r,e,t),this.G=2}}else 3==this.G&&(n?EP(this,n):0==this.i.length||uP(this.h)||EP(this))},wt.Ia=function(){if(this.u=null,IP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Tv(Vr(this.eb,this),n)}},wt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ds(10),z0(this),IP(this))},wt.cb=function(){null!=this.v&&(this.v=null,z0(this),jT(this),Ds(19))},wt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ds(2)):(this.j.info("Failed to ping google.com"),Ds(1))},(wt=OP.prototype).xa=function(){},wt.wa=function(){},wt.va=function(){},wt.ua=function(){},wt.Ra=function(){},W0.prototype.g=function(n,t){return new vo(n,t)},Zi(vo,ar),vo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Ds(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=kP(n,null,n.V),q0(n)},vo.prototype.close=function(){GT(this.g)},vo.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=o(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&q0(t)},vo.prototype.M=function(){this.g.l=null,delete this.j,GT(this.g),delete this.g,vo.X.M.call(this)},Zi(FP,kT),Zi(PP,RT),Zi(Om,OP),Om.prototype.xa=function(){Cr(this.g,"a")},Om.prototype.wa=function(n){Cr(this.g,new FP(n))},Om.prototype.va=function(n){Cr(this.g,new PP)},Om.prototype.ua=function(){Cr(this.g,"b")},W0.prototype.createWebChannel=W0.prototype.g,vo.prototype.send=vo.prototype.u,vo.prototype.open=vo.prototype.m,vo.prototype.close=vo.prototype.close,P0.NO_ERROR=0,P0.TIMEOUT=8,P0.HTTP_ERROR=6,W1.COMPLETE="complete",K1.EventType=Mv,Mv.OPEN="a",Mv.CLOSE="b",Mv.ERROR="c",Mv.MESSAGE="d",ar.prototype.listen=ar.prototype.N,Ti.prototype.listenOnce=Ti.prototype.O,Ti.prototype.getLastError=Ti.prototype.Oa,Ti.prototype.getLastErrorCode=Ti.prototype.Ea,Ti.prototype.getStatus=Ti.prototype.aa,Ti.prototype.getResponseJson=Ti.prototype.Sa,Ti.prototype.getResponseText=Ti.prototype.fa,Ti.prototype.send=Ti.prototype.da,Ti.prototype.setWithCredentials=Ti.prototype.Ka;var qH=pa.createWebChannelTransport=function(){return new W0},YH=pa.getStatEventTarget=function(){return lh()},zT=pa.ErrorCode=P0,WH=pa.EventType=W1,ZH=pa.Event=hl,NP=pa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},KH=pa.FetchXmlHttpFactory=Lv,Z0=pa.WebChannel=K1,QH=pa.XhrIo=Ti;const LP="@firebase/firestore";class Dr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");let Fm="9.13.0";const uh=new pu.Yd("@firebase/firestore");function qT(){return uh.logLevel}function $e(n,...t){if(uh.logLevel<=pu.in.DEBUG){const e=t.map(YT);uh.debug(`Firestore (${Fm}): ${n}`,...e)}}function Bi(n,...t){if(uh.logLevel<=pu.in.ERROR){const e=t.map(YT);uh.error(`Firestore (${Fm}): ${n}`,...e)}}function ip(n,...t){if(uh.logLevel<=pu.in.WARN){const e=t.map(YT);uh.warn(`Firestore (${Fm}): ${n}`,...e)}}function YT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const t=`FIRESTORE (${Fm}) INTERNAL ASSERTION FAILED: `+n;throw Bi(t),new Error(t)}function Ut(n,t){n||pt()}function nt(n,t){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends dn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class VP{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Dr.UNAUTHENTICATED))}shutdown(){}}class tG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class nG{constructor(t){this.t=t,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,De.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},m=v=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new VP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(null===t||"string"==typeof t),new Dr(t)}}class iG{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class rG{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new iG(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BP{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sG{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ut("string"==typeof e.token),this.A=e.token,new BP(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oG(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class UP{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=oG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Kt(n,t){return n<t?-1:n>t?1:0}function Pm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function HP(n){return n+"\0"}class mi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return mi.fromMillis(Date.now())}static fromDate(t){return mi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new mi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new mi(0,0))}static max(){return new Ht(new mi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gv{constructor(t,e,i){void 0===e?e=0:e>t.length&&pt(),void 0===i?i=t.length-e:i>t.length-e&&pt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Gv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class vn extends Gv{construct(t,e,i){return new vn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ve(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new vn(e)}static emptyPath(){return new vn([])}}const aG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mi extends Gv{construct(t,e,i){return new Mi(t,e,i)}static isValidIdentifier(t){return aG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ve(ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ve(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ve(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new Ve(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Mi(e)}static emptyPath(){return new Mi([])}}class Xe{constructor(t){this.path=t}static fromPath(t){return new Xe(vn.fromString(t))}static fromName(t){return new Xe(vn.fromString(t).popFirst(5))}static empty(){return new Xe(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===vn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return vn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xe(new vn(t.slice()))}}class K0{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function WT(n){return n.fields.find(t=>2===t.kind)}function rp(n){return n.fields.filter(t=>2!==t.kind)}K0.UNKNOWN_ID=-1;class Q0{constructor(t,e){this.fieldPath=t,this.kind=e}}class jv{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new jv(0,bo.min())}}function GP(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ht.fromTimestamp(1e9===i?new mi(e+1,0):new mi(e,i));return new bo(r,Xe.empty(),t)}function jP(n){return new bo(n.readTime,n.key,-1)}class bo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new bo(Ht.min(),Xe.empty(),-1)}static max(){return new bo(Ht.max(),Xe.empty(),-1)}}function ZT(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Xe.comparator(n.documentKey,t.documentKey),0!==e?e:Kt(n.largestBatchId,t.largestBatchId))}const $P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function dh(n){return KT.apply(this,arguments)}function KT(){return KT=(0,De.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==$P)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),KT.apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof fe?e:fe.resolve(e)}catch(e){return fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.reject(e)}static resolve(t){return new fe((e,i)=>{e(t)})}static reject(t){return new fe((e,i)=>{i(t)})}static waitFor(t){return new fe((e,i)=>{let r=0,s=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&e()},m=>i(m))}),u=!0,s===r&&e()})}static or(t){let e=fe.resolve(!1);for(const i of t)e=e.next(r=>r?fe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new fe((i,r)=>{const s=t.length,u=new Array(s);let h=0;for(let m=0;m<s;m++){const v=m;e(t[v]).next(E=>{u[v]=E,++h,h===s&&i(u)},E=>r(E))}})}static doWhile(t,e){return new fe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class X0{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new lr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new $v(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=QT(i.target.error);this.P.reject(new $v(t,r))}}static open(t,e,i,r){try{return new X0(e,t.transaction(r,i))}catch(s){throw new $v(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new dG(e)}}class fl{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===fl.D((0,dn.z$)())&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),sp(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,dn.hl)())return!1;if(fl.N())return!0;const t=(0,dn.z$)(),e=fl.D(t),i=0<e&&e<10,r=fl.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,De.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new $v(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ve(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ve(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new $v(t,h))},s.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,De.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.F(t);const m=X0.open(s.db,t,u?"readonly":"readwrite",i),v=r(m).next(E=>(m.V(),E)).catch(E=>(m.abort(E),fe.reject(E))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,E="FirebaseError"!==v.name&&h<3;if($e("SimpleDb","Transaction failed with error:",v.message,"Retrying:",E),s.close(),!E)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class uG{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return sp(this.U.delete())}}class $v extends Ve{constructor(t,e){super(ve.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function hh(n){return"IndexedDbTransactionError"===n.name}class dG{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),sp(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),sp(this.store.add(t))}get(t){return sp(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),sp(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),sp(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new fe((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new fe((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new fe((i,r)=>{e.onerror=s=>{const u=QT(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new fe((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const m=new uG(h),v=e(h.primaryKey,h.value,m);if(v instanceof fe){const E=v.catch(S=>(m.done(),fe.reject(S)));i.push(E)}m.isDone?r():null===m.G?h.continue():h.continue(m.G)}}).next(()=>fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function sp(n){return new fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=QT(i.target.error);e(r)}})}let qP=!1;function QT(n){const t=fl.D((0,dn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qP||(qP=!0,setTimeout(()=>{throw i},0)),i}}return n}class hG{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;$e("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,De.Z)(function*(){e.task=null;try{$e("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){hh(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield dh(i)}yield e.nt(6e4)}))}}class fG{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,De.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return fe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return $e("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,s)).next(h=>($e("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const u=jP(s);ZT(u,i)>0&&(i=u)}),new bo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class zs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function YP(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function op(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function WP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}zs.at=-1;class ki{constructor(t,e){this.comparator=t,this.root=e||Ur.EMPTY}insert(t,e){return new ki(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(t){return new ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new J0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new J0(this.root,t,this.comparator,!1)}getReverseIterator(){return new J0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new J0(this.root,t,this.comparator,!0)}}class J0{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ur{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Ur.RED,this.left=r??Ur.EMPTY,this.right=s??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Ur(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ur.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ur(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(t){this.comparator=t,this.data=new ki(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ZP(this.data.getIterator())}getIteratorFrom(t){return new ZP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof $n)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $n(this.comparator);return e.data=t,e}}class ZP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nm(n){return n.hasNext()?n.getNext():void 0}class wo{constructor(t){this.fields=t,t.sort(Mi.comparator)}static empty(){return new wo([])}unionWith(t){let e=new $n(Mi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new wo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Pm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class cr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new cr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new cr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const gG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fh(n){if(Ut(!!n),"string"==typeof n){let t=0;const e=gG.exec(n);if(Ut(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ri(n.seconds),nanos:Ri(n.nanos)}}function Ri(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ap(n){return"string"==typeof n?cr.fromBase64String(n):cr.fromUint8Array(n)}function XT(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function KP(n){const t=n.mapValue.fields.__previous_value__;return XT(t)?KP(t):t}function zv(n){const t=fh(n.mapValue.fields.__local_write_time__.timestampValue);return new mi(t.seconds,t.nanos)}class mG{constructor(t,e,i,r,s,u,h,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class ph{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ph("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ph&&t.projectId===this.projectId&&t.database===this.database}}function qv(n){return null==n}function Yv(n){return 0===n&&1/n==-1/0}function QP(n){return"number"==typeof n&&Number.isInteger(n)&&!Yv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const gh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eE={nullValue:"NULL_VALUE"};function lp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XT(n)?4:tN(n)?9007199254740991:10:pt()}function ac(n,t){if(n===t)return!0;const e=lp(n);if(e!==lp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return zv(n).isEqual(zv(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=fh(i.timestampValue),u=fh(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,ap(n.bytesValue).isEqual(ap(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ri(i.geoPointValue.latitude)===Ri(r.geoPointValue.latitude)&&Ri(i.geoPointValue.longitude)===Ri(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ri(i.integerValue)===Ri(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ri(i.doubleValue),u=Ri(r.doubleValue);return s===u?Yv(s)===Yv(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return Pm(n.arrayValue.values||[],t.arrayValue.values||[],ac);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(YP(s)!==YP(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!ac(s[h],u[h])))return!1;return!0}(n,t);default:return pt()}var r}function Wv(n,t){return void 0!==(n.values||[]).find(e=>ac(e,t))}function mh(n,t){if(n===t)return 0;const e=lp(n),i=lp(t);if(e!==i)return Kt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=Ri(r.integerValue||r.doubleValue),h=Ri(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return XP(n.timestampValue,t.timestampValue);case 4:return XP(zv(n),zv(t));case 5:return Kt(n.stringValue,t.stringValue);case 6:return function(r,s){const u=ap(r),h=ap(s);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let m=0;m<u.length&&m<h.length;m++){const v=Kt(u[m],h[m]);if(0!==v)return v}return Kt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=Kt(Ri(r.latitude),Ri(s.latitude));return 0!==u?u:Kt(Ri(r.longitude),Ri(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let m=0;m<u.length&&m<h.length;++m){const v=mh(u[m],h[m]);if(v)return v}return Kt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===gh.mapValue&&s===gh.mapValue)return 0;if(r===gh.mapValue)return 1;if(s===gh.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),m=s.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let E=0;E<h.length&&E<v.length;++E){const S=Kt(h[E],v[E]);if(0!==S)return S;const N=mh(u[h[E]],m[v[E]]);if(0!==N)return N}return Kt(h.length,v.length)}(n.mapValue,t.mapValue);default:throw pt()}}function XP(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Kt(n,t);const e=fh(n),i=fh(t),r=Kt(e.seconds,i.seconds);return 0!==r?r:Kt(e.nanos,i.nanos)}function Lm(n){return JT(n)}function JT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=fh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ap(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=JT(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${JT(i.fields[h])}`;return s+"}"}(n.mapValue):pt();var t}function cp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function eM(n){return!!n&&"integerValue"in n}function Zv(n){return!!n&&"arrayValue"in n}function JP(n){return!!n&&"nullValue"in n}function eN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tE(n){return!!n&&"mapValue"in n}function Kv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return op(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Kv(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Kv(n.arrayValue.values[e]);return t}return Object.assign({},n)}function tN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _G(n){return"nullValue"in n?eE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cp(ph.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function yG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cp(ph.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?gh:pt()}function nN(n,t){const e=mh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function iN(n,t){const e=mh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Hr{constructor(t){this.value=t}static empty(){return new Hr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!tE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kv(e)}setAll(t){let e=Mi.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Kv(u):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());tE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ac(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];tE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){op(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Hr(Kv(this.value))}}function rN(n){const t=[];return op(n.fields,(e,i)=>{const r=new Mi([e]);if(tE(i)){const s=rN(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new wo(t)}class ti{constructor(t,e,i,r,s,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=u}static newInvalidDocument(t){return new ti(t,0,Ht.min(),Ht.min(),Hr.empty(),0)}static newFoundDocument(t,e,i){return new ti(t,1,e,Ht.min(),i,0)}static newNoDocument(t,e){return new ti(t,2,e,Ht.min(),Hr.empty(),0)}static newUnknownDocument(t,e){return new ti(t,3,e,Ht.min(),Hr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ti&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vG{constructor(t,e=null,i=[],r=[],s=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.ht=null}}function sN(n,t=null,e=[],i=[],r=null,s=null,u=null){return new vG(n,t,e,i,r,s,u)}function up(n){const t=nt(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Lm(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),qv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Lm(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Lm(i)).join(",")),t.ht=e}return t.ht}function Qv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!SG(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!ac(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!uN(n.startAt,t.startAt)&&uN(n.endAt,t.endAt)}function nE(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function iE(n,t){return n.filters.filter(e=>e instanceof Gr&&e.field.isEqual(t))}function oN(n,t,e){let i=eE,r=!0;for(const s of iE(n,t)){let u=eE,h=!0;switch(s.op){case"<":case"<=":u=_G(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=eE}nN({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];nN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function aN(n,t,e){let i=gh,r=!0;for(const s of iE(n,t)){let u=gh,h=!0;switch(s.op){case">=":case">":u=yG(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=gh}iN({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];iN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Gr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new wG(t,e,i):"array-contains"===e?new EG(t,i):"in"===e?new xG(t,i):"not-in"===e?new AG(t,i):"array-contains-any"===e?new IG(t,i):new Gr(t,e,i)}static lt(t,e,i){return"in"===e?new CG(t,i):new DG(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(mh(e,this.value)):null!==e&&lp(this.value)===lp(e)&&this.ft(mh(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class wG extends Gr{constructor(t,e,i){super(t,e,i),this.key=Xe.fromName(i.referenceValue)}matches(t){const e=Xe.comparator(t.key,this.key);return this.ft(e)}}class CG extends Gr{constructor(t,e){super(t,"in",e),this.keys=lN(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class DG extends Gr{constructor(t,e){super(t,"not-in",e),this.keys=lN(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function lN(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Xe.fromName(i.referenceValue))}class EG extends Gr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Zv(e)&&Wv(e.arrayValue,this.value)}}class xG extends Gr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Wv(this.value.arrayValue,e)}}class AG extends Gr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Wv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Wv(this.value.arrayValue,e)}}class IG extends Gr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Zv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Wv(this.value.arrayValue,i))}}class _h{constructor(t,e){this.position=t,this.inclusive=e}}class Vm{constructor(t,e="asc"){this.field=t,this.dir=e}}function SG(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function cN(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?Xe.comparator(Xe.fromName(u.referenceValue),e.key):mh(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function uN(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ac(n.position[e],t.position[e]))return!1;return!0}class Cu{constructor(t,e=null,i=[],r=[],s=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=m,this._t=null,this.wt=null}}function dN(n,t,e,i,r,s,u,h){return new Cu(n,t,e,i,r,s,u,h)}function Bm(n){return new Cu(n)}function hN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function tM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function nM(n){for(const t of n.filters)if(t.dt())return t.field;return null}function iM(n){return null!==n.collectionGroup}function Um(n){const t=nt(n);if(null===t._t){t._t=[];const e=nM(t),i=tM(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Vm(e)),t._t.push(new Vm(Mi.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Vm(Mi.keyField(),s))}}}return t._t}function Es(n){const t=nt(n);if(!t.wt)if("F"===t.limitType)t.wt=sN(t.path,t.collectionGroup,Um(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Um(t))e.push(new Vm(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new _h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _h(t.startAt.position,t.startAt.inclusive):null;t.wt=sN(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function rE(n,t,e){return new Cu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Xv(n,t){return Qv(Es(n),Es(t))&&n.limitType===t.limitType}function fN(n){return`${up(Es(n))}|lt:${n.limitType}`}function rM(n){return`Query(target=${function bG(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Lm(i.value)}`;var i}).join(", ")}]`),qv(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Lm(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Lm(e)).join(",")),`Target(${t})`}(Es(n))}; limitType=${n.limitType})`}function sM(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Xe.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,u){const h=cN(r,s,u);return r.inclusive?h<=0:h<0}(e.startAt,Um(e),i)||e.endAt&&!function(r,s,u){const h=cN(r,s,u);return r.inclusive?h>=0:h>0}(e.endAt,Um(e),i)));var e,i}function pN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gN(n){return(t,e)=>{let i=!1;for(const r of Um(n)){const s=TG(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function TG(n,t,e){const i=n.field.isKeyField()?Xe.comparator(t.key,e.key):function(r,s,u){const h=s.data.field(r),m=u.data.field(r);return null!==h&&null!==m?mh(h,m):pt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt()}}function mN(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yv(t)?"-0":t}}function _N(n){return{integerValue:""+n}}function yN(n,t){return QP(t)?_N(t):mN(n,t)}class sE{constructor(){this._=void 0}}function MG(n,t,e){return n instanceof Hm?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof dp?bN(n,t):n instanceof hp?wN(n,t):function(i,r){const s=vN(i,r),u=CN(s)+CN(i.yt);return eM(s)&&eM(i.yt)?_N(u):mN(i.It,u)}(n,t)}function kG(n,t,e){return n instanceof dp?bN(n,t):n instanceof hp?wN(n,t):e}function vN(n,t){return n instanceof Gm?eM(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Hm extends sE{}class dp extends sE{constructor(t){super(),this.elements=t}}function bN(n,t){const e=DN(t);for(const i of n.elements)e.some(r=>ac(r,i))||e.push(i);return{arrayValue:{values:e}}}class hp extends sE{constructor(t){super(),this.elements=t}}function wN(n,t){let e=DN(t);for(const i of n.elements)e=e.filter(r=>!ac(r,i));return{arrayValue:{values:e}}}class Gm extends sE{constructor(t,e){super(),this.It=t,this.yt=e}}function CN(n){return Ri(n.integerValue||n.doubleValue)}function DN(n){return Zv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jv{constructor(t,e){this.field=t,this.transform=e}}class OG{constructor(t,e){this.version=t,this.transformResults=e}}class _i{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new _i}static exists(t){return new _i(void 0,t)}static updateTime(t){return new _i(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class aE{}function EN(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new $m(n.key,_i.none()):new jm(n.key,n.data,_i.none());{const e=n.data,i=Hr.empty();let r=new $n(Mi.comparator);for(let s of t.fields)if(!r.has(s)){let u=e.field(s);null===u&&s.length>1&&(s=s.popLast(),u=e.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Du(n.key,i,new wo(r.toArray()),_i.none())}}function FG(n,t,e){n instanceof jm?function(i,r,s){const u=i.value.clone(),h=IN(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Du?function(i,r,s){if(!oE(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=IN(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(AN(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function eb(n,t,e,i){return n instanceof jm?function(r,s,u,h){if(!oE(r.precondition,s))return u;const m=r.value.clone(),v=SN(r.fieldTransforms,h,s);return m.setAll(v),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof Du?function(r,s,u,h){if(!oE(r.precondition,s))return u;const m=SN(r.fieldTransforms,h,s),v=s.data;return v.setAll(AN(r)),v.setAll(m),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,t,e,i):(u=e,oE(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function PG(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=vN(i.transform,r||null);null!=s&&(null===e&&(e=Hr.empty()),e.set(i.field,s))}return e||null}function xN(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Pm(e,i,(r,s)=>function RG(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof dp&&i instanceof dp||e instanceof hp&&i instanceof hp?Pm(e.elements,i.elements,ac):e instanceof Gm&&i instanceof Gm?ac(e.yt,i.yt):e instanceof Hm&&i instanceof Hm);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class jm extends aE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Du extends aE{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AN(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function IN(n,t,e){const i=new Map;Ut(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,h=t.data.field(s.field);i.set(s.field,kG(u,h,e[r]))}return i}function SN(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,MG(s,u,t))}return i}class $m extends aE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oM extends aE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NG{constructor(t){this.count=t}}var Ki,bn;function TN(n){switch(n){default:return pt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function MN(n){if(void 0===n)return Bi("GRPC error has no .code"),ve.UNKNOWN;switch(n){case Ki.OK:return ve.OK;case Ki.CANCELLED:return ve.CANCELLED;case Ki.UNKNOWN:return ve.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return ve.INTERNAL;case Ki.UNAVAILABLE:return ve.UNAVAILABLE;case Ki.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Ki.NOT_FOUND:return ve.NOT_FOUND;case Ki.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Ki.ABORTED:return ve.ABORTED;case Ki.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Ki.DATA_LOSS:return ve.DATA_LOSS;default:return pt()}}(bn=Ki||(Ki={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";class yh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){op(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return WP(this.inner)}size(){return this.innerSize}}const LG=new ki(Xe.comparator);function qs(){return LG}const kN=new ki(Xe.comparator);function tb(...n){let t=kN;for(const e of n)t=t.insert(e.key,e);return t}function RN(n){let t=kN;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function lc(){return nb()}function ON(){return nb()}function nb(){return new yh(n=>n.toString(),(n,t)=>n.isEqual(t))}const VG=new ki(Xe.comparator),BG=new $n(Xe.comparator);function nn(...n){let t=BG;for(const e of n)t=t.add(e);return t}const UG=new $n(Kt);function lE(){return UG}class ib{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,rb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ib(Ht.min(),r,lE(),qs(),nn())}}class rb{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new rb(i,e,nn(),nn(),nn())}}class cE{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class FN{constructor(t,e){this.targetId=t,this.At=e}}class PN{constructor(t,e,i=cr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class NN{constructor(){this.Rt=0,this.bt=VN(),this.Pt=cr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=nn(),e=nn(),i=nn();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:pt()}}),new rb(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=VN()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class HG{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=qs(),this.qt=LN(),this.Kt=new $n(Kt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:pt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(nE(s))if(0===i){const u=new Xe(s.path);this.jt(e,u,ti.newNoDocument(u,Ht.min()))}else Ut(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,u)=>{const h=this.Xt(u);if(h){if(s.current&&nE(h.target)){const m=new Xe(h.target.path);null!==this.Ut.get(m)||this.ee(u,m)||this.jt(u,m,ti.newNoDocument(m,t))}s.Dt&&(e.set(u,s.xt()),s.Nt())}});let i=nn();this.qt.forEach((s,u)=>{let h=!0;u.forEachWhile(m=>{const v=this.Xt(m);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.Ut.forEach((s,u)=>u.setReadTime(t));const r=new ib(t,e,this.Kt,this.Ut,i);return this.Ut=qs(),this.qt=LN(),this.Kt=new $n(Kt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new NN,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new $n(Kt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new NN),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function LN(){return new ki(Xe.comparator)}function VN(){return new ki(Xe.comparator)}const GG={asc:"ASCENDING",desc:"DESCENDING"},jG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $G{constructor(t,e){this.databaseId=t,this.gt=e}}function sb(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BN(n,t){return n.gt?t.toBase64():t.toUint8Array()}function zG(n,t){return sb(n,t.toTimestamp())}function Er(n){return Ut(!!n),Ht.fromTimestamp(function(t){const e=fh(t);return new mi(e.seconds,e.nanos)}(n))}function aM(n,t){return(e=n,new vn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function UN(n){const t=vn.fromString(n);return Ut(WN(t)),t}function ob(n,t){return aM(n.databaseId,t.path)}function cc(n,t){const e=UN(t);if(e.get(1)!==n.databaseId.projectId)throw new Ve(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ve(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Xe(GN(e))}function lM(n,t){return aM(n.databaseId,t)}function HN(n){const t=UN(n);return 4===t.length?vn.emptyPath():GN(t)}function ab(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GN(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jN(n,t,e){return{name:ob(n,t),fields:e.value.mapValue.fields}}function $N(n,t,e){const i=cc(n,t.name),r=Er(t.updateTime),s=new Hr({mapValue:{fields:t.fields}}),u=ti.newFoundDocument(i,r,s);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function lb(n,t){let e;if(t instanceof jm)e={update:jN(n,t.key,t.value)};else if(t instanceof $m)e={delete:ob(n,t.key)};else if(t instanceof Du)e={update:jN(n,t.key,t.data),updateMask:ej(t.fieldMask)};else{if(!(t instanceof oM))return pt();e={verify:ob(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Hm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof dp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Gm)return{fieldPath:s.field.canonicalString(),increment:u.yt};throw pt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:zG(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pt()),e;var r}function cM(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?_i.updateTime(Er(r.updateTime)):void 0!==r.exists?_i.exists(r.exists):_i.none():_i.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(Ut("REQUEST_TIME"===u.setToServerValue),h=new Hm):"appendMissingElements"in u?h=new dp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new hp(u.removeAllFromArray.values||[]):"increment"in u?h=new Gm(s,u.increment):pt();const m=Mi.fromServerFormat(u.fieldPath);return new Jv(m,h)}(n,r)):[];var r;if(t.update){const r=cc(n,t.update.name),s=new Hr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new wo((t.updateMask.fieldPaths||[]).map(v=>Mi.fromServerFormat(v)));return new Du(r,s,u,e,i)}return new jm(r,s,e,i)}if(t.delete){const r=cc(n,t.delete);return new $m(r,e)}if(t.verify){const r=cc(n,t.verify);return new oM(r,e)}return pt()}function zN(n,t){return{documents:[lM(n,t.path)]}}function uM(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=lM(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=lM(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0===m.length)return;const v=m.map(E=>function(S){if("=="===S.op){if(eN(S.value))return{unaryFilter:{field:zm(S.field),op:"IS_NAN"}};if(JP(S.value))return{unaryFilter:{field:zm(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(eN(S.value))return{unaryFilter:{field:zm(S.field),op:"IS_NOT_NAN"}};if(JP(S.value))return{unaryFilter:{field:zm(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zm(S.field),op:QG(S.op),value:S.value}}}(E));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(m){if(0!==m.length)return m.map(v=>{return{field:zm((E=v).field),direction:KG(E.dir)};var E})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=(v=t.limit,n.gt||qv(v)?v:{value:v});var v,h,m;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function qN(n){let t=HN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ut(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let s=[];e.where&&(s=YN(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(E=>{return new Vm(qm((S=E).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;e.limit&&(h=function(E){let S;return S="object"==typeof E?E.value:E,qv(S)?null:S}(e.limit));let m=null;var E;e.startAt&&(m=new _h((E=e.startAt).values||[],!!E.before));let v=null;return e.endAt&&(v=function(E){return new _h(E.values||[],!E.before)}(e.endAt)),dN(t,r,u,s,h,"F",m,v)}function YN(n){return n?void 0!==n.unaryFilter?[JG(n)]:void 0!==n.fieldFilter?[XG(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>YN(t)).reduce((t,e)=>t.concat(e)):pt():[]}function KG(n){return GG[n]}function QG(n){return jG[n]}function zm(n){return{fieldPath:n.canonicalString()}}function qm(n){return Mi.fromServerFormat(n.fieldPath)}function XG(n){return Gr.create(qm(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function JG(n){switch(n.unaryFilter.op){case"IS_NAN":const t=qm(n.unaryFilter.field);return Gr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=qm(n.unaryFilter.field);return Gr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qm(n.unaryFilter.field);return Gr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=qm(n.unaryFilter.field);return Gr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function ej(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function WN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function xs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ZN(t)),t=tj(n.get(e),t);return ZN(t)}function tj(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function ZN(n){return n+"\x01\x01"}function uc(n){const t=n.length;if(Ut(t>=2),2===t)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&pt(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:pt()}s=u+2}return new vn(i)}const KN=["userId","batchId"];function uE(n,t){return[n,xs(t)]}function QN(n,t,e){return[n,xs(t),e]}const nj={},ij=["prefixPath","collectionGroup","readTime","documentId"],rj=["prefixPath","collectionGroup","documentId"],sj=["collectionGroup","readTime","prefixPath","documentId"],oj=["canonicalId","targetId"],aj=["targetId","path"],lj=["path","targetId"],cj=["collectionId","parent"],uj=["indexId","uid"],dj=["uid","sequenceNumber"],hj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fj=["indexId","uid","orderedDocumentKey"],pj=["userId","collectionPath","documentId"],gj=["userId","collectionPath","largestBatchId"],mj=["userId","collectionGroup","largestBatchId"],XN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_j=[...XN,"documentOverlays"],JN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eL=JN,yj=[...eL,"indexConfiguration","indexState","indexEntries"];class dM extends zP{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function xr(n,t){const e=nt(n);return fl.M(e.ie,t)}class hM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&FG(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=eb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=eb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=ON();return this.mutations.forEach(r=>{const s=t.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=e.has(r.key)?null:h;const m=EN(u,h);null!==m&&i.set(r.key,m),u.isValidDocument()||u.convertToNoDocument(Ht.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),nn())}isEqual(t){return this.batchId===t.batchId&&Pm(this.mutations,t.mutations,(e,i)=>xN(e,i))&&Pm(this.baseMutations,t.baseMutations,(e,i)=>xN(e,i))}}class fM{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ut(t.mutations.length===i.length);let r=VG;const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new fM(t,e,i,r)}}class pM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vh{constructor(t,e,i,r,s=Ht.min(),u=Ht.min(),h=cr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new vh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new vh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new vh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class tL{constructor(t){this.re=t}}function nL(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:dE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:ob(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:sb(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:fp(t.version)};else{if(!t.isUnknownDocument())return pt();i.unknownDocument={path:e.path.toArray(),version:fp(t.version)}}var r,s;return i}function dE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function fp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function pp(n){const t=new mi(n.seconds,n.nanoseconds);return Ht.fromTimestamp(t)}function gp(n,t){const e=(t.baseMutations||[]).map(s=>cM(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const u=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(u.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>cM(n.re,s)),r=mi.fromMillis(t.localWriteTimeMs);return new hM(t.batchId,r,e,i)}function cb(n){const t=pp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?pp(n.lastLimboFreeSnapshotVersion):Ht.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=Es(Bm(HN(r.documents[0])))):i=Es(qN(n.query)),new vh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,cr.fromBase64String(n.resumeToken))}function iL(n,t){const e=fp(t.snapshotVersion),i=fp(t.lastLimboFreeSnapshotVersion);let r;r=nE(t.target)?zN(n.re,t.target):uM(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:up(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function gM(n){const t=qN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rE(t,t.limit,"L"):t}function mM(n,t){return new pM(t.largestBatchId,cM(n.re,t.overlayMutation))}function rL(n,t){const e=t.path.lastSegment();return[n,xs(t.path.popLast()),e]}function sL(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:fp(i.readTime),documentKey:xs(i.documentKey.path),largestBatchId:i.largestBatchId}}class bj{getBundleMetadata(t,e){return oL(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:pp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return oL(t).put({bundleId:(i=e).id,createTime:fp(Er(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return aL(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:gM(r.bundledQuery),readTime:pp(r.readTime)};var r})}saveNamedQuery(t,e){return aL(t).put({name:(i=e).name,readTime:fp(Er(i.readTime)),bundledQuery:i.bundledQuery});var i}}function oL(n){return xr(n,"bundles")}function aL(n){return xr(n,"namedQueries")}class hE{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new hE(t,e.uid||"")}getOverlay(t,e){return ub(t).get(rL(this.userId,e)).next(i=>i?mM(this.It,i):null)}getOverlays(t,e){const i=lc();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,u)=>{const h=new pM(e,u);r.push(this.ue(t,h))}),fe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(xs(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(ub(t).Y("collectionPathOverlayIndex",h))}),fe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=lc(),s=xs(e),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ub(t).W("collectionPathOverlayIndex",u).next(h=>{for(const m of h){const v=mM(this.It,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=lc();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ub(t).Z({index:"collectionGroupOverlayIndex",range:h},(m,v,E)=>{const S=mM(this.It,v);s.size()<r||S.largestBatchId===u?(s.set(S.getKey(),S),u=S.largestBatchId):E.done()}).next(()=>s)}ue(t,e){return ub(t).put(function(i,r,s){const[u,h,m]=rL(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:lb(i.re,s.mutation)}}(this.It,this.userId,e))}}function ub(n){return xr(n,"documentOverlays")}class mp{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Ri(t.integerValue));else if("doubleValue"in t){const i=Ri(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),Yv(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(ap(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?tN(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):pt()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),Xe.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function wj(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function lL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=wj(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}mp.Te=new mp;class Cj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=lL(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=lL(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Dj{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class Ej{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class db{constructor(){this.Be=new Cj,this.Le=new Dj(this.Be),this.Ue=new Ej(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class _p{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new _p(this.indexId,this.documentKey,this.arrayValue,i)}}function yp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=cL(n.arrayValue,t.arrayValue),0!==e?e:(e=cL(n.directionalValue,t.directionalValue),0!==e?e:Xe.comparator(n.documentKey,t.documentKey)))}function cL(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class xj{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=WT(t);if(void 0!==e&&!this.ze(e))return!1;const i=rp(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],u))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class Aj{constructor(){this.Ye=new _M}addToCollectionParentIndex(t,e){return this.Ye.add(e),fe.resolve()}getCollectionParents(t,e){return fe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return fe.resolve()}deleteFieldIndex(t,e){return fe.resolve()}getDocumentsMatchingTarget(t,e){return fe.resolve(null)}getIndexType(t,e){return fe.resolve(0)}getFieldIndexes(t,e){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,e){return fe.resolve(bo.min())}getMinOffsetFromCollectionGroup(t,e){return fe.resolve(bo.min())}updateCollectionGroup(t,e,i){return fe.resolve()}updateIndexEntries(t,e){return fe.resolve()}}class _M{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new $n(vn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new $n(vn.comparator)).toArray()}}const fE=new Uint8Array(0);class Ij{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new _M,this.Ze=new yh(i=>up(i),(i,r)=>Qv(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:xs(r)};return uL(t).put(s)}return fe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[HP(e),""],!1,!0);return uL(t).W(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(uc(u.parent))}return i})}addFieldIndex(t,e){const i=pE(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(e.indexState){const u=fb(t);return s.next(h=>{u.put(sL(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=pE(t),r=fb(t),s=hb(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=hb(t);let r=!0;const s=new Map;return fe.forEach(this.tn(e),u=>this.en(t,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=nn();const h=[];return fe.forEach(s,(m,v)=>{var E;$e("IndexedDbIndexManager",`Using index ${E=m,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(mt=>`${mt.fieldPath}:${mt.kind}`).join(",")}`} to execute ${up(e)}`);const S=function(mt,_t){const Rt=WT(_t);if(void 0===Rt)return null;for(const Vt of iE(mt,Rt.fieldPath))switch(Vt.op){case"array-contains-any":return Vt.value.arrayValue.values||[];case"array-contains":return[Vt.value]}return null}(v,m),N=function(mt,_t){const Rt=new Map;for(const Vt of rp(_t))for(const gn of iE(mt,Vt.fieldPath))switch(gn.op){case"==":case"in":Rt.set(Vt.fieldPath.canonicalString(),gn.value);break;case"not-in":case"!=":return Rt.set(Vt.fieldPath.canonicalString(),gn.value),Array.from(Rt.values())}return null}(v,m),H=function(mt,_t){const Rt=[];let Vt=!0;for(const gn of rp(_t)){const Ts=0===gn.kind?oN(mt,gn.fieldPath,mt.startAt):aN(mt,gn.fieldPath,mt.startAt);Rt.push(Ts.value),Vt&&(Vt=Ts.inclusive)}return new _h(Rt,Vt)}(v,m),z=function(mt,_t){const Rt=[];let Vt=!0;for(const gn of rp(_t)){const Ts=0===gn.kind?aN(mt,gn.fieldPath,mt.endAt):oN(mt,gn.fieldPath,mt.endAt);Rt.push(Ts.value),Vt&&(Vt=Ts.inclusive)}return new _h(Rt,Vt)}(v,m),te=this.nn(m,v,H),pe=this.nn(m,v,z),Ue=this.sn(m,v,N),st=this.rn(m.indexId,S,te,H.inclusive,pe,z.inclusive,Ue);return fe.forEach(st,mt=>i.J(mt,e.limit).next(_t=>{_t.forEach(Rt=>{const Vt=Xe.fromSegments(Rt.documentKey);u.has(Vt)||(u=u.add(Vt),h.push(Vt))})}))}).next(()=>h)}return fe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,u,h){const m=(null!=e?e.length:1)*Math.max(i.length,s.length),v=m/(null!=e?e.length:1),E=[];for(let S=0;S<m;++S){const N=e?this.on(e[S/v]):fE,H=this.un(t,N,i[S%v],r),z=this.cn(t,N,s[S%v],u),te=h.map(pe=>this.un(t,N,pe,!0));E.push(...this.createRange(H,z,te))}return E}un(t,e,i,r){const s=new _p(t,Xe.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new _p(t,Xe.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new xj(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let u=null;for(const h of s)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return fe.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(u){let h=new $n(Mi.comparator),m=!1;for(const v of u.filters){const E=v;E.field.isKeyField()||("array-contains"===E.op||"array-contains-any"===E.op?m=!0:h=h.add(E.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(m?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new db;for(const r of rp(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const u=i.qe(r.kind);mp.Te.ce(s,u)}return i.$e()}on(t){const e=new db;return mp.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new db;return mp.Te.ce(cp(this.databaseId,e),i.qe(function(r){const s=rp(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new db);let s=0;for(const u of rp(t)){const h=i[s++];for(const m of r)if(this.ln(e,u.fieldPath)&&Zv(h))r=this.fn(r,u,h);else{const v=m.qe(u.kind);mp.Te.ce(h,v)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const m=new db;m.seed(h.$e()),mp.Te.ce(u,m.qe(e.kind)),s.push(m)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof Gr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=pE(t),r=fb(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const u=[];return fe.forEach(s,h=>r.get([h.indexId,this.uid]).next(m=>{u.push(function(v,E){const S=E?new jv(E.sequenceNumber,new bo(pp(E.readTime),new Xe(uc(E.documentKey)),E.largestBatchId)):jv.empty(),N=v.fields.map(([H,z])=>new Q0(Mi.fromServerFormat(H),z));return new K0(v.indexId,v.collectionGroup,N,S)}(h,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Kt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=pE(t),s=fb(t);return this._n(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>fe.forEach(h,m=>s.put(sL(m.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return fe.forEach(e,(r,s)=>{const u=i.get(r.collectionGroup);return(u?fe.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),fe.forEach(h,m=>this.wn(t,r,m).next(v=>{const E=this.mn(s,m);return v.isEqual(E)?fe.resolve():this.gn(t,s,m,v,E)}))))})}yn(t,e,i,r){return hb(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return hb(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=hb(t);let s=new $n(yp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(u,h)=>{s=s.add(new _p(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}mn(t,e){let i=new $n(yp);const r=this.an(e,t);if(null==r)return i;const s=WT(e);if(null!=s){const u=t.data.field(s.fieldPath);if(Zv(u))for(const h of u.arrayValue.values||[])i=i.add(new _p(e.indexId,t.key,this.on(h),r))}else i=i.add(new _p(e.indexId,t.key,fE,r));return i}gn(t,e,i,r,s){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,m,v,E,S){const N=h.getIterator(),H=m.getIterator();let z=Nm(N),te=Nm(H);for(;z||te;){let pe=!1,Ue=!1;if(z&&te){const st=v(z,te);st<0?Ue=!0:st>0&&(pe=!0)}else null!=z?Ue=!0:pe=!0;pe?(E(te),te=Nm(H)):Ue?(S(z),z=Nm(N)):(z=Nm(N),te=Nm(H))}}(r,s,yp,h=>{u.push(this.yn(t,e,i,h))},h=>{u.push(this.pn(t,e,i,h))}),fe.waitFor(u)}_n(t){let e=1;return fb(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>yp(u,h)).filter((u,h,m)=>!h||0!==yp(u,m[h-1]));const r=[];r.push(t);for(const u of i){const h=yp(u,t),m=yp(u,e);if(0===h)r[0]=t.Ke();else if(h>0&&m<0)r.push(u),r.push(u.Ke());else if(m>0)break}r.push(e);const s=[];for(let u=0;u<r.length;u+=2)s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,fE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,fE,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(dL)}getMinOffset(t,e){return fe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||pt())).next(dL)}}function uL(n){return xr(n,"collectionParents")}function hb(n){return xr(n,"indexEntries")}function pE(n){return xr(n,"indexConfiguration")}function fb(n){return xr(n,"indexState")}function dL(n){Ut(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ZT(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new bo(t.readTime,t.documentKey,e)}const hL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ys{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ys(t,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fL(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(e.batchId);let h=0;const m=i.Z({range:u},(E,S,N)=>(h++,N.delete()));s.push(m.next(()=>{Ut(1===h)}));const v=[];for(const E of e.mutations){const S=QN(t,E.key.path,e.batchId);s.push(r.delete(S)),v.push(E.key)}return fe.waitFor(s).next(()=>v)}function gE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw pt();t=n.noDocument}return JSON.stringify(t).length}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class mE{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Ut(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new mE(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bh(t).Z({index:"userMutationsIndex",range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Ym(t),u=bh(t);return u.add({}).next(h=>{Ut("number"==typeof h);const m=new hM(h,e,i,r),v=function(N,H,z){const te=z.baseMutations.map(Ue=>lb(N.re,Ue)),pe=z.mutations.map(Ue=>lb(N.re,Ue));return{userId:H,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:te,mutations:pe}}(this.It,this.userId,m),E=[];let S=new $n((N,H)=>Kt(N.canonicalString(),H.canonicalString()));for(const N of r){const H=QN(this.userId,N.key.path,h);S=S.add(N.key.path.popLast()),E.push(u.put(v)),E.push(s.put(H,nj))}return S.forEach(N=>{E.push(this.indexManager.addToCollectionParentIndex(t,N))}),t.addOnCommittedListener(()=>{this.In[h]=m.keys()}),fe.waitFor(E).next(()=>m)})}lookupMutationBatch(t,e){return bh(t).get(e).next(i=>i?(Ut(i.userId===this.userId),gp(this.It,i)):null)}Tn(t,e){return this.In[e]?fe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return bh(t).Z({index:"userMutationsIndex",range:r},(u,h,m)=>{h.userId===this.userId&&(Ut(h.batchId>=i),s=gp(this.It,h)),m.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return bh(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bh(t).W("userMutationsIndex",e).next(i=>i.map(r=>gp(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=uE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Ym(t).Z({range:r},(u,h,m)=>{const[v,E,S]=u,N=uc(E);if(v===this.userId&&e.path.isEqual(N))return bh(t).get(S).next(H=>{if(!H)throw pt();Ut(H.userId===this.userId),s.push(gp(this.It,H))});m.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(Kt);const r=[];return e.forEach(s=>{const u=uE(this.userId,s.path),h=IDBKeyRange.lowerBound(u),m=Ym(t).Z({range:h},(v,E,S)=>{const[N,H,z]=v,te=uc(H);N===this.userId&&s.path.isEqual(te)?i=i.add(z):S.done()});r.push(m)}),fe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=uE(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new $n(Kt);return Ym(t).Z({range:u},(m,v,E)=>{const[S,N,H]=m,z=uc(N);S===this.userId&&i.isPrefixOf(z)?z.length===r&&(h=h.add(H)):E.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(bh(t).get(s).next(u=>{if(null===u)throw pt();Ut(u.userId===this.userId),i.push(gp(this.It,u))}))}),fe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return fL(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ym(t).Z({range:i},(s,u,h)=>{if(s[0]===this.userId){const m=uc(s[1]);r.push(m)}else h.done()}).next(()=>{Ut(0===r.length)})})}containsKey(t,e){return pL(t,this.userId,e)}Rn(t){return gL(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pL(n,t,e){const i=uE(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return Ym(n).Z({range:s,X:!0},(h,m,v)=>{const[E,S,N]=h;E===t&&S===r&&(u=!0),v.done()}).next(()=>u)}function bh(n){return xr(n,"mutations")}function Ym(n){return xr(n,"documentMutations")}function gL(n){return xr(n,"mutationQueues")}class vp{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new vp(0)}static vn(){return new vp(-1)}}class Sj{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new vp(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Ht.fromTimestamp(new mi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Wm(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return Wm(t).Z((u,h)=>{const m=cb(h);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,s.push(this.removeTargetData(t,m)))}).next(()=>fe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return Wm(t).Z((i,r)=>{const s=cb(r);e(s)})}Vn(t){return mL(t).get("targetGlobalKey").next(e=>(Ut(null!==e),e))}Sn(t,e){return mL(t).put("targetGlobalKey",e)}Dn(t,e){return Wm(t).put(iL(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=up(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Wm(t).Z({range:r,index:"queryTargetsIndex"},(u,h,m)=>{const v=cb(h);Qv(e,v.target)&&(s=v,m.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=wh(t);return e.forEach(u=>{const h=xs(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),fe.waitFor(r)}removeMatchingKeys(t,e,i){const r=wh(t);return fe.forEach(e,s=>{const u=xs(s.path);return fe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=wh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=wh(t);let s=nn();return r.Z({range:i,X:!0},(u,h,m)=>{const v=uc(u[1]),E=new Xe(v);s=s.add(E)}).next(()=>s)}containsKey(t,e){const i=xs(e.path),r=IDBKeyRange.bound([i],[HP(i)],!1,!0);let s=0;return wh(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],m,v)=>{0!==u&&(s++,v.done())}).next(()=>s>0)}se(t,e){return Wm(t).get(e).next(i=>i?cb(i):null)}}function Wm(n){return xr(n,"targets")}function mL(n){return xr(n,"targetGlobal")}function wh(n){return xr(n,"targetDocuments")}function _L([n,t],[e,i]){const r=Kt(n,e);return 0===r?Kt(t,i):r}class Tj{constructor(t){this.xn=t,this.buffer=new $n(_L),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();_L(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Mj{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,De.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){hh(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield dh(i)}yield e.Fn(3e5)}))}}class kj{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return fe.resolve(zs.at);const i=new Tj(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(hL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hL):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,u,h,m,v;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(t,i,e))).next(S=>(s=S,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(v=Date.now(),qT()<=pu.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(m-h)+`ms\n\tRemoved ${S} documents in `+(v-m)+`ms\nTotal Duration: ${v-E}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class Rj{constructor(t,e){this.db=t,this.garbageCollector=new kj(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return _E(t,i)}removeReference(t,e,i){return _E(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return _E(t,e)}Gn(t,e){return function(i,r){let s=!1;return gL(i).tt(u=>pL(i,u,r).next(h=>(h&&(s=!0),fe.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(u,h)=>{if(h<=e){const m=this.Gn(t,u).next(v=>{if(!v)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Ht.min()),wh(t).delete([0,xs(u.path)])))});r.push(m)}}).next(()=>fe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return _E(t,e)}Kn(t,e){const i=wh(t);let r,s=zs.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:m,sequenceNumber:v})=>{0===u?(s!==zs.at&&e(new Xe(uc(r)),s),s=v,r=m):s=zs.at}).next(()=>{s!==zs.at&&e(new Xe(uc(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function _E(n,t){return wh(n).put((i=n.currentSequenceNumber,{targetId:0,path:xs(t.path),sequenceNumber:i}));var i}class yL{constructor(){this.changes=new yh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ti.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Oj{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return bp(t).put(i)}removeEntry(t,e,i){return bp(t).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],dE(s),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=ti.newInvalidDocument(e);return bp(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(pb(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:ti.newInvalidDocument(e)};return bp(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(pb(e))},(r,s)=>{i={document:this.jn(e,s),size:gE(s)}}).next(()=>i)}getEntries(t,e){let i=qs();return this.zn(t,e,(r,s)=>{const u=this.jn(r,s);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=qs(),r=new ki(Xe.comparator);return this.zn(t,e,(s,u)=>{const h=this.jn(s,u);i=i.insert(s,h),r=r.insert(s,gE(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return fe.resolve();let r=new $n(CL);e.forEach(m=>r=r.add(m));const s=IDBKeyRange.bound(pb(r.first()),pb(r.last())),u=r.getIterator();let h=u.getNext();return bp(t).Z({index:"documentKeyIndex",range:s},(m,v,E)=>{const S=Xe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&CL(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?E.j(pb(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),dE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bp(t).W(IDBKeyRange.bound(r,s,!0)).next(u=>{let h=qs();for(const m of u){const v=this.jn(Xe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(t,e,i,r){let s=qs();const u=wL(e,i),h=wL(e,bo.max());return bp(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(m,v,E)=>{const S=this.jn(Xe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(S.key,S),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(t){return new Fj(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return bL(t).get("remoteDocumentGlobalKey").next(e=>(Ut(!!e),e))}Qn(t,e){return bL(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function vj(n,t){let e;if(t.document)e=$N(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Xe.fromSegments(t.noDocument.path),r=pp(t.noDocument.readTime);e=ti.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return pt();{const i=Xe.fromSegments(t.unknownDocument.path),r=pp(t.unknownDocument.version);e=ti.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new mi(i[0],i[1]);return Ht.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Ht.min()))return i}return ti.newInvalidDocument(t)}}function vL(n){return new Oj(n)}class Fj extends yL{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new yh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new $n((s,u)=>Kt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,h.readTime)),u.isValidDocument()){const m=nL(this.Yn.It,u);r=r.add(s.path.popLast()),i+=gE(m)-h.size,e.push(this.Yn.addEntry(t,s,m))}else if(i-=h.size,this.trackRemovals){const m=nL(this.Yn.It,u.convertToNoDocument(Ht.min()));e.push(this.Yn.addEntry(t,s,m))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),fe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function bL(n){return xr(n,"remoteDocumentGlobal")}function bp(n){return xr(n,"remoteDocumentsV14")}function pb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wL(n,t){const e=t.documentKey.path.toArray();return[n,dE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function CL(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Kt(e[s],i[s]),r)return r;return r=Kt(e.length,i.length),r||(r=Kt(e[e.length-2],i[i.length-2]),r||Kt(e[e.length-1],i[i.length-1]))}class Pj{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class DL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&eb(i.mutation,r,wo.empty(),mi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,nn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=nn()){const r=lc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let u=tb();return s.forEach((h,m)=>{u=u.insert(h,m.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=lc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,nn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let s=qs();const u=nb(),h=nb();return e.forEach((m,v)=>{const E=i.get(v.key);r.has(v.key)&&(void 0===E||E.mutation instanceof Du)?s=s.insert(v.key,v):void 0!==E&&(u.set(v.key,E.mutation.getFieldMask()),eb(E.mutation,v,E.mutation.getFieldMask(),mi.now()))}),this.recalculateAndSaveOverlays(t,s).next(m=>(m.forEach((v,E)=>u.set(v,E)),e.forEach((v,E)=>{var S;return h.set(v,new Pj(E,null!==(S=u.get(v))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(t,e){const i=nb();let r=new ki((u,h)=>u-h),s=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(m=>{const v=e.get(m);if(null===v)return;let E=i.get(m)||wo.empty();E=h.applyToLocalView(v,E),i.set(m,E);const S=(r.get(h.batchId)||nn()).add(m);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,E=m.value,S=ON();E.forEach(N=>{if(!s.has(N)){const H=EN(e.get(N),i.get(N));null!==H&&S.set(N,H),s=s.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,S))}return fe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Xe.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):iM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):fe.resolve(lc());let h=-1,m=s;return u.next(v=>fe.forEach(v,(E,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),s.get(E)?fe.resolve():this.getBaseDocument(t,E,S).next(N=>{m=m.insert(E,N)}))).next(()=>this.populateOverlays(t,v,s)).next(()=>this.computeViews(t,m,v,nn())).next(E=>({batchId:h,changes:RN(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Xe(e)).next(i=>{let r=tb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=tb();return this.indexManager.getCollectionParents(t,r).next(u=>fe.forEach(u,h=>{const m=(v=e,E=h.child(r),new Cu(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,E;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(v=>{v.forEach((E,S)=>{s=s.insert(E,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((h,m)=>{const v=m.getKey();null===r.get(v)&&(r=r.insert(v,ti.newInvalidDocument(v)))});let u=tb();return r.forEach((h,m)=>{const v=s.get(h);void 0!==v&&eb(v.mutation,m,wo.empty(),mi.now()),sM(e,m)&&(u=u.insert(h,m))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):fe.resolve(ti.newInvalidDocument(e))}}class Nj{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return fe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Er(i.createTime)}),fe.resolve()}getNamedQuery(t,e){return fe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:gM(i.bundledQuery),readTime:Er(i.readTime)}),fe.resolve();var i}}class Lj{constructor(){this.overlays=new ki(Xe.comparator),this.es=new Map}getOverlay(t,e){return fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=lc();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),fe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),fe.resolve()}getOverlaysForCollection(t,e,i){const r=lc(),s=e.length+1,u=new Xe(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===s&&m.largestBatchId>i&&r.set(m.getKey(),m)}return fe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ki((v,E)=>v-E);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let E=s.get(v.largestBatchId);null===E&&(E=lc(),s=s.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const h=lc(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,E)=>h.set(v,E)),!(h.size()>=r)););return fe.resolve(h)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new pM(e,i));let s=this.es.get(e);void 0===s&&(s=nn(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class yM{constructor(){this.ns=new $n(Ar.ss),this.rs=new $n(Ar.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Ar(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Ar(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new Xe(new vn([])),i=new Ar(e,t),r=new Ar(e,t+1),s=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new Xe(new vn([])),i=new Ar(e,t),r=new Ar(e,t+1);let s=nn();return this.rs.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new Ar(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ar{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return Xe.comparator(t.key,e.key)||Kt(t._s,e._s)}static os(t,e){return Kt(t._s,e._s)||Xe.comparator(t.key,e.key)}}class Vj{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new $n(Ar.ss)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const u=new hM(s,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new Ar(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(t,e){return fe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ar(e,0),r=new Ar(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);s.push(h)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $n(Kt);return e.forEach(r=>{const s=new Ar(r,0),u=new Ar(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],h=>{i=i.add(h._s)})}),fe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Xe.isDocumentKey(s)||(s=s.child(""));const u=new Ar(new Xe(s),0);let h=new $n(Kt);return this.gs.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m._s)),!0)},u),fe.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ut(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return fe.forEach(e.mutations,r=>{const s=new Ar(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Ar(e,0),r=this.gs.firstAfterOrEqual(i);return fe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return fe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Bj{constructor(t){this.Es=t,this.docs=new ki(Xe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return fe.resolve(i?i.document.mutableCopy():ti.newInvalidDocument(e))}getEntries(t,e){let i=qs();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ti.newInvalidDocument(r))}),fe.resolve(i)}getAllFromCollection(t,e,i){let r=qs();const s=new Xe(e.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||ZT(jP(m),i)<=0||(r=r.insert(m.key,m.mutableCopy()))}return fe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){pt()}As(t,e){return fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Uj(this)}getSize(t){return fe.resolve(this.size)}}class Uj extends yL{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),fe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class Hj{constructor(t){this.persistence=t,this.Rs=new yh(e=>up(e),Qv),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.bs=0,this.Ps=new yM,this.targetCount=0,this.vs=vp.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),fe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new vp(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,fe.resolve()}updateTargetData(t,e){return this.Dn(e),fe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),fe.waitFor(s).next(()=>r)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return fe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),fe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),fe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return fe.resolve(i)}containsKey(t,e){return fe.resolve(this.Ps.containsKey(e))}}class EL{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new zs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Hj(this),this.indexManager=new Aj,this.remoteDocumentCache=new Bj(i=>this.referenceDelegate.xs(i)),this.It=new tL(e),this.Ns=new Nj(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Lj,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new Vj(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new Gj(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return fe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class Gj extends zP{constructor(t){super(),this.currentSequenceNumber=t}}class yE{constructor(t){this.persistence=t,this.Fs=new yM,this.$s=null}static Bs(t){return new yE(t)}get Ls(){if(this.$s)return this.$s;throw pt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),fe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),fe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ls,i=>{const r=Xe.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,Ht.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return fe.or([()=>fe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class jj{constructor(t){this.It=t}$(t,e,i,r){const s=new X0("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KN,{unique:!0}),h.createObjectStore("documentMutations"),xL(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=fe.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),xL(t)),u=u.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ht.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,m){return m.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KN,{unique:!0});const E=m.store("mutations"),S=v.map(N=>E.put(N));return fe.waitFor(S)})}(t,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.qs(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(s))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:pj});m.createIndex("collectionPathOverlayIndex",gj,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",mj,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:ij});m.createIndex("documentKeyIndex",rj),m.createIndex("collectionGroupIndex",sj)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:uj}).createIndex("sequenceNumberIndex",dj,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:hj}).createIndex("documentKeyIndex",fj,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=gE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>fe.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>fe.forEach(h,m=>{Ut(m.userId===s.userId);const v=gp(this.It,m);return fL(t,s.userId,v).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((u,h)=>{const m=new vn(u),v=[0,xs(m)];s.push(e.get(v).next(E=>E?fe.resolve():e.put({targetId:0,path:xs(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>fe.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:cj});const i=e.store("collectionParents"),r=new _M,s=u=>{if(r.add(u)){const h=u.lastSegment(),m=u.popLast();return i.put({collectionId:h,parent:xs(m)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const m=new vn(u);return s(m.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,m],v)=>{const E=uc(h);return s(E.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=cb(r),u=iL(this.It,s);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,u)=>{const h=e.store("remoteDocumentsV14"),m=(v=u,v.document?new Xe(vn.fromString(v.document.name).popFirst(5)):v.noDocument?Xe.fromSegments(v.noDocument.path):v.unknownDocument?Xe.fromSegments(v.unknownDocument.path):pt()).path.toArray();var v;const E={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>fe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=vL(this.It),s=new EL(yE.Bs,this.It.re);return i.W().next(u=>{const h=new Map;return u.forEach(m=>{var v;let E=null!==(v=h.get(m.userId))&&void 0!==v?v:nn();gp(this.It,m).keys().forEach(S=>E=E.add(S)),h.set(m.userId,E)}),fe.forEach(h,(m,v)=>{const E=new Dr(v),S=hE.oe(this.It,E),N=s.getIndexManager(E),H=mE.oe(E,this.It,N,s.referenceDelegate);return new DL(r,H,S,N).recalculateAndSaveOverlaysForDocumentKeys(new dM(e,zs.at),m).next()})})}}function xL(n){n.createObjectStore("targetDocuments",{keyPath:aj}).createIndex("documentTargetsIndex",lj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oj,{unique:!0}),n.createObjectStore("targetGlobal")}const vM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bM{constructor(t,e,i,r,s,u,h,m,v,E,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=u,this.document=h,this.Js=v,this.Ys=E,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=N=>Promise.resolve(),!bM.C())throw new Ve(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rj(this,r),this.ii=e+"main",this.It=new tL(m),this.ri=new fl(this.ii,this.Xs,new jj(this.It)),this.Cs=new Sj(this.referenceDelegate,this.It),this.remoteDocumentCache=vL(this.It),this.Ns=new bj,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===E&&Bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(ve.FAILED_PRECONDITION,vM);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new zs(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,De.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,De.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,De.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>vE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(hh(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return gb(t).get("owner").next(e=>fe.resolve(this.mi(e)))}gi(t){return vE(t).delete(this.clientId)}yi(){var t=this;return(0,De.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=xr(i,"clientMetadata");return r.W().next(s=>{const u=t.Ii(s,18e5),h=s.filter(m=>-1===u.indexOf(m));return fe.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?fe.resolve(!0):gb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ve(ve.FAILED_PRECONDITION,vM);return!1}}return!(!this.networkEnabled||!this.inForeground)||vE(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,De.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new dM(e,zs.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>vE(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return mE.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Ij(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return hE.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.Xs)?yj:14===u?eL:13===u?JN:12===u?_j:11===u?XN:void pt();var u;let h;return this.ri.runTransaction(t,r,s,m=>(h=new dM(m,this.Ss?this.Ss.next():zs.at),"readwrite-primary"===e?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw Bi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(ve.FAILED_PRECONDITION,$P);return i(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Vi(t){return gb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ve(ve.FAILED_PRECONDITION,vM)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gb(t).put("owner",e)}static C(){return fl.C()}_i(t){const e=gb(t);return e.get("owner").next(i=>this.mi(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):fe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Bi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,dn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Bi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Bi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function gb(n){return xr(n,"owner")}function vE(n){return xr(n,"clientMetadata")}function wM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class CM{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=nn(),r=nn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new CM(t,e.fromCache,i,r)}}class AL{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if(hN(e))return fe.resolve(null);let i=Es(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=rE(e,null,"F"),i=Es(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const u=nn(...s);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(m=>{const v=this.Fi(e,h);return this.$i(e,v,u,m.readTime)?this.ki(t,rE(e,null,"F")):this.Bi(t,v,e,m)}))})))}Oi(t,e,i,r){return hN(e)||r.isEqual(Ht.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const u=this.Fi(e,s);return this.$i(e,u,i,r)?this.Mi(t,e):(qT()<=pu.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rM(e)),this.Bi(t,u,e,GP(r,-1)))})}Fi(t,e){let i=new $n(gN(t));return e.forEach((r,s)=>{sM(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return qT()<=pu.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",rM(e)),this.Ni.getDocumentsMatchingQuery(t,e,bo.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(u=>{s=s.insert(u.key,u)}),s))}}class $j{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new ki(Kt),this.qi=new yh(s=>up(s),Qv),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function IL(n,t,e,i){return new $j(n,t,e,i)}function SL(n,t){return DM.apply(this,arguments)}function DM(){return DM=(0,De.Z)(function*(n,t){const e=nt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let m=nn();for(const v of r){u.push(v.batchId);for(const E of v.mutations)m=m.add(E.key)}for(const v of s){h.push(v.batchId);for(const E of v.mutations)m=m.add(E.key)}return e.localDocuments.getDocuments(i,m).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),DM.apply(this,arguments)}function zj(n,t){const e=nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,m,v){const E=m.batch,S=E.keys();let N=fe.resolve();return S.forEach(H=>{N=N.next(()=>v.getEntry(h,H)).next(z=>{const te=m.docVersions.get(H);Ut(null!==te),z.version.compareTo(te)<0&&(E.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),v.addEntry(z)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=nn();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function TL(n){const t=nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function qj(n,t){const e=nt(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const h=[];t.targetChanges.forEach((E,S)=>{const N=r.get(S);if(!N)return;h.push(e.Cs.removeMatchingKeys(s,E.removedDocuments,S).next(()=>e.Cs.addMatchingKeys(s,E.addedDocuments,S)));let H=N.withSequenceNumber(s.currentSequenceNumber);var z,te,pe;t.targetMismatches.has(S)?H=H.withResumeToken(cr.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,i)),r=r.insert(S,H),te=H,pe=E,(0===(z=N).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(s,H))});let m=qs(),v=nn();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,E))}),h.push(ML(s,u,t.documentUpdates).next(E=>{m=E.Wi,v=E.zi})),!i.isEqual(Ht.min())){const E=e.Cs.getLastRemoteSnapshotVersion(s).next(S=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(E)}return fe.waitFor(h).next(()=>u.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,m,v)).next(()=>m)}).then(s=>(e.Ui=r,s))}function ML(n,t,e){let i=nn(),r=nn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let u=qs();return e.forEach((h,m)=>{const v=s.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(Ht.min())?(t.removeEntry(h,m.readTime),u=u.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m),u=u.insert(h,m)):$e("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{Wi:u,zi:r}})}function Yj(n,t){const e=nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Zm(n,t){const e=nt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,fe.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new vh(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function Km(n,t,e){return EM.apply(this,arguments)}function EM(){return EM=(0,De.Z)(function*(n,t,e){const i=nt(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!hh(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),EM.apply(this,arguments)}function bE(n,t,e){const i=nt(n);let r=Ht.min(),s=nn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,m,v){const E=nt(h),S=E.qi.get(v);return void 0!==S?fe.resolve(E.Ui.get(S)):E.Cs.getTargetData(m,v)}(i,u,Es(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(m=>{s=m})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Ht.min(),e?s:nn())).next(h=>(OL(i,pN(t),h),{documents:h,Hi:s})))}function kL(n,t){const e=nt(n),i=nt(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(u=>u?u.target:null))}function RL(n,t){const e=nt(n),i=e.Ki.get(t)||Ht.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,GP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(OL(e,t,r),r))}function OL(n,t,e){let i=n.Ki.get(t)||Ht.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function xM(){return xM=(0,De.Z)(function*(n,t,e,i){const r=nt(n);let s=nn(),u=qs();for(const v of e){const E=t.Ji(v.metadata.name);v.document&&(s=s.add(E));const S=t.Yi(v);S.setReadTime(t.Xi(v.metadata.readTime)),u=u.insert(E,S)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),m=yield Zm(r,(v=i,Es(Bm(vn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>ML(v,h,u).next(E=>(h.apply(v),E)).next(E=>r.Cs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.Cs.addMatchingKeys(v,s,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,E.Wi,E.zi)).next(()=>E.Wi)))}),xM.apply(this,arguments)}function Zj(n,t){return AM.apply(this,arguments)}function AM(){return AM=(0,De.Z)(function*(n,t,e=nn()){const i=yield Zm(n,Es(gM(t.bundledQuery))),r=nt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=Er(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(s,t);const h=i.withResumeToken(cr.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(h.targetId,h),r.Cs.updateTargetData(s,h).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),AM.apply(this,arguments)}function FL(n,t){return`firestore_clients_${n}_${t}`}function PL(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function IM(n,t){return`firestore_targets_${n}_${t}`}class wE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Ve(r.error.code,r.error.message))),u?new wE(t,e,r.state,s):(Bi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ve(i.error.code,i.error.message))),s?new mb(t,i.state,r):(Bi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class CE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=lE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=QP(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new CE(t,s):(Bi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class SM{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new SM(e.clientId,e.onlineState):(Bi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class TM{constructor(){this.activeTargetIds=lE()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MM{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ki(Kt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=FL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new TM),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,De.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(FL(t.persistenceKey,r));if(s){const u=CE.Zi(r,s);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(IM(this.persistenceKey,t));if(i){const r=mb.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(IM(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,De.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let u=zs.at;if(null!=s)try{const h=JSON.parse(s);Ut("number"==typeof h),u=h}catch(h){Bi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==zs.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new wE(this.currentUser,t,e,i),s=PL(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=PL(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=IM(this.persistenceKey,t),s=new mb(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return CE.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return wE.Zi(new Dr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return mb.Zi(r,e)}yr(t){return SM.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,De.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),u=[],h=[];return s.forEach(m=>{r.has(m)||u.push(m)}),r.forEach(m=>{s.has(m)||h.push(m)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=lE();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class NL{constructor(){this.Lr=new TM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new TM,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Kj{qr(t){}shutdown(){}}class LL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xj{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class Jj extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const u=this.ho(t,e);$e("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,s),this.fo(t,u,h,i).then(m=>($e("RestConnection","Received: ",m),m),m=>{throw ip("RestConnection",`${t} failed with error: `,m,"url: ",u,"request:",i),m})}_o(t,e,i,r,s,u){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Fm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${Qj[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,u)=>{const h=new QH;h.setWithCredentials(!0),h.listenOnce(WH.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case zT.NO_ERROR:const v=h.getResponseJson();$e("Connection","XHR received:",JSON.stringify(v)),s(v);break;case zT.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),u(new Ve(ve.DEADLINE_EXCEEDED,"Request time out"));break;case zT.HTTP_ERROR:const E=h.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const N=function(H){const z=H.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(z)>=0?z:ve.UNKNOWN}(S.status);u(new Ve(N,S.message))}else u(new Ve(ve.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ve(ve.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(r);h.send(e,"POST",m,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=qH(),u=YH(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new KH({})),this.lo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const m=r.join("");$e("Connection","Creating WebChannel: "+m,h);const v=s.createWebChannel(m,h);let E=!1,S=!1;const N=new Xj({Hr:z=>{S?$e("Connection","Not sending because WebChannel is closed:",z):(E||($e("Connection","Opening WebChannel transport."),v.open(),E=!0),$e("Connection","WebChannel sending:",z),v.send(z))},Jr:()=>v.close()}),H=(z,te,pe)=>{z.listen(te,Ue=>{try{pe(Ue)}catch(st){setTimeout(()=>{throw st},0)}})};return H(v,Z0.EventType.OPEN,()=>{S||$e("Connection","WebChannel transport opened.")}),H(v,Z0.EventType.CLOSE,()=>{S||(S=!0,$e("Connection","WebChannel transport closed"),N.io())}),H(v,Z0.EventType.ERROR,z=>{S||(S=!0,ip("Connection","WebChannel transport errored:",z),N.io(new Ve(ve.UNAVAILABLE,"The operation could not be completed")))}),H(v,Z0.EventType.MESSAGE,z=>{var te;if(!S){const pe=z.data[0];Ut(!!pe);const Ue=pe,st=Ue.error||(null===(te=Ue[0])||void 0===te?void 0:te.error);if(st){$e("Connection","WebChannel received error:",st);const mt=st.status;let _t=function(Vt){const gn=Ki[Vt];if(void 0!==gn)return MN(gn)}(mt),Rt=st.message;void 0===_t&&(_t=ve.INTERNAL,Rt="Unknown error status: "+mt+" with message "+st.message),S=!0,N.io(new Ve(_t,Rt)),v.close()}else $e("Connection","WebChannel received:",pe),N.ro(pe)}}),H(u,ZH.STAT_EVENT,z=>{z.stat===NP.PROXY?$e("Connection","Detected buffering proxy"):z.stat===NP.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.so()},0),N}}function VL(){return typeof window<"u"?window:null}function DE(){return typeof document<"u"?document:null}function _b(n){return new $G(n,!0)}class kM{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class BL{constructor(t,e,i,r,s,u,h,m){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new kM(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,De.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,De.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,De.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ve.RESOURCE_EXHAUSTED?(Bi(e.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Ve(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,De.Z)(function*(){t.state=0,t.start()}))}Qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e3 extends BL{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.It=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function YG(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:pt(),r=t.targetChange.targetIds||[],s=function(m,v){return m.gt?(Ut(void 0===v||"string"==typeof v),cr.fromBase64String(v||"")):(Ut(void 0===v||v instanceof Uint8Array),cr.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(m){const v=void 0===m.code?ve.UNKNOWN:MN(m.code);return new Ve(v,m.message||"")}(u);e=new PN(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=cc(n,i.document.name),s=Er(i.document.updateTime),u=new Hr({mapValue:{fields:i.document.fields}}),h=ti.newFoundDocument(r,s,u);e=new cE(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=cc(n,i.document),s=i.readTime?Er(i.readTime):Ht.min(),u=ti.newNoDocument(r,s);e=new cE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=cc(n,i.document);e=new cE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return pt();{const i=t.filter,s=new NG(i.count||0);e=new FN(i.targetId,s)}}var m;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Ht.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ht.min():s.readTime?Er(s.readTime):Ht.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=ab(this.It),e.addTarget=function(r,s){let u;const h=s.target;return u=nE(h)?{documents:zN(r,h)}:{query:uM(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=BN(r,s.resumeToken):s.snapshotVersion.compareTo(Ht.min())>0&&(u.readTime=sb(r,s.snapshotVersion.toTimestamp())),u}(this.It,t);const i=function ZG(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=ab(this.It),e.removeTarget=t,this.Bo(e)}}class t3 extends BL{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function WG(n,t){return n&&n.length>0?(Ut(void 0!==t),n.map(e=>function(i,r){let s=Er(i.updateTime?i.updateTime:r);return s.isEqual(Ht.min())&&(s=Er(r)),new OG(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Er(t.commitTime);return this.listener.Zo(i,e)}return Ut(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=ab(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>lb(this.It,i))};this.Bo(e)}}class n3 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ve(ve.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ve(ve.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection._o(t,e,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(ve.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class s3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Bi(e),this.ou=!1):$e("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class o3{constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(h=>{i.enqueueAndForget((0,De.Z)(function*(){var m;Eu(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,De.Z)(function*(v){const E=nt(v);E._u.add(4),yield Qm(E),E.gu.set("Unknown"),E._u.delete(4),yield yb(E)}),function(v){return m.apply(this,arguments)})(u))}))}),this.gu=new s3(i,r)}}function yb(n){return OM.apply(this,arguments)}function OM(){return OM=(0,De.Z)(function*(n){if(Eu(n))for(const t of n.wu)yield t(!0)}),OM.apply(this,arguments)}function Qm(n){return FM.apply(this,arguments)}function FM(){return FM=(0,De.Z)(function*(n){for(const t of n.wu)yield t(!1)}),FM.apply(this,arguments)}function EE(n,t){const e=nt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),LM(e)?NM(e):Jm(e).ko()&&PM(e,t))}function vb(n,t){const e=nt(n),i=Jm(e);e.du.delete(t),i.ko()&&UL(e,t),0===e.du.size&&(i.ko()?i.Fo():Eu(e)&&e.gu.set("Unknown"))}function PM(n,t){n.yu.Mt(t.targetId),Jm(n).zo(t)}function UL(n,t){n.yu.Mt(t),Jm(n).Ho(t)}function NM(n){n.yu=new HG({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Jm(n).start(),n.gu.uu()}function LM(n){return Eu(n)&&!Jm(n).No()&&n.du.size>0}function Eu(n){return 0===nt(n)._u.size}function HL(n){n.yu=void 0}function a3(n){return VM.apply(this,arguments)}function VM(){return VM=(0,De.Z)(function*(n){n.du.forEach((t,e)=>{PM(n,t)})}),VM.apply(this,arguments)}function l3(n,t){return BM.apply(this,arguments)}function BM(){return BM=(0,De.Z)(function*(n,t){HL(n),LM(n)?(n.gu.hu(t),NM(n)):n.gu.set("Unknown")}),BM.apply(this,arguments)}function c3(n,t,e){return UM.apply(this,arguments)}function UM(){return UM=(0,De.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof PN&&2===t.state&&t.cause)try{yield(i=(0,De.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield xE(n,i)}else if(t instanceof cE?n.yu.Gt(t):t instanceof FN?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Ht.min()))try{const i=yield TL(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.yu.te(s);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.du.get(m);v&&r.du.set(m,v.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const m=r.du.get(h);if(!m)return;r.du.set(h,m.withResumeToken(cr.EMPTY_BYTE_STRING,m.snapshotVersion)),UL(r,h);const v=new vh(m.target,h,1,m.sequenceNumber);PM(r,v)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield xE(n,i)}var i}),UM.apply(this,arguments)}function xE(n,t,e){return HM.apply(this,arguments)}function HM(){return HM=(0,De.Z)(function*(n,t,e){if(!hh(t))throw t;n._u.add(1),yield Qm(n),n.gu.set("Offline"),e||(e=()=>TL(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield yb(n)}))}),HM.apply(this,arguments)}function GL(n,t){return t().catch(e=>xE(n,e,t))}function Xm(n){return GM.apply(this,arguments)}function GM(){return GM=(0,De.Z)(function*(n){const t=nt(n),e=Ch(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;u3(t);)try{const r=yield Yj(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,d3(t,r)}catch(r){yield xE(t,r)}jL(t)&&$L(t)}),GM.apply(this,arguments)}function u3(n){return Eu(n)&&n.fu.length<10}function d3(n,t){n.fu.push(t);const e=Ch(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function jL(n){return Eu(n)&&!Ch(n).No()&&n.fu.length>0}function $L(n){Ch(n).start()}function h3(n){return jM.apply(this,arguments)}function jM(){return jM=(0,De.Z)(function*(n){Ch(n).eu()}),jM.apply(this,arguments)}function f3(n){return $M.apply(this,arguments)}function $M(){return $M=(0,De.Z)(function*(n){const t=Ch(n);for(const e of n.fu)t.Xo(e.mutations)}),$M.apply(this,arguments)}function p3(n,t,e){return zM.apply(this,arguments)}function zM(){return zM=(0,De.Z)(function*(n,t,e){const i=n.fu.shift(),r=fM.from(i,t,e);yield GL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Xm(n)}),zM.apply(this,arguments)}function g3(n,t){return qM.apply(this,arguments)}function qM(){return qM=(0,De.Z)(function*(n,t){var e;t&&Ch(n).Yo&&(yield(e=(0,De.Z)(function*(i,r){if(TN(s=r.code)&&s!==ve.ABORTED){const u=i.fu.shift();Ch(i).Mo(),yield GL(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Xm(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),jL(n)&&$L(n)}),qM.apply(this,arguments)}function zL(n,t){return YM.apply(this,arguments)}function YM(){return YM=(0,De.Z)(function*(n,t){const e=nt(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Eu(e);e._u.add(3),yield Qm(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield yb(e)}),YM.apply(this,arguments)}function WM(n,t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,De.Z)(function*(n,t){const e=nt(n);t?(e._u.delete(2),yield yb(e)):t||(e._u.add(2),yield Qm(e),e.gu.set("Unknown"))}),ZM.apply(this,arguments)}function Jm(n){return n.pu||(n.pu=function(t,e,i){const r=nt(t);return r.su(),new e3(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:a3.bind(null,n),Zr:l3.bind(null,n),Wo:c3.bind(null,n)}),n.wu.push(function(){var t=(0,De.Z)(function*(e){e?(n.pu.Mo(),LM(n)?NM(n):n.gu.set("Unknown")):(yield n.pu.stop(),HL(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Ch(n){return n.Iu||(n.Iu=function(t,e,i){const r=nt(t);return r.su(),new t3(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:h3.bind(null,n),Zr:g3.bind(null,n),tu:f3.bind(null,n),Zo:p3.bind(null,n)}),n.wu.push(function(){var t=(0,De.Z)(function*(e){e?(n.Iu.Mo(),yield Xm(n)):(yield n.Iu.stop(),n.fu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class KM{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,h=new KM(t,e,u,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e_(n,t){if(Bi("AsyncQueue",`${t}: ${n}`),hh(n))return new Ve(ve.UNAVAILABLE,`${t}: ${n}`);throw n}class t_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Xe.comparator(e.key,i.key):(e,i)=>Xe.comparator(e.key,i.key),this.keyedMap=tb(),this.sortedSet=new ki(this.comparator)}static emptySet(t){return new t_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof t_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new t_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class qL{constructor(){this.Tu=new ki(Xe.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):pt():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class n_{constructor(t,e,i,r,s,u,h,m,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,s){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new n_(t,e,t_.emptySet(e),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class m3{constructor(){this.Au=void 0,this.listeners=[]}}class _3{constructor(){this.queries=new yh(t=>fN(t),Xv),this.onlineState="Unknown",this.Ru=new Set}}function QM(n,t){return XM.apply(this,arguments)}function XM(){return XM=(0,De.Z)(function*(n,t){const e=nt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new m3),r)try{s.Au=yield e.onListen(i)}catch(u){const h=e_(u,`Initialization of query '${rM(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&tk(e)}),XM.apply(this,arguments)}function JM(n,t){return ek.apply(this,arguments)}function ek(){return ek=(0,De.Z)(function*(n,t){const e=nt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),ek.apply(this,arguments)}function y3(n,t){const e=nt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&tk(e)}function v3(n,t,e){const i=nt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function tk(n){n.Ru.forEach(t=>{t.next()})}class nk{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new n_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=n_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class b3{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class YL{constructor(t){this.It=t}Ji(t){return cc(this.It,t)}Yi(t){return t.metadata.exists?$N(this.It,t.document,!1):ti.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Er(t)}}class w3{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WL(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=vn.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new YL(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||nn()).add(s);e.set(u,h)}}return e}complete(){var t=this;return(0,De.Z)(function*(){const e=yield function Wj(n,t,e,i){return xM.apply(this,arguments)}(t.localStore,new YL(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield Zj(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function WL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ZL{constructor(t){this.key=t}}class KL{constructor(t){this.key=t}}class QL{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=nn(),this.mutatedKeys=nn(),this.Gu=gN(t),this.Qu=new t_(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new qL,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,S)=>{const N=r.get(E),H=sM(this.query,S)?S:null,z=!!N&&this.mutatedKeys.has(N.key),te=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let pe=!1;N&&H?N.data.isEqual(H.data)?z!==te&&(i.track({type:3,doc:H}),pe=!0):this.Hu(N,H)||(i.track({type:2,doc:H}),pe=!0,(m&&this.Gu(H,m)>0||v&&this.Gu(H,v)<0)&&(h=!0)):!N&&H?(i.track({type:0,doc:H}),pe=!0):N&&!H&&(i.track({type:1,doc:N}),pe=!0,(m||v)&&(h=!0)),pe&&(H?(u=u.add(H),s=te?s.add(E):s.delete(E)):(u=u.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{Qu:u,zu:i,$i:h,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((v,E)=>function(S,N){const H=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return H(S)-H(N)}(v.type,E.type)||this.Gu(v.doc,E.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,m=h!==this.qu;return this.qu=h,0!==s.length||m?{snapshot:new n_(this.query,t.Qu,r,s,t.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=nn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new KL(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new ZL(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=nn();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return n_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class C3{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class D3{constructor(t){this.key=t,this.nc=!1}}class E3{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new yh(h=>fN(h),Xv),this.rc=new Map,this.oc=new Set,this.uc=new ki(Xe.comparator),this.cc=new Map,this.ac=new yM,this.hc={},this.lc=new Map,this.fc=vp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function x3(n,t){return ik.apply(this,arguments)}function ik(){return ik=(0,De.Z)(function*(n,t){const e=Ak(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const u=yield Zm(e.localStore,Es(t));e.isPrimaryClient&&EE(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield rk(e,t,i,"current"===h,u.resumeToken)}return r}),ik.apply(this,arguments)}function rk(n,t,e,i,r){return sk.apply(this,arguments)}function sk(){return sk=(0,De.Z)(function*(n,t,e,i,r){n._c=(S,N,H)=>{return(z=(0,De.Z)(function*(te,pe,Ue,st){let mt=pe.view.Wu(Ue);mt.$i&&(mt=yield bE(te.localStore,pe.query,!1).then(({documents:Vt})=>pe.view.Wu(Vt,mt)));const _t=st&&st.targetChanges.get(pe.targetId),Rt=pe.view.applyChanges(mt,te.isPrimaryClient,_t);return gk(te,pe.targetId,Rt.Xu),Rt.snapshot}),function(te,pe,Ue,st){return z.apply(this,arguments)})(n,S,N,H);var z};const s=yield bE(n.localStore,t,!0),u=new QL(t,s.Hi),h=u.Wu(s.documents),m=rb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=u.applyChanges(h,n.isPrimaryClient,m);gk(n,e,v.Xu);const E=new C3(t,e,u);return n.ic.set(t,E),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),v.snapshot}),sk.apply(this,arguments)}function A3(n,t){return ok.apply(this,arguments)}function ok(){return ok=(0,De.Z)(function*(n,t){const e=nt(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!Xv(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Km(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),vb(e.remoteStore,i.targetId),i_(e,i.targetId)}).catch(dh))):(i_(e,i.targetId),yield Km(e.localStore,i.targetId,!0))}),ok.apply(this,arguments)}function ak(){return ak=(0,De.Z)(function*(n,t,e){const i=Ik(n);try{const r=yield function(s,u){const h=nt(s),m=mi.now(),v=u.reduce((N,H)=>N.add(H.key),nn());let E,S;return h.persistence.runTransaction("Locally write mutations","readwrite",N=>{let H=qs(),z=nn();return h.Gi.getEntries(N,v).next(te=>{H=te,H.forEach((pe,Ue)=>{Ue.isValidDocument()||(z=z.add(pe))})}).next(()=>h.localDocuments.getOverlayedDocuments(N,H)).next(te=>{E=te;const pe=[];for(const Ue of u){const st=PG(Ue,E.get(Ue.key).overlayedDocument);null!=st&&pe.push(new Du(Ue.key,st,rN(st.value.mapValue),_i.exists(!0)))}return h.mutationQueue.addMutationBatch(N,m,pe,u)}).next(te=>{S=te;const pe=te.applyToLocalDocumentSet(E,z);return h.documentOverlayCache.saveOverlays(N,te.batchId,pe)})}).then(()=>({batchId:S.batchId,changes:RN(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let m=s.hc[s.currentUser.toKey()];m||(m=new ki(Kt)),m=m.insert(u,h),s.hc[s.currentUser.toKey()]=m}(i,r.batchId,e),yield xu(i,r.changes),yield Xm(i.remoteStore)}catch(r){const s=e_(r,"Failed to persist write");e.reject(s)}}),ak.apply(this,arguments)}function XL(n,t){return lk.apply(this,arguments)}function lk(){return lk=(0,De.Z)(function*(n,t){const e=nt(n);try{const i=yield qj(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.cc.get(s);u&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?Ut(u.nc):r.removedDocuments.size>0&&(Ut(u.nc),u.nc=!1))}),yield xu(e,i,t)}catch(i){yield dh(i)}}),lk.apply(this,arguments)}function JL(n,t,e){const i=nt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,u)=>{const h=u.view.bu(t);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=nt(s);h.onlineState=u;let m=!1;h.queries.forEach((v,E)=>{for(const S of E.listeners)S.bu(u)&&(m=!0)}),m&&tk(h)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function S3(n,t,e){return ck.apply(this,arguments)}function ck(){return ck=(0,De.Z)(function*(n,t,e){const i=nt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let u=new ki(Xe.comparator);u=u.insert(s,ti.newNoDocument(s,Ht.min()));const h=nn().add(s),m=new ib(Ht.min(),new Map,new $n(Kt),u,h);yield XL(i,m),i.uc=i.uc.remove(s),i.cc.delete(t),mk(i)}else yield Km(i.localStore,t,!1).then(()=>i_(i,t,e)).catch(dh)}),ck.apply(this,arguments)}function T3(n,t){return uk.apply(this,arguments)}function uk(){return uk=(0,De.Z)(function*(n,t){const e=nt(n),i=t.batch.batchId;try{const r=yield zj(e.localStore,t);pk(e,i,null),fk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield xu(e,r)}catch(r){yield dh(r)}}),uk.apply(this,arguments)}function M3(n,t,e){return dk.apply(this,arguments)}function dk(){return dk=(0,De.Z)(function*(n,t,e){const i=nt(n);try{const r=yield function(s,u){const h=nt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,u).next(E=>(Ut(null!==E),v=E.keys(),h.mutationQueue.removeMutationBatch(m,E))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,t);pk(i,t,e),fk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield xu(i,r)}catch(r){yield dh(r)}}),dk.apply(this,arguments)}function hk(){return hk=(0,De.Z)(function*(n,t){const e=nt(n);Eu(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=nt(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=e_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),hk.apply(this,arguments)}function fk(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function pk(n,t,e){const i=nt(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function i_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||eV(n,i)})}function eV(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(vb(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),mk(n))}function gk(n,t,e){for(const i of e)i instanceof ZL?(n.ac.addReference(i.key,t),R3(n,i)):i instanceof KL?($e("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||eV(n,i.key)):pt()}function R3(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.oc.add(i),mk(n))}function mk(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new Xe(vn.fromString(t)),i=n.fc.next();n.cc.set(i,new D3(e)),n.uc=n.uc.insert(e,i),EE(n.remoteStore,new vh(Es(Bm(e.path)),i,2,zs.at))}}function xu(n,t,e){return _k.apply(this,arguments)}function _k(){return _k=(0,De.Z)(function*(n,t,e){const i=nt(n),r=[],s=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,m)=>{u.push(i._c(m,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const E=CM.Ci(m.targetId,v);s.push(E)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(h=(0,De.Z)(function*(m,v){const E=nt(m);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>fe.forEach(v,N=>fe.forEach(N.Si,H=>E.persistence.referenceDelegate.addReference(S,N.targetId,H)).next(()=>fe.forEach(N.Di,H=>E.persistence.referenceDelegate.removeReference(S,N.targetId,H)))))}catch(S){if(!hh(S))throw S;$e("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const N=S.targetId;if(!S.fromCache){const H=E.Ui.get(N),te=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);E.Ui=E.Ui.insert(N,te)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,s))}),_k.apply(this,arguments)}function O3(n,t){return yk.apply(this,arguments)}function yk(){return yk=(0,De.Z)(function*(n,t){const e=nt(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield SL(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(h=>{h.reject(new Ve(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield xu(e,i.ji)}var r}),yk.apply(this,arguments)}function F3(n,t){const e=nt(n),i=e.cc.get(t);if(i&&i.nc)return nn().add(i.key);{let r=nn();const s=e.rc.get(t);if(!s)return r;for(const u of s){const h=e.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function P3(n,t){return vk.apply(this,arguments)}function vk(){return vk=(0,De.Z)(function*(n,t){const e=nt(n),i=yield bE(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&gk(e,t.targetId,r.Xu),r}),vk.apply(this,arguments)}function N3(n,t){return bk.apply(this,arguments)}function bk(){return bk=(0,De.Z)(function*(n,t){const e=nt(n);return RL(e.localStore,t).then(i=>xu(e,i))}),bk.apply(this,arguments)}function L3(n,t,e,i){return wk.apply(this,arguments)}function wk(){return wk=(0,De.Z)(function*(n,t,e,i){const r=nt(n),s=yield function(u,h){const m=nt(u),v=nt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",E=>v.Tn(E,h).next(S=>S?m.localDocuments.getDocuments(E,S):fe.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield Xm(r.remoteStore):"acknowledged"===e||"rejected"===e?(pk(r,t,i||null),fk(r,t),h=t,nt(nt(r.localStore).mutationQueue).An(h)):pt(),yield xu(r,s)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),wk.apply(this,arguments)}function Ck(){return Ck=(0,De.Z)(function*(n,t){const e=nt(n);if(Ak(e),Ik(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield tV(e,i.toArray());e.dc=!0,yield WM(e.remoteStore,!0);for(const s of r)EE(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(i_(e,u),Km(e.localStore,u,!0))),vb(e.remoteStore,u)}),yield r,yield tV(e,i),function(s){const u=nt(s);u.cc.forEach((h,m)=>{vb(u.remoteStore,m)}),u.ac.fs(),u.cc=new Map,u.uc=new ki(Xe.comparator)}(e),e.dc=!1,yield WM(e.remoteStore,!1)}}),Ck.apply(this,arguments)}function tV(n,t,e){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,De.Z)(function*(n,t,e){const i=nt(n),r=[],s=[];for(const u of t){let h;const m=i.rc.get(u);if(m&&0!==m.length){h=yield Zm(i.localStore,Es(m[0]));for(const v of m){const E=i.ic.get(v),S=yield P3(i,E);S.snapshot&&s.push(S.snapshot)}}else{const v=yield kL(i.localStore,u);h=yield Zm(i.localStore,v),yield rk(i,nV(v),u,!1,h.resumeToken)}r.push(h)}return i.sc.Wo(s),r}),Dk.apply(this,arguments)}function nV(n){return dN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function B3(n){const t=nt(n);return nt(nt(t.localStore).persistence).vi()}function U3(n,t,e,i){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,De.Z)(function*(n,t,e,i){const r=nt(n);if(r.dc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const u=yield RL(r.localStore,pN(s[0])),h=ib.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,cr.EMPTY_BYTE_STRING);yield xu(r,u,h);break}case"rejected":yield Km(r.localStore,t,!0),i_(r,t,i);break;default:pt()}}),Ek.apply(this,arguments)}function H3(n,t,e){return xk.apply(this,arguments)}function xk(){return xk=(0,De.Z)(function*(n,t,e){const i=Ak(n);if(i.dc){for(const r of t){if(i.rc.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const s=yield kL(i.localStore,r),u=yield Zm(i.localStore,s);yield rk(i,nV(s),u.targetId,!1,u.resumeToken),EE(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield Km(i.localStore,r,!1).then(()=>{vb(i.remoteStore,r),i_(i,r)}).catch(dh))}}),xk.apply(this,arguments)}function Ak(n){const t=nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=XL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=F3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=S3.bind(null,t),t.sc.Wo=y3.bind(null,t.eventManager),t.sc.wc=v3.bind(null,t.eventManager),t}function Ik(n){const t=nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=M3.bind(null,t),t}class iV{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,De.Z)(function*(){e.It=_b(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return IL(this.persistence,new AL,t.initialUser,this.It)}yc(t){return new EL(yE.Bs,this.It)}gc(t){return new NL}terminate(){var t=this;return(0,De.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class rV extends iV{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield Ik(i.Ac.syncEngine),yield Xm(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return IL(this.persistence,new AL,t.initialUser,this.It)}Tc(t,e){return new Mj(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new fG(e,this.persistence);return new hG(t.asyncQueue,i)}yc(t){const e=wM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new bM(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,VL(),DE(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new NL}}class j3 extends rV{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof MM&&(i.sharedClientState.syncEngine={Fr:L3.bind(null,r),$r:U3.bind(null,r),Br:H3.bind(null,r),vi:B3.bind(null,r),Mr:N3.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,De.Z)(function*(u){yield function V3(n,t){return Ck.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(t){const e=VL();if(!MM.C(e))throw new Ve(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=wM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new MM(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Sk{initialize(t,e){var i=this;return(0,De.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>JL(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=O3.bind(null,i.syncEngine),yield WM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new _3}createDatastore(t){const e=_b(t.databaseInfo.databaseId),i=new Jj(t.databaseInfo);return new n3(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>JL(this.syncEngine,h,0),u=LL.C()?new LL:new Kj,new o3(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,h,m,v){const E=new E3(i,r,s,u,h,m);return v&&(E.dc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,De.Z)(function*(e){const i=nt(e);$e("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Qm(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Tk(n,t,e){if(!e)throw new Ve(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function sV(n,t,e,i){if(!0===t&&!0===i)throw new Ve(ve.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function oV(n){if(!Xe.isDocumentKey(n))throw new Ve(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aV(n){if(Xe.isDocumentKey(n))throw new Ve(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":pt()}function fn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ve(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=AE(n);throw new Ve(ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function lV(n,t){if(t<=0)throw new Ve(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const cV=new Map;class uV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ve(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ve(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ve(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new eG;switch(e.type){case"gapi":return new rG(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ve(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=cV.get(t);e&&($e("ComponentProvider","Removing Datastore"),cV.delete(t),e.terminate())}(this),Promise.resolve()}}class ci{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ci(this.firestore,t,this._key)}}class is{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new is(this.firestore,t,this._query)}}class dc extends is{constructor(t,e,i){super(t,e,Bm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ci(this.firestore,null,new Xe(t))}withConverter(t){return new dc(this.firestore,t,this._path)}}function hV(n,t,...e){if(n=(0,dn.m9)(n),Tk("collection","path",t),n instanceof bb){const i=vn.fromString(t,...e);return aV(i),new dc(n,null,i)}{if(!(n instanceof ci||n instanceof dc))throw new Ve(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vn.fromString(t,...e));return aV(i),new dc(n.firestore,null,i)}}function IE(n,t,...e){if(n=(0,dn.m9)(n),1===arguments.length&&(t=UP.R()),Tk("doc","path",t),n instanceof bb){const i=vn.fromString(t,...e);return oV(i),new ci(n,null,new Xe(i))}{if(!(n instanceof ci||n instanceof dc))throw new Ve(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vn.fromString(t,...e));return oV(i),new ci(n.firestore,n instanceof dc?n.converter:null,new Xe(i))}}function fV(n,t){return n=(0,dn.m9)(n),t=(0,dn.m9)(t),(n instanceof ci||n instanceof dc)&&(t instanceof ci||t instanceof dc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Mk(n,t){return n=(0,dn.m9)(n),t=(0,dn.m9)(t),n instanceof is&&t instanceof is&&n.firestore===t.firestore&&Xv(n._query,t._query)&&n.converter===t.converter}function pV(n,t=10240){let e=0;return{read:()=>(0,De.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class SE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t)}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class z3{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new lr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,De.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,De.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,De.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new b3(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,De.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,De.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,De.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class W3{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ve(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,De.Z)(function*(s,u){const h=nt(s),m=ab(h.It)+"/documents",v={documents:u.map(H=>ob(h.It,H))},E=yield h._o("BatchGetDocuments",m,v,u.length),S=new Map;E.forEach(H=>{const z=function qG(n,t){return"found"in t?function(e,i){Ut(!!i.found);const r=cc(e,i.found.name),s=Er(i.found.updateTime),u=new Hr({mapValue:{fields:i.found.fields}});return ti.newFoundDocument(r,s,u)}(n,t):"missing"in t?function(e,i){Ut(!!i.missing),Ut(!!i.readTime);const r=cc(e,i.missing),s=Er(i.readTime);return ti.newNoDocument(r,s)}(n,t):pt()}(h.It,H);S.set(z.key.toString(),z)});const N=[];return u.forEach(H=>{const z=S.get(H.toString());Ut(!!z),N.push(z)}),N}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new $m(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Xe.fromPath(r);t.mutations.push(new oM(s,t.precondition(s)))}),yield(i=(0,De.Z)(function*(r,s){const u=nt(r),h=ab(u.It)+"/documents",m={writes:s.map(v=>lb(u.It,v))};yield u.ao("Commit",h,m)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw pt();e=Ht.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ve(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ht.min())?_i.exists(!1):_i.updateTime(e):_i.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ht.min()))throw new Ve(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _i.updateTime(e)}return _i.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Z3{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new kM(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,De.Z)(function*(){const e=new W3(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!qv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!TN(e)}return!1}}class K3{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Dr.UNAUTHENTICATED,this.clientId=UP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,De.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,De.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=e_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function gV(n,t){return kk.apply(this,arguments)}function kk(){return kk=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,De.Z)(function*(s){i.isEqual(s)||(yield SL(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),kk.apply(this,arguments)}function mV(n,t){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Ok(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>zL(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>zL(t.remoteStore,s)),n.onlineComponents=t}),Rk.apply(this,arguments)}function Ok(n){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,De.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield gV(n,new iV)),n.offlineComponents}),Fk.apply(this,arguments)}function TE(n){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,De.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield mV(n,new Sk)),n.onlineComponents}),Pk.apply(this,arguments)}function _V(n){return Ok(n).then(t=>t.persistence)}function ME(n){return Ok(n).then(t=>t.localStore)}function Nk(n){return TE(n).then(t=>t.remoteStore)}function Lk(n){return TE(n).then(t=>t.syncEngine)}function r_(n){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,De.Z)(function*(n){const t=yield TE(n),e=t.eventManager;return e.onListen=x3.bind(null,t.syncEngine),e.onUnlisten=A3.bind(null,t.syncEngine),e}),Vk.apply(this,arguments)}function vV(n,t,e={}){const i=new lr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,s,u,h,m){const v=new SE({next:S=>{s.enqueueAndForget(()=>JM(r,E));const N=S.docs.has(u);!N&&S.fromCache?m.reject(new Ve(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&h&&"server"===h.source?m.reject(new Ve(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),E=new nk(Bm(u.path),v,{includeMetadataChanges:!0,Nu:!0});return QM(r,E)}(yield r_(n),n.asyncQueue,t,e,i)})),i.promise}function bV(n,t,e={}){const i=new lr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,s,u,h,m){const v=new SE({next:S=>{s.enqueueAndForget(()=>JM(r,E)),S.fromCache&&"server"===h.source?m.reject(new Ve(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),E=new nk(u,v,{includeMetadataChanges:!0,Nu:!0});return QM(r,E)}(yield r_(n),n.asyncQueue,t,e,i)})),i.promise}class r${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new kM(this,"async_queue_retry"),this.Wc=()=>{const e=DE();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=DE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=DE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new lr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,De.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!hh(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Bi("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=KM.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&pt()}verifyOperationInProgress(){}Xc(){var t=this;return(0,De.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function Bk(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class s${constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ui extends bb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new r$,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wV(this),this._firestoreClient.terminate()}}function Ui(n){return n._firestoreClient||wV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wV(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new mG(n._databaseId,s,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new K3(n._authCredentials,n._appCheckCredentials,n._queue,i)}function CV(n,t,e){const i=new lr;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield gV(n,e),yield mV(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(u=s).name?u.code===ve.FAILED_PRECONDITION||u.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;ip("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var u})).then(()=>i.promise)}function DV(n){if(n._initialized||n._terminated)throw new Ve(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hc(cr.fromBase64String(t))}catch(e){throw new Ve(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new hc(cr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Au{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ve(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wp{constructor(t){this._methodName=t}}class kE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ve(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ve(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}const g$=/^__.*__$/;class m${constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Du(t,this.data,this.fieldMask,e,this.fieldTransforms):new jm(t,this.data,e,this.fieldTransforms)}}class EV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Du(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function xV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class RE{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new RE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return PE(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(xV(this.sa)&&g$.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class _${constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||_b(t)}da(t,e,i,r=!1){return new RE({sa:t,methodName:e,fa:i,path:Mi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Cp(n){const t=n._freezeSettings(),e=_b(n._databaseId);return new _$(n._databaseId,!!t.ignoreUndefinedProperties,e)}function OE(n,t,e,i,r,s={}){const u=n.da(s.merge||s.mergeFields?2:0,t,e,r);jk("Data must be an object, but it was:",u,i);const h=SV(i,u);let m,v;if(s.merge)m=new wo(u.fieldMask),v=u.fieldTransforms;else if(s.mergeFields){const E=[];for(const S of s.mergeFields){const N=$k(t,S,e);if(!u.contains(N))throw new Ve(ve.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);MV(E,N)||E.push(N)}m=new wo(E),v=u.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,v=u.fieldTransforms;return new m$(new Hr(h),m,v)}class wb extends wp{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wb}}function AV(n,t,e){return new RE({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class Uk extends wp{_toFieldTransform(t){return new Jv(t.path,new Hm)}isEqual(t){return t instanceof Uk}}class y$ extends wp{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=AV(this,t,!0),i=this._a.map(s=>Dp(s,e)),r=new dp(i);return new Jv(t.path,r)}isEqual(t){return this===t}}class v$ extends wp{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=AV(this,t,!0),i=this._a.map(s=>Dp(s,e)),r=new hp(i);return new Jv(t.path,r)}isEqual(t){return this===t}}class b$ extends wp{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Gm(t.It,yN(t.It,this.wa));return new Jv(t.path,e)}isEqual(t){return this===t}}function Hk(n,t,e,i){const r=n.da(1,t,e);jk("Data must be an object, but it was:",r,i);const s=[],u=Hr.empty();op(i,(m,v)=>{const E=FE(t,m,e);v=(0,dn.m9)(v);const S=r.ca(E);if(v instanceof wb)s.push(E);else{const N=Dp(v,S);null!=N&&(s.push(E),u.set(E,N))}});const h=new wo(s);return new EV(u,h,r.fieldTransforms)}function Gk(n,t,e,i,r,s){const u=n.da(1,t,e),h=[$k(t,i,e)],m=[r];if(s.length%2!=0)throw new Ve(ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<s.length;N+=2)h.push($k(t,s[N])),m.push(s[N+1]);const v=[],E=Hr.empty();for(let N=h.length-1;N>=0;--N)if(!MV(v,h[N])){const H=h[N];let z=m[N];z=(0,dn.m9)(z);const te=u.ca(H);if(z instanceof wb)v.push(H);else{const pe=Dp(z,te);null!=pe&&(v.push(H),E.set(H,pe))}}const S=new wo(v);return new EV(E,S,u.fieldTransforms)}function IV(n,t,e,i=!1){return Dp(e,n.da(i?4:3,t))}function Dp(n,t){if(TV(n=(0,dn.m9)(n)))return jk("Unsupported field value:",t,n),SV(n,t);if(n instanceof wp)return function(e,i){if(!xV(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let h=Dp(u,i.aa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,dn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yN(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=mi.fromDate(e);return{timestampValue:sb(i.It,r)}}if(e instanceof mi){const r=new mi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sb(i.It,r)}}if(e instanceof kE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hc)return{bytesValue:BN(i.It,e._byteString)};if(e instanceof ci){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:aM(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${AE(e)}`)}(n,t)}function SV(n,t){const e={};return WP(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):op(n,(i,r)=>{const s=Dp(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function TV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof kE||n instanceof hc||n instanceof ci||n instanceof wp)}function jk(n,t,e){if(!TV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=AE(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function $k(n,t,e){if((t=(0,dn.m9)(t))instanceof Au)return t._internalPath;if("string"==typeof t)return FE(n,t);throw PE("Field path arguments must be of type string or ",n,!1,void 0,e)}const w$=new RegExp("[~\\*/\\[\\]]");function FE(n,t,e){if(t.search(w$)>=0)throw PE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Au(...t.split("."))._internalPath}catch{throw PE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function PE(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(s||u)&&(m+=" (found",s&&(m+=` in field ${i}`),u&&(m+=` in document ${r}`),m+=")"),new Ve(ve.INVALID_ARGUMENT,h+n+m)}function MV(n,t){return n.some(e=>e.isEqual(t))}class Cb{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new C$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(NE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class C$ extends Cb{data(){return super.data()}}function NE(n,t){return"string"==typeof t?FE(n,t):t instanceof Au?t._internalPath:t._delegate._internalPath}function kV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Db{}function Dh(n,...t){for(const e of t)n=e._apply(n);return n}class D$ extends Db{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=Cp(t.firestore),i=function(r,s,u,h,m,v,E){let S;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ve(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){LV(E,v);const H=[];for(const z of E)H.push(NV(h,r,z));S={arrayValue:{values:H}}}else S=NV(h,r,E)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||LV(E,v),S=IV(u,"where",E,"in"===v||"not-in"===v);const N=Gr.create(m,v,S);return function(H,z){if(z.dt()){const pe=nM(H);if(null!==pe&&!pe.isEqual(z.field))throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pe.toString()}' and '${z.field.toString()}'`);const Ue=tM(H);null!==Ue&&VV(0,z.field,Ue)}const te=function(pe,Ue){for(const st of pe.filters)if(Ue.indexOf(st.op)>=0)return st.op;return null}(H,function(pe){switch(pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==te)throw new Ve(ve.INVALID_ARGUMENT,te===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${te.toString()}' filters.`)}(r,N),N}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new is(t.firestore,t.converter,function(r,s){const u=r.filters.concat([s]);return new Cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class x$ extends Db{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ve(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ve(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Vm(r,s);return function(h,m){if(null===tM(h)){const v=nM(h);null!==v&&VV(0,v,m.field)}}(i,u),u}(t._query,this.ma,this.pa);return new is(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Cu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class RV extends Db{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new is(t.firestore,t.converter,rE(t._query,this.Ia,this.Ta))}}class OV extends Db{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=PV(t,this.type,this.Ea,this.Aa);return new is(t.firestore,t.converter,(r=e,new Cu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class FV extends Db{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=PV(t,this.type,this.Ea,this.Aa);return new is(t.firestore,t.converter,(r=e,new Cu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function PV(n,t,e,i){if(e[0]=(0,dn.m9)(e[0]),e[0]instanceof Cb)return function(r,s,u,h,m){if(!h)throw new Ve(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const E of Um(r))if(E.field.isKeyField())v.push(cp(s,h.key));else{const S=h.data.field(E.field);if(XT(S))throw new Ve(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const N=E.field.canonicalString();throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}v.push(S)}return new _h(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Cp(n.firestore);return function(s,u,h,m,v,E){const S=s.explicitOrderBy;if(v.length>S.length)throw new Ve(ve.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let H=0;H<v.length;H++){const z=v[H];if(S[H].field.isKeyField()){if("string"!=typeof z)throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof z}`);if(!iM(s)&&-1!==z.indexOf("/"))throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${z}' contains a slash.`);const te=s.path.child(vn.fromString(z));if(!Xe.isDocumentKey(te))throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const pe=new Xe(te);N.push(cp(u,pe))}else{const te=IV(h,m,z);N.push(te)}}return new _h(N,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function NV(n,t,e){if("string"==typeof(e=(0,dn.m9)(e))){if(""===e)throw new Ve(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iM(t)&&-1!==e.indexOf("/"))throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(vn.fromString(e));if(!Xe.isDocumentKey(i))throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cp(n,new Xe(i))}if(e instanceof ci)return cp(n,e._key);throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AE(e)}.`)}function LV(n,t){if(!Array.isArray(n)||0===n.length)throw new Ve(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ve(ve.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function VV(n,t,e){if(!e.isEqual(t))throw new Ve(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class zk{convertValue(t,e="none"){switch(lp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ri(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ap(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw pt()}}convertObject(t,e){const i={};return op(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new kE(Ri(t.latitude),Ri(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=KP(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(zv(t));default:return null}}convertTimestamp(t){const e=fh(t);return new mi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=vn.fromString(t);Ut(WN(i));const r=new ph(i.get(1),i.get(3)),s=new Xe(i.popFirst(5));return r.isEqual(e)||Bi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function LE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class O$ extends zk{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ci(this.firestore,null,e)}}class Ep{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Iu extends Cb{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Eb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(NE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Eb extends Iu{data(t={}){return super.data(t)}}class Eh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ep(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Eb(this._firestore,this._userDataWriter,i.key,i,new Ep(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ve(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Eb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ep(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Eb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ep(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==u.type&&(m=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),v=s.indexOf(u.doc.key)),{type:F$(u.type),doc:h,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function F$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function BV(n,t){return n instanceof Iu&&t instanceof Iu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Eh&&t instanceof Eh&&n._firestore===t._firestore&&Mk(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class xh extends zk{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ci(this.firestore,null,e)}}function UV(n,t,e){n=fn(n,ci);const i=fn(n.firestore,ui),r=LE(n.converter,t,e);return s_(i,[OE(Cp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,_i.none())])}function HV(n,t,e,...i){n=fn(n,ci);const r=fn(n.firestore,ui),s=Cp(r);let u;return u="string"==typeof(t=(0,dn.m9)(t))||t instanceof Au?Gk(s,"updateDoc",n._key,t,e,i):Hk(s,"updateDoc",n._key,t),s_(r,[u.toMutation(n._key,_i.exists(!0))])}function GV(n,...t){var e,i,r;n=(0,dn.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||Bk(t[u])||(s=t[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(Bk(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let m,v,E;if(n instanceof ci)v=fn(n.firestore,ui),E=Bm(n._key.path),m={next:S=>{t[u]&&t[u](qk(v,n,S))},error:t[u+1],complete:t[u+2]};else{const S=fn(n,is);v=fn(S.firestore,ui),E=S._query;const N=new xh(v);m={next:H=>{t[u]&&t[u](new Eh(v,N,S,H))},error:t[u+1],complete:t[u+2]},kV(n._query)}return function(S,N,H,z){const te=new SE(z),pe=new nk(N,te,H);return S.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return QM(yield r_(S),pe)})),()=>{te.bc(),S.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return JM(yield r_(S),pe)}))}}(Ui(v),E,h,m)}function s_(n,t){return function(e,i){const r=new lr;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function I3(n,t,e){return ak.apply(this,arguments)}(yield Lk(e),i,r)})),r.promise}(Ui(n),t)}function qk(n,t,e){const i=e.docs.get(t._key),r=new xh(n);return new Iu(n,r,t._key,i,new Ep(e.hasPendingWrites,e.fromCache),t.converter)}const $$={maxAttempts:5};class jV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Cp(t)}set(t,e,i){this._verifyNotCommitted();const r=Ah(t,this._firestore),s=LE(r.converter,e,i),u=OE(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,_i.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Ah(t,this._firestore);let u;return u="string"==typeof(e=(0,dn.m9)(e))||e instanceof Au?Gk(this._dataReader,"WriteBatch.update",s._key,e,i,r):Hk(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,_i.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ah(t,this._firestore);return this._mutations=this._mutations.concat(new $m(e._key,_i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ah(n,t){if((n=(0,dn.m9)(n)).firestore!==t)throw new Ve(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class z$ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Cp(t)}get(t){const e=Ah(t,this._firestore),i=new O$(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return pt();const s=r[0];if(s.isFoundDocument())return new Cb(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Cb(this._firestore,i,e._key,null,e.converter);throw pt()})}set(t,e,i){const r=Ah(t,this._firestore),s=LE(r.converter,e,i),u=OE(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=Ah(t,this._firestore);let u;return u="string"==typeof(e=(0,dn.m9)(e))||e instanceof Au?Gk(this._dataReader,"Transaction.update",s._key,e,i,r):Hk(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=Ah(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ah(t,this._firestore),i=new xh(this._firestore);return super.get(t).then(r=>new Iu(this._firestore,i,e._key,r._document,new Ep(!1,!1),e.converter))}}function Yk(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function zV(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function qV(){if(!function pG(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Fm=fu.SDK_VERSION,(0,fu._registerComponent)(new Kf.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),u=new ui(new nG(e.getProvider("auth-internal")),new sG(e.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ve(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ph(h.options.projectId,m)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,fu.registerVersion)(LP,"3.7.2",n),(0,fu.registerVersion)(LP,"3.7.2","esm2017")}();class xb{constructor(t){this._delegate=t}static fromBase64String(t){return qV(),new xb(hc.fromBase64String(t))}static fromUint8Array(t){return zV(),new xb(hc.fromUint8Array(t))}toBase64(){return qV(),this._delegate.toBase64()}toUint8Array(){return zV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wk(n){return function ez(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class tz{enableIndexedDbPersistence(t,e){return function a$(n,t){DV(n=fn(n,ui));const e=Ui(n),i=n._freezeSettings(),r=new Sk;return CV(e,r,new rV(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function l$(n){DV(n=fn(n,ui));const t=Ui(n),e=n._freezeSettings(),i=new Sk;return CV(t,i,new j3(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function c$(n){if(n._initialized&&!n._terminated)throw new Ve(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(e=(0,De.Z)(function*(i){if(!fl.C())return Promise.resolve();const r=i+"main";yield fl.delete(r)}),function(i){return e.apply(this,arguments)})(wM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class YV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof ph||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ip("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function dV(n,t,e,i={}){var r;const s=(n=fn(n,bb))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&ip("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Dr.MOCK_USER;else{u=(0,dn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Ve(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dr(m)}n._authCredentials=new tG(new VP(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function d$(n){return function Q3(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield _V(n),e=yield Nk(n);return t.setNetworkEnabled(!0),function(i){const r=nt(i);return r._u.delete(0),yb(r)}(e)}))}(Ui(n=fn(n,ui)))}(this._delegate)}disableNetwork(){return function h$(n){return function X3(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield _V(n),e=yield Nk(n);return t.setNetworkEnabled(!1),(i=(0,De.Z)(function*(r){const s=nt(r);s._u.add(0),yield Qm(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ui(n=fn(n,ui)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,sV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function u$(n){return function(t){const e=new lr;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function k3(n,t){return hk.apply(this,arguments)}(yield Lk(t),e)})),e.promise}(Ui(n=fn(n,ui)))}(this._delegate)}onSnapshotsInSync(t){return function j$(n,t){return function t$(n,t){const e=new SE(t);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield r_(n),r=e,nt(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield r_(n),r=e,void nt(i).Ru.delete(r);var i,r}))}}(Ui(n=fn(n,ui)),Bk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new o_(this,hV(this._delegate,t))}catch(e){throw As(e,"collection()","Firestore.collection()")}}doc(t){try{return new ma(this,IE(this._delegate,t))}catch(e){throw As(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Is(this,function $3(n,t){if(n=fn(n,bb),Tk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ve(ve.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(n,null,(e=t,new Cu(vn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw As(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function q$(n,t,e){n=fn(n,ui);const i=Object.assign(Object.assign({},$$),e);return function(r){if(r.maxAttempts<1)throw new Ve(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const h=new lr;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const m=yield function yV(n){return TE(n).then(t=>t.datastore)}(r);new Z3(r.asyncQueue,m,u,s,h).run()})),h.promise}(Ui(n),r=>t(new z$(n,r)),i)}(this._delegate,e=>t(new WV(this,e)))}batch(){return Ui(this._delegate),new ZV(new jV(this._delegate,t=>s_(this._delegate,t)))}loadBundle(t){return function f$(n,t){const e=Ui(n=fn(n,ui)),i=new s$;return function n$(n,t,e,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,m=function(m,v){if(m instanceof Uint8Array)return pV(m,v);if(m instanceof ArrayBuffer)return pV(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new z3(m,u);var m}(e,_b(t));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function G3(n,t,e){const i=nt(n);var r;(r=(0,De.Z)(function*(s,u,h){try{const m=yield u.getMetadata();if(yield function(N,H){const z=nt(N),te=Er(H.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",pe=>z.Ns.getBundleMetadata(pe,H.id)).then(pe=>!!pe&&pe.createTime.compareTo(te)>=0)}(s.localStore,m))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(N=m).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);h._updateProgress(WL(m));const v=new w3(m,s.localStore,u.It);let E=yield u.mc();for(;E;){const N=yield v.Fu(E);N&&h._updateProgress(N),E=yield u.mc()}const S=yield v.complete();return yield xu(s,S.Lu,void 0),yield function(N,H){const z=nt(N);return z.persistence.runTransaction("Save bundle","readwrite",te=>z.Ns.saveBundleMetadata(te,H))}(s.localStore,m),h._completeWith(S.progress),Promise.resolve(S.Bu)}catch(m){return ip("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var N}),function(s,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Lk(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function p$(n,t){return function i$(n,t){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(e,i){const r=nt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield ME(n),t)}))}(Ui(n=fn(n,ui)),t).then(e=>e?new is(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Is(this,e):null)}}class VE extends zk{constructor(t){super(),this.firestore=t}convertBytes(t){return new xb(new hc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ma.forKey(e,this.firestore,null)}}class WV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}get(t){const e=Ap(t);return this._delegate.get(e).then(i=>new Ab(this._firestore,new Iu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Ap(t);return i?(Yk("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Ap(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Ap(t);return this._delegate.delete(e),this}}class ZV{constructor(t){this._delegate=t}set(t,e,i){const r=Ap(t);return i?(Yk("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Ap(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Ap(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class xp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Eb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ib(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=xp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new xp(t,new VE(t),e),r.set(e,s)),s}}xp.INSTANCES=new WeakMap;class ma{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ma(e,new ci(e._delegate,i,new Xe(t)))}static forKey(t,e,i){return new ma(e,new ci(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new o_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new o_(this.firestore,hV(this._delegate,t))}catch(e){throw As(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,dn.m9)(t))instanceof ci&&fV(this._delegate,t)}set(t,e){e=Yk("DocumentReference.set",e);try{return e?UV(this._delegate,t,e):UV(this._delegate,t)}catch(i){throw As(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?HV(this._delegate,t):HV(this._delegate,t,e,...i)}catch(r){throw As(r,"updateDoc()","DocumentReference.update()")}}delete(){return function H$(n){return s_(fn(n.firestore,ui),[new $m(n._key,_i.none())])}(this._delegate)}onSnapshot(...t){const e=KV(t),i=QV(t,r=>new Ab(this.firestore,new Iu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return GV(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function N$(n){n=fn(n,ci);const t=fn(n.firestore,ui),e=Ui(t),i=new xh(t);return function J3(n,t){const e=new lr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,s,u){try{const h=yield function(m,v){const E=nt(m);return E.persistence.runTransaction("read document","readonly",S=>E.localDocuments.getDocument(S,v))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ve(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=e_(h,`Failed to get document '${s} from cache`);u.reject(m)}}),function(r,s,u){return i.apply(this,arguments)})(yield ME(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Iu(t,i,n._key,r,new Ep(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function L$(n){n=fn(n,ci);const t=fn(n.firestore,ui);return vV(Ui(t),n._key,{source:"server"}).then(e=>qk(t,n,e))}(this._delegate):function P$(n){n=fn(n,ci);const t=fn(n.firestore,ui);return vV(Ui(t),n._key).then(e=>qk(t,n,e))}(this._delegate),e.then(i=>new Ab(this.firestore,new Iu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ma(this.firestore,this._delegate.withConverter(t?xp.getInstance(this.firestore,t):null))}}function As(n,t,e){return n.message=n.message.replace(t,e),n}function KV(n){for(const t of n)if("object"==typeof t&&!Wk(t))return t;return{}}function QV(n,t){var e,i;let r;return r=Wk(n[0])?n[0]:Wk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ab{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return BV(this._delegate,t._delegate)}}class Ib extends Ab{data(t){const e=this._delegate.data(t);return function JH(n,t){n||pt()}(void 0!==e),e}}class Is{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new VE(t)}where(t,e,i){try{return new Is(this.firestore,Dh(this._delegate,function E$(n,t,e){const i=t,r=NE("where",n);return new D$(r,i,e)}(t,e,i)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Is(this.firestore,Dh(this._delegate,function A$(n,t="asc"){const e=t,i=NE("orderBy",n);return new x$(i,e)}(t,e)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Is(this.firestore,Dh(this._delegate,function I$(n){return lV("limit",n),new RV("limit",n,"F")}(t)))}catch(e){throw As(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Is(this.firestore,Dh(this._delegate,function S$(n){return lV("limitToLast",n),new RV("limitToLast",n,"L")}(t)))}catch(e){throw As(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Is(this.firestore,Dh(this._delegate,function T$(...n){return new OV("startAt",n,!0)}(...t)))}catch(e){throw As(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Is(this.firestore,Dh(this._delegate,function M$(...n){return new OV("startAfter",n,!1)}(...t)))}catch(e){throw As(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Is(this.firestore,Dh(this._delegate,function k$(...n){return new FV("endBefore",n,!1)}(...t)))}catch(e){throw As(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Is(this.firestore,Dh(this._delegate,function R$(...n){return new FV("endAt",n,!0)}(...t)))}catch(e){throw As(e,"endAt()","Query.endAt()")}}isEqual(t){return Mk(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function B$(n){n=fn(n,is);const t=fn(n.firestore,ui),e=Ui(t),i=new xh(t);return function e$(n,t){const e=new lr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,s,u){try{const h=yield bE(r,s,!0),m=new QL(s,h.Hi),v=m.Wu(h.documents),E=m.applyChanges(v,!1);u.resolve(E.snapshot)}catch(h){const m=e_(h,`Failed to execute query '${s} against cache`);u.reject(m)}}),function(r,s,u){return i.apply(this,arguments)})(yield ME(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Eh(t,i,n,r))}(this._delegate):"server"===t?.source?function U$(n){n=fn(n,is);const t=fn(n.firestore,ui),e=Ui(t),i=new xh(t);return bV(e,n._query,{source:"server"}).then(r=>new Eh(t,i,n,r))}(this._delegate):function V$(n){n=fn(n,is);const t=fn(n.firestore,ui),e=Ui(t),i=new xh(t);return kV(n._query),bV(e,n._query).then(r=>new Eh(t,i,n,r))}(this._delegate),e.then(i=>new Zk(this.firestore,new Eh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=KV(t),i=QV(t,r=>new Zk(this.firestore,new Eh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return GV(this._delegate,e,i)}withConverter(t){return new Is(this.firestore,this._delegate.withConverter(t?xp.getInstance(this.firestore,t):null))}}class iz{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ib(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zk{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ib(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new iz(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Ib(this._firestore,i))})}isEqual(t){return BV(this._delegate,t._delegate)}}class o_ extends Is{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ma(this.firestore,t):null}doc(t){try{return new ma(this.firestore,void 0===t?IE(this._delegate):IE(this._delegate,t))}catch(e){throw As(e,"doc()","CollectionReference.doc()")}}add(t){return function G$(n,t){const e=fn(n.firestore,ui),i=IE(n),r=LE(n.converter,t);return s_(e,[OE(Cp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,_i.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ma(this.firestore,e))}isEqual(t){return fV(this._delegate,t._delegate)}withConverter(t){return new o_(this.firestore,this._delegate.withConverter(t?xp.getInstance(this.firestore,t):null))}}function Ap(n){return fn(n,ci)}class Kk{constructor(...t){this._delegate=new Au(...t)}static documentId(){return new Kk(Mi.keyField().canonicalString())}isEqual(t){return(t=(0,dn.m9)(t))instanceof Au&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ip{constructor(t){this._delegate=t}static serverTimestamp(){const t=function W$(){return new Uk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ip(t)}static delete(){const t=function Y$(){return new wb("deleteField")}();return t._methodName="FieldValue.delete",new Ip(t)}static arrayUnion(...t){const e=function Z$(...n){return new y$("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Ip(e)}static arrayRemove(...t){const e=function K$(...n){return new v$("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Ip(e)}static increment(t){const e=function Q$(n){return new b$("increment",n)}(t);return e._methodName="FieldValue.increment",new Ip(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const rz={Firestore:YV,GeoPoint:kE,Timestamp:mi,Blob:xb,Transaction:WV,WriteBatch:ZV,DocumentReference:ma,DocumentSnapshot:Ab,Query:Is,QueryDocumentSnapshot:Ib,QuerySnapshot:Zk,CollectionReference:o_,FieldPath:Kk,FieldValue:Ip,setLogLevel:function nz(n){!function XH(n){uh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function oz(n){(function sz(n,t){n.INTERNAL.registerComponent(new Kf.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},rz)))})(n,(t,e)=>new YV(t,e,new tz)),n.registerVersion("@firebase/firestore-compat","0.2.2")}($1.Z);var BE=L(5363),az=L(6063);class lz extends ft.x{constructor(t=1/0,e=1/0,i=az.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let h=0;for(let m=1;m<i.length&&i[m]<=u;m+=2)h=m;h&&i.splice(0,h+1)}}}var XV=L(3099);function JV(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,XV.B)({connector:()=>new lz(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function eB(n,t){return(0,Jn.m)(t)?Yt(()=>n,t):Yt(()=>n)}var Qk=L(9468);L(5867);const nB=new Map,fz={activated:!1,tokenObservers:[]},pz={initialized:!1,enabled:!1};function Ir(n){return nB.get(n)||fz}function _a(n,t){nB.set(n,t)}function HE(){return pz}class vz{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,De.Z)(function*(){e.stop();try{e.pending=new dn.BH,yield function bz(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new dn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ss=new dn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rB(n){if(!Ir(n).activated)throw Ss.create("use-before-activation",{appName:n.name})}function tR(n,t){return nR.apply(this,arguments)}function nR(){return nR=(0,De.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const H=yield u.getHeartbeatsHeader();H&&(s["X-Firebase-Client"]=H)}const h={method:"POST",body:JSON.stringify(t),headers:s};let m,v;try{m=yield fetch(n,h)}catch(H){throw Ss.create("fetch-network-error",{originalErrorMessage:null===(i=H)||void 0===i?void 0:i.message})}if(200!==m.status)throw Ss.create("fetch-status-error",{httpStatus:m.status});try{v=yield m.json()}catch(H){throw Ss.create("fetch-parse-error",{originalErrorMessage:null===(r=H)||void 0===r?void 0:r.message})}const E=v.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(E[1]),N=Date.now();return{token:v.token,expireTimeMillis:N+S,issuedAtTimeMillis:N}}),nR.apply(this,arguments)}function Ez(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Sb="firebase-app-check-store";let $E=null;function oB(){return $E||($E=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Ss.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Sb,{keyPath:"compositeKey"})}}catch(i){t(Ss.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),$E)}function iR(){return iR=(0,De.Z)(function*(n,t){const i=(yield oB()).transaction(Sb,"readwrite"),s=i.objectStore(Sb).put({compositeKey:n,value:t});return new Promise((u,h)=>{s.onsuccess=m=>{u()},i.onerror=m=>{var v;h(Ss.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),iR.apply(this,arguments)}const Tb=new pu.Yd("@firebase/app-check");function oR(n,t){return(0,dn.hl)()?function Sz(n,t){return function aB(n,t){return iR.apply(this,arguments)}(function cB(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Tb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function uB(){return HE().enabled}function dB(){return lR.apply(this,arguments)}function lR(){return lR=(0,De.Z)(function*(){const n=HE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lR.apply(this,arguments)}const Fz={error:"UNKNOWN_ERROR"};function Pz(n){return dn.US.encodeString(JSON.stringify(n),!1)}function zE(n){return cR.apply(this,arguments)}function cR(){return cR=(0,De.Z)(function*(n,t=!1){const e=n.app;rB(e);const i=Ir(e);let s,r=i.token;if(r&&!a_(r)&&(_a(e,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(a_(m)?r=m:yield oR(e,void 0))}if(!t&&r&&a_(r))return{token:r.token};let h,u=!1;if(uB()){i.exchangeTokenPromise||(i.exchangeTokenPromise=tR(Ez(e,yield dB()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const m=yield i.exchangeTokenPromise;return yield oR(e,m),_a(e,Object.assign(Object.assign({},i),{token:m})),{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield i.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Tb.warn(m.message):Tb.error(m),s=m}return r?s?h=a_(r)?{token:r.token,internalError:s}:pB(s):(h={token:r.token},_a(e,Object.assign(Object.assign({},i),{token:r})),yield oR(e,r)):h=pB(s),u&&fB(e,h),h}),cR.apply(this,arguments)}function dR(n,t){const e=Ir(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),_a(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function hB(n){const{app:t}=n,e=Ir(t);let i=e.tokenRefresher;i||(i=function Nz(n){const{app:t}=n;return new vz((0,De.Z)(function*(){let i;if(i=Ir(t).token?yield zE(n,!0):yield zE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Ir(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),_a(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function fB(n,t){const e=Ir(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function a_(n){return n.expireTimeMillis-Date.now()>0}function pB(n){return{token:Pz(Fz),error:n}}class Lz{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ir(this.app);for(const e of t)dR(this.app,e.next);return Promise.resolve()}}const CB="app-check-internal";!function Qz(){(0,fu._registerComponent)(new Kf.wA("app-check",n=>function Vz(n,t){return new Lz(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(CB).initialize()})),(0,fu._registerComponent)(new Kf.wA(CB,n=>function Bz(n){return{getToken:t=>zE(n,t),addTokenListener:t=>function uR(n,t,e,i){const{app:r}=n,s=Ir(r),u={next:e,error:i,type:t};if(_a(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&a_(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),hB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>hB(n))}(n,"INTERNAL",t),removeTokenListener:t=>dR(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fu.registerVersion)("@firebase/app-check","0.5.16")}();class gR{constructor(){return(0,wr.vb)("app-check")}}typeof window<"u"&&window,L(127);const EB=new a.OlP("angularfire2.auth.use-emulator"),xB=new a.OlP("angularfire2.auth.settings"),AB=new a.OlP("angularfire2.auth.tenant-id"),IB=new a.OlP("angularfire2.auth.langugage-code"),SB=new a.OlP("angularfire2.auth.use-device-language"),TB=new a.OlP("angularfire.auth.persistence"),MB=(n,t,e,i,r,s,u,h)=>(0,Li.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),u)for(const[v,E]of Object.entries(u))m.settings[v]=E;return h&&m.setPersistence(h),m},[e,i,r,s,u,h]);let _R=(()=>{class n{constructor(e,i,r,s,u,h,m,v,E,S,N,H){const z=new ft.x,te=Ke(void 0).pipe((0,BE.Q)(u.outsideAngular),Yt(()=>s.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5881)))),(0,dt.U)(()=>(0,Li.on)(e,s,i)),(0,dt.U)(pe=>MB(pe,s,h,v,E,S,m,N)),JV({bufferSize:1,refCount:!1}));if(gr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{te.pipe(Ie()).subscribe();const Ue=te.pipe(Yt(_t=>_t.getRedirectResult().then(Rt=>Rt,()=>null)),wr.iC,JV({bufferSize:1,refCount:!1})),st=te.pipe(Yt(_t=>new Hn.y(Rt=>({unsubscribe:s.runOutsideAngular(()=>_t.onAuthStateChanged(Vt=>Rt.next(Vt),Vt=>Rt.error(Vt),()=>Rt.complete()))})))),mt=te.pipe(Yt(_t=>new Hn.y(Rt=>({unsubscribe:s.runOutsideAngular(()=>_t.onIdTokenChanged(Vt=>Rt.next(Vt),Vt=>Rt.error(Vt),()=>Rt.complete()))}))));this.authState=Ue.pipe(eB(st),(0,Qk.R)(u.outsideAngular),(0,BE.Q)(u.insideAngular)),this.user=Ue.pipe(eB(mt),(0,Qk.R)(u.outsideAngular),(0,BE.Q)(u.insideAngular)),this.idToken=this.user.pipe(Yt(_t=>_t?(0,pn.D)(_t.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(Yt(_t=>_t?(0,pn.D)(_t.getIdTokenResult()):Ke(null))),this.credential=(0,$s.T)(Ue,z,this.authState.pipe(I(_t=>!_t))).pipe((0,dt.U)(_t=>_t?.user?_t:null),(0,Qk.R)(u.outsideAngular),(0,BE.Q)(u.insideAngular))}return(0,Li.pX)(this,te,s,{spy:{apply:(pe,Ue,st)=>{(pe.startsWith("signIn")||pe.startsWith("createUser"))&&st.then(mt=>z.next(mt))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Li.Dh),a.LFG(Li.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(wr.HU),a.LFG(EB,8),a.LFG(xB,8),a.LFG(AB,8),a.LFG(IB,8),a.LFG(SB,8),a.LFG(TB,8),a.LFG(gR,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function kB(n,t){return function i6(n,t=ua.z){return new Hn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function yR(n,t){return kB(n,t).pipe((0,dt.U)(e=>({payload:e,type:"query"})))}function YE(n,t){return yR(n,t).pipe(x(void 0),mv(),(0,dt.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const m=r.find(E=>E.doc.ref.isEqual(u.ref)),v=e?.payload.docs.find(E=>E.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function RB(n,t,e){return YE(n,e).pipe(gt((i,r)=>function s6(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function o6(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return vR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return vR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return vR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Ry(),(0,dt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function vR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function OB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class FB{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=YE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,dt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(x(void 0),mv(),I(([i,r])=>r.length>0||!i),(0,dt.U)(([i,r])=>r),wr.iC)}auditTrail(t){return this.stateChanges(t).pipe(gt((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=OB(t);return RB(this.query,e,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(t={}){return yR(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),wr.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(wr.iC)}add(t){return this.ref.add(t)}doc(t){return new PB(this.ref.doc(t),this.afs)}}class PB{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=NB(i,e);return new FB(r,s,this.afs)}snapshotChanges(){return function r6(n,t){return kB(n,t).pipe(x(void 0),mv(),(0,dt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,pn.D)(this.ref.get(t)).pipe(wr.iC)}}class a6{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?YE(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),I(e=>e.length>0),wr.iC):YE(this.query,this.afs.schedulers.outsideAngular).pipe(wr.iC)}auditTrail(t){return this.stateChanges(t).pipe(gt((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=OB(t);return RB(this.query,e,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(t={}){return yR(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),wr.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(wr.iC)}}const l6=new a.OlP("angularfire2.enableFirestorePersistence"),c6=new a.OlP("angularfire2.firestore.persistenceSettings"),u6=new a.OlP("angularfire2.firestore.settings"),d6=new a.OlP("angularfire2.firestore.use-emulator");function NB(n,t=(e=>e)){return{query:t(n),ref:n}}let h6=(()=>{class n{constructor(e,i,r,s,u,h,m,v,E,S,N,H,z,te,pe,Ue,st){this.schedulers=m;const mt=(0,Li.on)(e,h,i),_t=E;S&&MB(mt,h,N,z,te,pe,H,Ue),[this.firestore,this.persistenceEnabled$]=(0,Li.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const Rt=h.runOutsideAngular(()=>mt.firestore());if(s&&Rt.settings(s),_t&&Rt.useEmulator(..._t),r&&!gr(u)){const Vt=()=>{try{return(0,pn.D)(Rt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(gn){return typeof console<"u"&&console.warn(gn),Ke(!1)}};return[Rt,h.runOutsideAngular(Vt)]}return[Rt,Ke(!1)]},[s,_t,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=NB(r,i),h=this.schedulers.ngZone.run(()=>s);return new FB(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new a6(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new PB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Li.Dh),a.LFG(Li.xv,8),a.LFG(l6,8),a.LFG(u6,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(wr.HU),a.LFG(c6,8),a.LFG(d6,8),a.LFG(_R,8),a.LFG(EB,8),a.LFG(xB,8),a.LFG(AB,8),a.LFG(IB,8),a.LFG(SB,8),a.LFG(TB,8),a.LFG(gR,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LB=(()=>{class n{constructor(e){this.afs=e}addTodolist(e){return e.id=this.afs.createId(),this.afs.collection("/ToDoList").add(e)}gettAllTodolist(){return this.afs.collection("/ToDoList").snapshotChanges()}getByIdTodolist(e){return this.afs.collection("/ToDoList/").doc(e).get()}deleteTodolist(e){return this.afs.doc("/ToDoList/"+e.id).delete()}updateTodolist(e){this.deleteTodolist(e),this.addTodolist(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(h6))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f6=["connectionContainer"],p6=["inputContainer"],g6=["label"];function m6(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function _6(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function y6(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function v6(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function b6(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function w6(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.YNc(2,y6,4,1,"ng-container",12),a.YNc(3,v6,1,0,"ng-content",12),a.YNc(4,b6,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function C6(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function D6(n,t){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function E6(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function x6(n,t){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function A6(n,t){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,x6,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const I6=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],S6=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let T6=0;const VB=new a.OlP("MatError");let WE=(()=>{class n{constructor(e,i){this.id="mat-error-"+T6++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("id",i.id)},inputs:{id:"id"},features:[a._Bn([{provide:VB,useExisting:n}])]}),n})();const M6={transitionMessages:ym("transitionMessages",[vm("enter",ns({opacity:1,transform:"translateY(0%)"})),hu("void => enter",[ns({opacity:0,transform:"translateY(-5px)"}),fa("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const k6=new a.OlP("MatHint");let Sp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),R6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const O6=new a.OlP("MatPrefix"),BB=new a.OlP("MatSuffix");let wR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:BB,useExisting:n}])]}),n})(),UB=0;const P6=uu(class{constructor(n){this._elementRef=n}},"primary"),N6=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ZE=new a.OlP("MatFormField");let KE=(()=>{class n extends P6{constructor(e,i,r,s,u,h,m){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ft.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+UB++,this._labelId="mat-form-field-label-"+UB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=sn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(x(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Wi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,$s.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(x(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(x(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Wi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,tc(this._label.nativeElement,"transitionend").pipe(kn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const E=i.querySelectorAll(`${r}, ${s}`);for(let S=0;S<E.length;S++)E[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const m=i.querySelectorAll(r),v=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const E=i.getBoundingClientRect();if(0===E.width&&0===E.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(E),N=e.children,H=this._getStartEnd(N[0].getBoundingClientRect());let z=0;for(let te=0;te<N.length;te++)z+=N[te].offsetWidth;u=Math.abs(H-S)-5,h=z>0?.75*z+10:0}for(let E=0;E<m.length;E++)m[E].style.width=`${u}px`;for(let E=0;E<v.length;E++)v[E].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Cs,8),a.Y36(N6,8),a.Y36(Di),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,bR,5),a.Suo(r,bR,7),a.Suo(r,Sp,5),a.Suo(r,Sp,7),a.Suo(r,R6,5),a.Suo(r,VB,5),a.Suo(r,k6,5),a.Suo(r,O6,5),a.Suo(r,BB,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(i._controlStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._placeholderChild=s.first),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(a.Gf(f6,7),a.Gf(p6,5),a.Gf(g6,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:ZE,useExisting:n}]),a.qOj],ngContentSelectors:S6,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(a.F$t(I6),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(3,m6,9,0,"ng-container",3),a.YNc(4,_6,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,w6,5,16,"label",8),a.qZA()(),a.YNc(10,C6,2,0,"div",9),a.qZA(),a.YNc(11,D6,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,E6,2,1,"div",12),a.YNc(14,A6,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[Sn,Ms,Da,Py],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[M6.transitionMessages]},changeDetection:0}),n})(),CR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Sa,Rn,tm,Rn]}),n})();const GB=nl({passive:!0});let L6=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return zi.E;const i=cl(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ft.x,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,GB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,GB)}}),s}stopMonitoring(e){const i=cl(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Di),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const $B=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),V6=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let B6=0;const U6=ZD(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new ft.x}});let QE=(()=>{class n extends U6{constructor(e,i,r,s,u,h,m,v,E,S){super(h,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=S,this._uid="mat-input-"+B6++,this.focused=!1,this.stateChanges=new ft.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(z=>ws().has(z)),this._iOSKeyupListener=z=>{const te=z.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,H=N.nodeName.toLowerCase();this._inputValueAccessor=m||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=sn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(es.required)??!1}set required(e){this._required=sn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ws().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=sn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){V6.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Di),a.Y36(tl,10),a.Y36(If,8),a.Y36(Kl,8),a.Y36(e0),a.Y36($B,10),a.Y36(L6),a.Y36(a.R0b),a.Y36(ZE,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:bR,useExisting:n}]),a.qOj,a.TTD]}),n})(),H6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[e0],imports:[jB,CR,Rn,jB,CR]}),n})();const G6=["mat-button",""],j6=["*"],z6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],q6=uu(YD(nc(class{constructor(n){this._elementRef=n}})));let Su=(()=>{class n extends q6{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of z6)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(au),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(_m,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:G6,ngContentSelectors:j6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[_m],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),zB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lv,Rn,Rn]}),n})();const Y6=["mat-calendar-body",""];function W6(n,t){if(1&n&&(a.TgZ(0,"tr",2)(1,"td",3),a._uU(2),a.qZA()()),2&n){const e=a.oxw();a.xp6(1),a.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),a.uIk("colspan",e.numCols),a.xp6(1),a.hij(" ",e.label," ")}}function Z6(n,t){if(1&n&&(a.TgZ(0,"td",3),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),a.uIk("colspan",e._firstRowOffset),a.xp6(1),a.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function K6(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",7)(1,"button",8),a.NdJ("click",function(r){const u=a.CHM(e).$implicit,h=a.oxw(2);return a.KtG(h._cellClicked(u,r))})("focus",function(r){const u=a.CHM(e).$implicit,h=a.oxw(2);return a.KtG(h._emitActiveDateChange(u,r))}),a.TgZ(2,"div",9),a._uU(3),a.qZA(),a._UZ(4,"div",10),a.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=a.oxw().index,s=a.oxw();a.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),a.uIk("data-mat-row",r)("data-mat-col",i),a.xp6(1),a.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),a.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),a.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),a.xp6(1),a.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),a.xp6(1),a.hij(" ",e.displayValue," ")}}function Q6(n,t){if(1&n&&(a.TgZ(0,"tr",4),a.YNc(1,Z6,2,6,"td",5),a.YNc(2,K6,5,47,"td",6),a.qZA()),2&n){const e=t.$implicit,i=t.index,r=a.oxw();a.xp6(1),a.Q6J("ngIf",0===i&&r._firstRowOffset),a.xp6(1),a.Q6J("ngForOf",e)}}function X6(n,t){if(1&n&&(a.TgZ(0,"th",5)(1,"span",6),a._uU(2),a.qZA(),a.TgZ(3,"span",7),a._uU(4),a.qZA()()),2&n){const e=t.$implicit;a.xp6(2),a.Oqu(e.long),a.xp6(2),a.Oqu(e.narrow)}}const qB=["*"];function J6(n,t){}function eq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-month-view",5),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("_userSelection",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._dateSelected(r))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function tq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-year-view",6),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("monthSelected",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._goToDateInView(r,"month"))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function nq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-multi-year-view",7),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("yearSelected",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._goToDateInView(r,"year"))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function iq(n,t){}const rq=["button"];function sq(n,t){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"path",4),a.qZA())}const oq=[[["","matDatepickerToggleIcon",""]]],aq=["[matDatepickerToggleIcon]"];function lq(n,t){1&n&&(a.TgZ(0,"div",0),a.Hsn(1),a.qZA())}let Mb=(()=>{class n{constructor(){this.changes=new ft.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DR{constructor(t,e,i,r,s={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=u,this.rawValue=h}}let l_=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new a.vpe,this.previewChange=new a.vpe,this.activeDateChange=new a.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(kn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ER(e,this.startValue,this.endValue)}_isRangeEnd(e){return xR(e,this.startValue,this.endValue)}_isInRange(e){return AR(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ER(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const u=this.rows[i-1];s=u&&u[u.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const u=this.rows[i+1];s=u&&u[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return xR(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return AR(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ER(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return xR(e,this.previewStart,this.previewEnd)}_isInPreview(e){return AR(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(YB(e)?i=e:YB(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[a.TTD],attrs:Y6,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(a.YNc(0,W6,3,6,"tr",0),a.YNc(1,Q6,3,2,"tr",1)),2&e&&(a.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),a.xp6(1),a.Q6J("ngForOf",i.rows))},dependencies:[cn,us,Sn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function YB(n){return"TD"===n.nodeName}function ER(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function xR(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function AR(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Ws{constructor(t,e){this.start=t,this.end=e}}let Ih=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new ft.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),cq=(()=>{class n extends Ih{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(br))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const WB={provide:Ih,deps:[[new a.FiY,new a.tp0,Ih],br],useFactory:function dq(n,t){return n||new cq(t)}},XE=new a.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let ZB=(()=>{class n{constructor(e,i,r,s,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=u,this._rerenderSubscription=Ci.w0.EMPTY,this.selectedChange=new a.vpe,this._userSelection=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ws?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(x(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,u;this._selected instanceof Ws?(s=this._getDateInCurrentMonth(this._selected.start),u=this._getDateInCurrentMonth(this._selected.end)):s=u=this._getDateInCurrentMonth(this._selected),(s!==i||u!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!ll(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),m=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),v=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new DR(r+1,i[r],m,h,v,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Ws?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(du,8),a.Y36(br,8),a.Y36(Cs,8),a.Y36(XE,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(l_,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[a.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a.YNc(3,X6,5,2,"th",2),a.qZA(),a.TgZ(4,"tr"),a._UZ(5,"th",3),a.qZA()(),a.TgZ(6,"tbody",4),a.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngForOf",i._weekdays),a.xp6(3),a.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[us,l_],encapsulation:2,changeDetection:0}),n})(),KB=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Ci.w0.EMPTY,this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),QB(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ws?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(x(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-kb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(u=>this._createCellForYear(u))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-kb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-kb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return kb(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new DR(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ws){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(br,8),a.Y36(Cs,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(l_,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[l_],encapsulation:2,changeDetection:0}),n})();function QB(n,t,e,i,r){const s=n.getYear(t),u=n.getYear(e),h=XB(n,i,r);return Math.floor((s-h)/24)===Math.floor((u-h)/24)}function kb(n,t,e,i){return function gq(n,t){return(n%t+t)%t}(n.getYear(t)-XB(n,e,i),24)}function XB(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let JB=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Ci.w0.EMPTY,this.selectedChange=new a.vpe,this.monthSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ws?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(x(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new DR(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Ws?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(du,8),a.Y36(br,8),a.Y36(Cs,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(l_,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[l_],encapsulation:2,changeDetection:0}),n})(),mq=0,_q=(()=>{class n{constructor(e,i,r,s,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+mq++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-kb(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):QB(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Mb),a.Y36((0,a.Gpc)(()=>TR)),a.Y36(br,8),a.Y36(du,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:qB,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return i.currentPeriodClicked()}),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.O4$(),a.TgZ(5,"svg",3),a._UZ(6,"polygon",4),a.qZA()(),a.kcU(),a._UZ(7,"div",5),a.Hsn(8),a.TgZ(9,"button",6),a.NdJ("click",function(){return i.previousClicked()}),a.qZA(),a.TgZ(10,"button",7),a.NdJ("click",function(){return i.nextClicked()}),a.qZA()()()),2&e&&(a.xp6(2),a.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),a.xp6(1),a.uIk("id",i._buttonDescriptionId),a.xp6(1),a.Oqu(i.periodButtonText),a.xp6(1),a.ekj("mat-calendar-invert","month"!==i.calendar.currentView),a.xp6(4),a.Q6J("disabled",!i.previousEnabled()),a.uIk("aria-label",i.prevButtonLabel),a.xp6(1),a.Q6J("disabled",!i.nextEnabled()),a.uIk("aria-label",i.nextButtonLabel))},dependencies:[Su],encapsulation:2,changeDetection:0}),n})(),TR=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this._userSelection=new a.vpe,this.stateChanges=new ft.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ws?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new jf(this.headerComponent||_q),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Ws||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Mb),a.Y36(br,8),a.Y36(du,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(a.Gf(ZB,5),a.Gf(JB,5),a.Gf(KB,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.monthView=r.first),a.iGM(r=a.CRH())&&(i.yearView=r.first),a.iGM(r=a.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[a._Bn([WB]),a.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(a.YNc(0,J6,0,0,"ng-template",0),a.TgZ(1,"div",1),a.YNc(2,eq,1,8,"mat-month-view",2),a.YNc(3,tq,1,6,"mat-year-view",3),a.YNc(4,nq,1,6,"mat-multi-year-view",4),a.qZA()),2&e&&(a.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),a.xp6(1),a.Q6J("ngSwitch",i.currentView),a.xp6(1),a.Q6J("ngSwitchCase","month"),a.xp6(1),a.Q6J("ngSwitchCase","year"),a.xp6(1),a.Q6J("ngSwitchCase","multi-year"))},dependencies:[Ms,Da,Vf,Xd,ZB,JB,KB],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const e2={transformPanel:ym("transformPanel",[hu("void => enter-dropdown",fa("120ms cubic-bezier(0, 0, 0.2, 1)",u0([ns({opacity:0,transform:"scale(1, 0.8)"}),ns({opacity:1,transform:"scale(1, 1)"})]))),hu("void => enter-dialog",fa("150ms cubic-bezier(0, 0, 0.2, 1)",u0([ns({opacity:0,transform:"scale(0.7)"}),ns({transform:"none",opacity:1})]))),hu("* => void",fa("100ms linear",ns({opacity:0})))]),fadeInCalendar:ym("fadeInCalendar",[vm("void",ns({opacity:0})),vm("enter",ns({opacity:1})),hu("void => *",fa("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let yq=0;const t2=new a.OlP("mat-datepicker-scroll-strategy"),bq={provide:t2,deps:[ha],useFactory:function vq(n){return()=>n.scrollStrategies.reposition()}},wq=uu(class{constructor(n){this._elementRef=n}});let Cq=(()=>{class n extends wq{constructor(e,i,r,s,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=u,this._subscriptions=new Ci.w0,this._animationDone=new ft.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Ws;if(s&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Ih),a.Y36(br),a.Y36(XE,8),a.Y36(Mb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&a.Gf(TR,5),2&e){let r;a.iGM(r=a.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&a.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(a.d8E("@transformPanel",i._animationState),a.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[a.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0)(1,"mat-calendar",1),a.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),a.qZA(),a.YNc(2,iq,0,0,"ng-template",2),a.TgZ(3,"button",3),a.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),a._uU(4),a.qZA()()),2&e){let r;a.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),a.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),a.xp6(1),a.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),a.xp6(1),a.Q6J("cdkPortalOutlet",i._actionsPortal),a.xp6(1),a.ekj("cdk-visually-hidden",!i._closeButtonFocused),a.Q6J("color",i.color||"primary"),a.xp6(1),a.Oqu(i._closeButtonText)}},dependencies:[cn,Su,aD,Xd,TR],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[e2.transformPanel,e2.fadeInCalendar]},changeDetection:0}),n})(),Rb=(()=>{class n{constructor(e,i,r,s,u,h,m){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=m,this._inputStateChanges=Ci.w0.EMPTY,this._document=(0,a.f3M)(re),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this.openedStream=new a.vpe,this.closedStream=new a.vpe,this._opened=!1,this.id="mat-datepicker-"+yq++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ft.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=sn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=sn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=sn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function jI(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){sn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof tv&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=jd(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(kn(1)).subscribe(()=>{const u=this._document.activeElement;e&&(!u||u===this._document.activeElement||s.nativeElement.contains(u))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new jf(Cq,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new dm({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const u=s.keyCode;(38===u||40===u||37===u||39===u||33===u||34===u)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(kn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",u="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,$s.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(I(i=>27===i.keyCode&&!ll(i)||this.datepickerInput&&ll(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ha),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(t2),a.Y36(br,8),a.Y36(Cs,8),a.Y36(Ih))},n.\u0275dir=a.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[a.TTD]}),n})(),Dq=(()=>{class n extends Rb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[a._Bn([WB,{provide:Rb,useExisting:n}]),a.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class JE{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let Eq=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new a.vpe,this.dateInput=new a.vpe,this.stateChanges=new ft.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ci.w0.EMPTY,this._localeSubscription=Ci.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=s=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=sn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new JE(this,this._elementRef.nativeElement)),this.dateChange.emit(new JE(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function xq(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new JE(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new JE(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(br,8),a.Y36(du,8))},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[a.TTD]}),n})();const Aq={provide:Jr,useExisting:(0,a.Gpc)(()=>MR),multi:!0},Iq={provide:sr,useExisting:(0,a.Gpc)(()=>MR),multi:!0};let MR=(()=>{class n extends Eq{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Ci.w0.EMPTY,this._validator=es.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(br,8),a.Y36(du,8),a.Y36(ZE,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&a.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(a.Ikx("disabled",i.disabled),a.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[a._Bn([Aq,Iq,{provide:$B,useExisting:n}]),a.qOj]}),n})(),Sq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),Tq=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ci.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=sn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Ke(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ke(),r=this.datepicker?(0,$s.T)(this.datepicker.openedStream,this.datepicker.closedStream):Ke();this._stateChanges.unsubscribe(),this._stateChanges=(0,$s.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Mb),a.Y36(a.sBO),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,Sq,5),2&e){let s;a.iGM(s=a.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&a.Gf(rq,5),2&e){let r;a.iGM(r=a.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i._open(s)}),2&e&&(a.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),a.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[a.TTD],ngContentSelectors:aq,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(a.F$t(oq),a.TgZ(0,"button",0,1),a.YNc(2,sq,2,0,"svg",2),a.Hsn(3),a.qZA()),2&e&&(a.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),a.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),a.xp6(2),a.Q6J("ngIf",!i._customIcon))},dependencies:[Sn,Su],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),Mq=(()=>{class n{constructor(e){this._datepicker=e}_applySelection(){this._datepicker._applyPendingSelection(),this._datepicker.close()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Rb))},n.\u0275dir=a.lG2({type:n,selectors:[["","matDatepickerApply",""],["","matDateRangePickerApply",""]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._applySelection()})}}),n})(),kq=(()=>{class n{constructor(e){this._datepicker=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Rb))},n.\u0275dir=a.lG2({type:n,selectors:[["","matDatepickerCancel",""],["","matDateRangePickerCancel",""]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._datepicker.close()})}}),n})(),Rq=(()=>{class n{constructor(e,i){this._datepicker=e,this._viewContainerRef=i}ngAfterViewInit(){this._portal=new um(this._template,this._viewContainerRef),this._datepicker.registerActions(this._portal)}ngOnDestroy(){this._datepicker.removeActions(this._portal),this._portal&&this._portal.isAttached&&this._portal?.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Rb),a.Y36(a.s_b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-actions"],["mat-date-range-picker-actions"]],viewQuery:function(e,i){if(1&e&&a.Gf(a.Rgc,5),2&e){let r;a.iGM(r=a.CRH())&&(i._template=r.first)}},ngContentSelectors:qB,decls:1,vars:0,consts:[[1,"mat-datepicker-actions"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,lq,2,0,"ng-template"))},styles:[".mat-datepicker-actions{display:flex;justify-content:flex-end;align-items:center;padding:0 8px 8px 8px}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})(),Oq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Mb,bq],imports:[Sa,zB,qf,dD,Jd,Rn,Zy]}),n})();function kR(n){return n&&"function"==typeof n.connect&&!(n instanceof Uc)}class n2{applyChanges(t,e,i,r,s){t.forEachOperation((u,h,m)=>{let v,E;if(null==u.previousIndex){const S=i(u,h,m);v=e.createEmbeddedView(S.templateRef,S.context,S.index),E=1}else null==m?(e.remove(h),E=3):(v=e.get(h),e.move(v,m),E=2);s&&s({context:v?.context,operation:E,record:u})})}detach(){}}let Fq=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ob=new a.OlP("_ViewRepeater"),Pq=["input"],Nq=function(n){return{enterDuration:n}},Lq=["*"],Vq=new a.OlP("mat-radio-default-options",{providedIn:"root",factory:function Bq(){return{color:"accent"}}});let s2=0;const Uq={provide:Jr,useExisting:(0,a.Gpc)(()=>l2),multi:!0};class o2{constructor(t,e){this.source=t,this.value=e}}const a2=new a.OlP("MatRadioGroup");let Hq=(()=>{class n{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+s2++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new a.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=sn(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=sn(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new o2(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})(),l2=(()=>{class n extends Hq{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,c2,5),2&e){let s;a.iGM(s=a.CRH())&&(i._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[a._Bn([Uq,{provide:a2,useExisting:n}]),a.qOj]}),n})();class Gq{constructor(t){this._elementRef=t}}const jq=nc(WD(Gq));let $q=(()=>{class n extends jq{constructor(e,i,r,s,u,h,m,v){super(i),this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=u,this._providerOverride=m,this._uniqueId="mat-radio-"+ ++s2,this.id=this._uniqueId,this.change=new a.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===h,v&&(this.tabIndex=Jg(v,0)),this._removeUniqueSelectionListener=u.listen((E,S)=>{E!==this.id&&S===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const i=sn(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(sn(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=sn(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new o2(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(Pq,5),2&e){let r;a.iGM(r=a.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[a.qOj]}),n})(),c2=(()=>{class n extends $q{constructor(e,i,r,s,u,h,m,v){super(e,i,r,s,u,h,m,v)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a2,8),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(au),a.Y36(Fq),a.Y36(a.QbO,8),a.Y36(Vq,8),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(a.uIk("tabindex",null)("id",i.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),a.ekj("mat-radio-checked",i.checked)("mat-radio-disabled",i.disabled)("_mat-animation-noopable",i._noopAnimations)("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[a.qOj],ngContentSelectors:Lq,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,i){if(1&e&&(a.F$t(),a.TgZ(0,"label",0,1)(2,"span",2),a._UZ(3,"span",3)(4,"span",4),a.TgZ(5,"input",5,6),a.NdJ("change",function(s){return i._onInputInteraction(s)})("click",function(s){return i._onInputClick(s)}),a.qZA(),a.TgZ(7,"span",7),a._UZ(8,"span",8),a.qZA()(),a.TgZ(9,"span",9)(10,"span",10),a._uU(11,"\xa0"),a.qZA(),a.Hsn(12),a.qZA()()),2&e){const r=a.MAs(1);a.uIk("for",i.inputId),a.xp6(5),a.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),a.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),a.xp6(2),a.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.VKq(17,Nq,i._noopAnimations?0:150)),a.xp6(2),a.ekj("mat-radio-label-before","before"==i.labelPosition)}},dependencies:[_m],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),n})(),zq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lv,Rn,Rn]}),n})();function qq(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}function Yq(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}function Wq(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}function Zq(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}function Kq(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}function Qq(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}let u2=(()=>{class n{constructor(e,i,r,s){this.fromBuilder=e,this.data=i,this.dialogRef=r,this.dt=s,this.todolistList=[],this.todolist={id:"",name:"",description:"",assignDate:new Date,completionDate:new Date,comments:"",progress:"",userId:""}}ngOnInit(){this.initForm(),this.fillData()}initForm(){this.formGroup=this.fromBuilder.group({name:["",[es.required]],description:["",[es.required]],assignDate:["",[es.required]],completionDate:["",[es.required]],comments:["",[es.required]],progress:["In-Progress",[es.required]],userId:[localStorage.getItem("token"),[]]})}fillData(){"0"!=this.dt.Id&&(this.formGroup.get("name")?.setValue(this.dt.Name),this.formGroup.get("description")?.setValue(this.dt.Description),this.formGroup.get("assignDate")?.setValue(this.dt.AssignDate),this.formGroup.get("completionDate")?.setValue(this.dt.CompletionDate),this.formGroup.get("comments")?.setValue(this.dt.Comments),this.formGroup.get("progress")?.setValue(this.dt.Progress))}Submit(){this.formGroup.valid&&(this.todolist.id=this.dt.Id,this.todolist.name=this.formGroup.get("name")?.value,this.todolist.description=this.formGroup.get("description")?.value,this.todolist.assignDate=this.formGroup.get("assignDate")?.value,this.todolist.completionDate=this.formGroup.get("completionDate")?.value,this.todolist.comments=this.formGroup.get("comments")?.value,this.todolist.progress=this.formGroup.get("progress")?.value,this.todolist.userId=this.formGroup.get("userId")?.value,"0"!=this.dt.Id?(this.data.updateTodolist(this.todolist),alert("Update Successfully !"),this.dialogRef.close()):this.data.addTodolist(this.todolist).then(()=>{alert("Saved Successfully !"),this.dialogRef.close()},e=>{console.log(e)}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zg),a.Y36(LB),a.Y36(bm),a.Y36(fv))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-todolist"]],decls:57,vars:13,consts:[[2,"margin-bottom","0px"],[1,"example-form",3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],[4,"ngIf"],["matInput","","placeholder","Description","formControlName","description","autocomplete","off"],["matInput","","formControlName","assignDate","autocomplete","off",3,"matDatepicker"],["matSuffix","",3,"for"],["datepicker",""],["mat-button","","matDatepickerCancel",""],["mat-raised-button","","color","primary","matDatepickerApply",""],["matInput","","formControlName","completionDate","autocomplete","off",3,"matDatepicker"],["datepicker1",""],[1,"example-section"],[1,"example-margin"],["formControlName","progress"],["value","In-Progress",1,"example-margin"],["value","Completed",1,"example-margin"],["matInput","","placeholder","Comments","formControlName","comments","autocomplete","off"],["mat-flat-button","","color","primary",2,"float","right",3,"click"]],template:function(e,i){if(1&e&&(a.TgZ(0,"h2",0),a._uU(1),a.qZA(),a.TgZ(2,"h4"),a._uU(3),a.qZA(),a.TgZ(4,"form",1)(5,"mat-form-field",2)(6,"mat-label"),a._uU(7,"Name"),a.qZA(),a._UZ(8,"input",3),a.YNc(9,qq,2,0,"mat-error",4),a.qZA(),a.TgZ(10,"mat-form-field",2)(11,"mat-label"),a._uU(12,"Description"),a.qZA(),a._UZ(13,"input",5),a.YNc(14,Yq,2,0,"mat-error",4),a.qZA(),a.TgZ(15,"mat-form-field",2)(16,"mat-label"),a._uU(17,"Assign Date"),a.qZA(),a._UZ(18,"input",6),a.YNc(19,Wq,2,0,"mat-error",4),a._UZ(20,"mat-datepicker-toggle",7),a.TgZ(21,"mat-datepicker",null,8)(23,"mat-datepicker-actions")(24,"button",9),a._uU(25,"Cancel"),a.qZA(),a.TgZ(26,"button",10),a._uU(27,"Apply"),a.qZA()()()(),a.TgZ(28,"mat-form-field",2)(29,"mat-label"),a._uU(30,"Completion Date"),a.qZA(),a._UZ(31,"input",11),a.YNc(32,Zq,2,0,"mat-error",4),a._UZ(33,"mat-datepicker-toggle",7),a.TgZ(34,"mat-datepicker",null,12)(36,"mat-datepicker-actions")(37,"button",9),a._uU(38,"Cancel"),a.qZA(),a.TgZ(39,"button",10),a._uU(40,"Apply"),a.qZA()()()(),a.TgZ(41,"section",13)(42,"label",14),a._uU(43,"Progress:"),a.qZA(),a.TgZ(44,"mat-radio-group",15)(45,"mat-radio-button",16),a._uU(46,"In-Progress"),a.qZA(),a.TgZ(47,"mat-radio-button",17),a._uU(48,"Completed"),a.qZA(),a.YNc(49,Kq,2,0,"mat-error",4),a.qZA()(),a.TgZ(50,"mat-form-field",2)(51,"mat-label"),a._uU(52,"Comments"),a.qZA(),a._UZ(53,"input",18),a.YNc(54,Qq,2,0,"mat-error",4),a.qZA()(),a.TgZ(55,"button",19),a.NdJ("click",function(){return i.Submit()}),a._uU(56,"Submit"),a.qZA()),2&e){const r=a.MAs(22),s=a.MAs(35);a.xp6(1),a.Oqu(i.dt.title),a.xp6(2),a.Oqu(i.dt.subTitle),a.xp6(1),a.Q6J("formGroup",i.formGroup),a.xp6(5),a.Q6J("ngIf",i.formGroup.get("name").hasError("required")),a.xp6(5),a.Q6J("ngIf",i.formGroup.get("description").hasError("required")),a.xp6(4),a.Q6J("matDatepicker",r),a.xp6(1),a.Q6J("ngIf",i.formGroup.get("assignDate").hasError("required")),a.xp6(1),a.Q6J("for",r),a.xp6(11),a.Q6J("matDatepicker",s),a.xp6(1),a.Q6J("ngIf",i.formGroup.get("completionDate").hasError("required")),a.xp6(1),a.Q6J("for",s),a.xp6(16),a.Q6J("ngIf",i.formGroup.get("progress").hasError("required")),a.xp6(5),a.Q6J("ngIf",i.formGroup.get("comments").hasError("required"))}},dependencies:[Sn,WE,KE,Sp,wR,eu,el,Id,Yl,Kl,Ql,QE,Su,Dq,MR,Tq,Rq,kq,Mq,l2,c2],styles:[".example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}"]}),n})();var Xq=L(8247);let Fb=(()=>{class n{constructor(e,i){this.fireAuth=e,this.router=i}login(e,i){this.fireAuth.signInWithEmailAndPassword(e,i).then(r=>{r.user?(localStorage.setItem("token",JSON.stringify(r.user?.uid)),localStorage.setItem("token1","true"),localStorage.setItem("token-name",JSON.stringify(r.user?.email)),this.router.navigate(["/dashboard"])):(localStorage.setItem("token",""),alert("Wrong Username/Password"),this.router.navigate(["/login"]))},r=>{alert(r.massage),this.router.navigate(["/login"])})}register(e,i){this.fireAuth.createUserWithEmailAndPassword(e,i).then(r=>{alert("Registration Successful!"),this.router.navigate(["/login"])},r=>{alert(r.massage),this.router.navigate(["/registration"])})}logout(){this.fireAuth.signOut().then(()=>{localStorage.clear(),this.router.navigate(["/login"])},e=>{alert(e.massage)})}forgotPassword(e){this.fireAuth.sendPasswordResetEmail(e).then(()=>{this.router.navigate(["/verify-email"])},i=>{alert(i.massage)})}sendEmailForVerification(e){e.sendEmailForVerification.then(i=>{this.router.navigate(["/verify-email"])},i=>{alert(i.massage)})}googleSignIn(){return this.fireAuth.signInWithPopup(new Xq.Q).then(e=>{localStorage.setItem("token",JSON.stringify(e.user?.uid)),localStorage.setItem("token-name",JSON.stringify(e.user?.email)),localStorage.setItem("token1","true"),this.router.navigate(["/dashboard"])},e=>{alert(e.massage)})}token(){return localStorage.getItem("token-name")}loggedIn(){return localStorage.getItem("token1")}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_R),a.LFG(Vi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jq{}class Sh{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Sh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Sh;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Sh?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class eY{encodeKey(t){return d2(t)}encodeValue(t){return d2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const nY=/%(\d[a-f0-9])/gi,iY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function d2(n){return encodeURIComponent(n).replace(nY,(t,e)=>iY[e]??t)}function ex(n){return`${n}`}class Th{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new eY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tY(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],m=e.get(u)||[];m.push(h),e.set(u,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(ex):[ex(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Th({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ex(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(ex(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class rY{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function h2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function f2(n){return typeof Blob<"u"&&n instanceof Blob}function p2(n){return typeof FormData<"u"&&n instanceof FormData}class Pb{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function sY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Sh),this.context||(this.context=new rY),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Th,this.urlWithParams=e}serializeBody(){return null===this.body?null:h2(this.body)||f2(this.body)||p2(this.body)||function oY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Th?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||p2(this.body)?null:f2(this.body)?this.body.type||null:h2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Th?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,v=t.params||this.params;const E=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((S,N)=>S.set(N,t.setHeaders[N]),m)),t.setParams&&(v=Object.keys(t.setParams).reduce((S,N)=>S.set(N,t.setParams[N]),v)),new Pb(e,i,s,{params:v,headers:m,context:E,reportProgress:h,responseType:r,withCredentials:u})}}var jr=(()=>((jr=jr||{})[jr.Sent=0]="Sent",jr[jr.UploadProgress=1]="UploadProgress",jr[jr.ResponseHeader=2]="ResponseHeader",jr[jr.DownloadProgress=3]="DownloadProgress",jr[jr.Response=4]="Response",jr[jr.User=5]="User",jr))();class RR extends class aY{constructor(t,e=200,i="OK"){this.headers=t.headers||new Sh,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=jr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new RR({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function OR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let m2=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Pb)s=e;else{let m,v;m=r.headers instanceof Sh?r.headers:new Sh(r.headers),r.params&&(v=r.params instanceof Th?r.params:new Th({fromObject:r.params})),s=new Pb(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Ke(s).pipe(qe(m=>this.handler.handle(m)));if(e instanceof Pb||"events"===r.observe)return u;const h=u.pipe(I(m=>m instanceof RR));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,dt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,dt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,dt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,dt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Th).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,OR(r,i))}post(e,i,r={}){return this.request("POST",e,OR(r,i))}put(e,i,r={}){return this.request("PUT",e,OR(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Jq))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const cY=["*"];let tx;function Nb(n){return function uY(){if(void 0===tx&&(tx=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(tx=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return tx}()?.createHTML(n)||n}function _2(n){return Error(`Unable to find icon with the name "${n}"`)}function y2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function v2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Tp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let nx=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Tp(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const u=this._sanitizer.sanitize(a.q3G.HTML,r);if(!u)throw v2(r);const h=Nb(u);return this._addSvgIconConfig(e,i,new Tp("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Tp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw v2(i);const u=Nb(s);return this._addSvgIconSetConfig(e,new Tp("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw y2(e);const r=this._cachedIconsByUrl.get(i);return r?Ke(ix(r)):this._loadSvgIconFromConfig(new Tp(e,null)).pipe((0,Qe.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,dt.U)(s=>ix(s)))}getNamedSvgIcon(e,i=""){const r=b2(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):Bs(_2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ke(ix(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,dt.U)(i=>ix(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ke(r):$w(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Ct(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),Ke(null)})))).pipe((0,dt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw _2(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Qe.b)(i=>e.svgText=i),(0,dt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ke(null):this._fetchIcon(e).pipe((0,Qe.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(Nb("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Nb("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function dY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!u)throw y2(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const m=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,dt.U)(v=>Nb(v)),vs(()=>this._inProgressUrlFetches.delete(u)),(0,XV.B)());return this._inProgressUrlFetches.set(u,m),m}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(b2(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return fY(s)?new Tp(s.url,null,s.options):new Tp(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(m2,8),a.LFG(Ls),a.LFG(re,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ix(n){return n.cloneNode(!0)}function b2(n,t){return n+":"+t}function fY(n){return!(!n.url||!n.options)}const pY=uu(class{constructor(n){this._elementRef=n}}),gY=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),mY=new a.OlP("mat-icon-location",{providedIn:"root",factory:function _Y(){const n=(0,a.f3M)(re),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),w2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],yY=w2.map(n=>`[${n}]`).join(", "),vY=/^url\(['"]?#(.*?)['"]?\)$/;let rx=(()=>{class n extends pY{constructor(e,i,r,s,u,h){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ci.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=sn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(yY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)w2.forEach(u=>{const h=i[s],m=h.getAttribute(u),v=m?m.match(vY):null;if(v){let E=r.get(h);E||(E=[],r.set(h,E)),E.push({name:u,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(kn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(nx),a.$8M("aria-hidden"),a.Y36(mY),a.Y36(a.qLn),a.Y36(gY,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:cY,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),bY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Rn,Rn]}),n})();const wY=["*",[["mat-card-footer"]]],CY=["*","mat-card-footer"],DY=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],EY=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),ox=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),xY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Lb=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:CY,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(wY),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),FR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:EY,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(a.F$t(DY),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),AY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Rn,Rn]}),n})();const SY=[[["caption"]],[["colgroup"],["col"]]],TY=["caption","colgroup, col"];function PR(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=sn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const c_=new a.OlP("CDK_TABLE");let u_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),d_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),ax=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class OY{}const FY=PR(OY);let Tu=(()=>{class n extends FY{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=sn(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(c_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,u_,5),a.Suo(r,d_,5),a.Suo(r,ax,5)),2&e){let s;a.iGM(s=a.CRH())&&(i.cell=s.first),a.iGM(s=a.CRH())&&(i.headerCell=s.first),a.iGM(s=a.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class NR{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let LR=(()=>{class n extends NR{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tu),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),VR=(()=>{class n extends NR{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Tu),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class D2{constructor(){this.tasks=[],this.endTasks=[]}}const BR=new a.OlP("_COALESCED_STYLE_SCHEDULER");let E2=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new ft.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new D2,this._getScheduleObservable().pipe(Wi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new D2;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,pn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(kn(1))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),UR=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Vb?e.headerCell.template:this instanceof Bb?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class PY extends UR{}const NY=PR(PY);let Vb=(()=>{class n extends NY{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(c_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class LY extends UR{}const VY=PR(LY);let Bb=(()=>{class n extends VY{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(c_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),lx=(()=>{class n extends UR{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(c_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),Mu=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},dependencies:[Mu],encapsulation:2}),n})(),jR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},dependencies:[Mu],encapsulation:2}),n})(),cx=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const x2=["top","bottom","left","right"];class BY{constructor(t,e,i,r,s=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(N=>N)&&!i.some(N=>N))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],u=s.children.length,h=this._getCellWidths(s,r),m=this._getStickyStartColumnPositions(h,e),v=this._getStickyEndColumnPositions(h,i),E=e.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const N="rtl"===this.direction,H=N?"right":"left",z=N?"left":"right";for(const te of t)for(let pe=0;pe<u;pe++){const Ue=te.children[pe];e[pe]&&this._addStickyStyle(Ue,H,m[pe],pe===E),i[pe]&&this._addStickyStyle(Ue,z,v[pe],pe===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:h.slice(0,E+1).map((te,pe)=>e[pe]?te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((te,pe)=>i[pe+S]?te:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,u=[],h=[],m=[];for(let E=0,S=0;E<r.length;E++){if(!s[E])continue;u[E]=S;const N=r[E];m[E]=this._isNativeHtmlTable?Array.from(N.children):[N];const H=N.getBoundingClientRect().height;S+=H,h[E]=H}const v=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let E=0;E<r.length;E++){if(!s[E])continue;const S=u[E],N=E===v;for(const H of m[E])this._addStickyStyle(H,i,S,N)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);x2.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of x2)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const $R=new a.OlP("CDK_SPL");let ux=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),dx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),hx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),fx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),px=(()=>{class n{constructor(e,i,r,s,u,h,m,v,E,S,N,H){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=m,this._viewRepeater=v,this._coalescedStyleScheduler=E,this._viewportRuler=S,this._stickyPositioningListener=N,this._ngZone=H,this._onDestroy=new ft.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new Un({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=sn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=sn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Wi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),kR(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe(kn(1),Wi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,u)=>{this._addStickyColumnStyles([s],this._headerRowDefs[u])}),this._rowDefs.forEach(s=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&u.push(i[h]);this._addStickyColumnStyles(u,s)}),r.forEach((s,u)=>{this._addStickyColumnStyles([s],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const u=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<u.length;h++){let m=u[h];const v=this._cachedRenderRowsMap.get(m.data);v.has(m.rowDef)?v.get(m.rowDef).push(m):v.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const m=h.shift();return m.dataIndex=i,m}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),gx(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=gx(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=gx(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=gx(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],kR(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;kR(this.dataSource)?e=this.dataSource.connect(this):function IY(n){return!!n&&(n instanceof Hn.y||(0,Jn.m)(n.lift)&&(0,Jn.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ke(this.dataSource)),this._renderChangeSubscription=e.pipe(Wi(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const u=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Mu.mostRecentCellOutlet&&Mu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const u of r.outlets)s.appendChild(u.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new BY(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ke()).pipe(Wi(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),u=s.rootNodes[0];1===s.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(Cs,8),a.Y36(re),a.Y36(Di),a.Y36(Ob),a.Y36(BR),a.Y36(Gf),a.Y36($R,12),a.Y36(a.R0b,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,cx,5),a.Suo(r,Tu,5),a.Suo(r,lx,5),a.Suo(r,Vb,5),a.Suo(r,Bb,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._noDataRow=s.first),a.iGM(s=a.CRH())&&(i._contentColumnDefs=s),a.iGM(s=a.CRH())&&(i._contentRowDefs=s),a.iGM(s=a.CRH())&&(i._contentHeaderRowDefs=s),a.iGM(s=a.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(a.Gf(ux,7),a.Gf(dx,7),a.Gf(hx,7),a.Gf(fx,7)),2&e){let r;a.iGM(r=a.CRH())&&(i._rowOutlet=r.first),a.iGM(r=a.CRH())&&(i._headerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._footerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:c_,useExisting:n},{provide:Ob,useClass:n2},{provide:BR,useClass:E2},{provide:$R,useValue:null}])],ngContentSelectors:TY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(SY),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ux,dx,hx,fx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function gx(n,t){return n.concat(Array.from(t))}let HY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[AD]}),n})();const GY=[[["caption"]],[["colgroup"],["col"]]],jY=["caption","colgroup, col"];let I2=(()=>{class n extends px{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:Ob,useClass:n2},{provide:px,useExisting:n},{provide:c_,useExisting:n},{provide:BR,useClass:E2},{provide:$R,useValue:null}]),a.qOj],ngContentSelectors:jY,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(GY),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ux,dx,hx,fx],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),zR=(()=>{class n extends u_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:u_,useExisting:n}]),a.qOj]}),n})(),qR=(()=>{class n extends d_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:d_,useExisting:n}]),a.qOj]}),n})(),YR=(()=>{class n extends Tu{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:Tu,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),WR=(()=>{class n extends LR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),n})(),ZR=(()=>{class n extends VR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),n})(),S2=(()=>{class n extends Vb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:Vb,useExisting:n}]),a.qOj]}),n})(),T2=(()=>{class n extends lx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:lx,useExisting:n}]),a.qOj]}),n})(),M2=(()=>{class n extends HR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:HR,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},dependencies:[Mu],encapsulation:2}),n})(),k2=(()=>{class n extends jR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:jR,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},dependencies:[Mu],encapsulation:2}),n})(),JY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[HY,Rn,Rn]}),n})();function tW(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1," Name "),a.qZA())}function nW(n,t){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.name," ")}}function iW(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1," Description "),a.qZA())}function rW(n,t){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.description," ")}}function sW(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1," Assign Date "),a.qZA())}function oW(n,t){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.ALo(2,"date"),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.assignDate.toDate(),"yyyy-MM-dd"),"")}}function aW(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1," Completion Date "),a.qZA())}function lW(n,t){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.ALo(2,"date"),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.completionDate.toDate(),"yyyy-MM-dd"),"")}}function cW(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1," Progress "),a.qZA())}function uW(n,t){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.progress," ")}}function dW(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1," Comments "),a.qZA())}function hW(n,t){if(1&n&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.comments," ")}}function fW(n,t){1&n&&(a.TgZ(0,"th",14),a._uU(1," Actions "),a.qZA())}function pW(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",15)(1,"button",16),a.NdJ("click",function(){const s=a.CHM(e).$implicit,u=a.oxw();return a.KtG(u.deleteTask(s))}),a.TgZ(2,"mat-icon"),a._uU(3,"delete"),a.qZA()(),a.TgZ(4,"button",17),a.NdJ("click",function(){const s=a.CHM(e).$implicit,u=a.oxw();return a.KtG(u.openDialog_Edit(s.id,s.name,s.description,s.assignDate.toDate(),s.completionDate.toDate(),s.progress,s.comments))}),a.TgZ(5,"mat-icon"),a._uU(6,"edit"),a.qZA()()()}}function gW(n,t){1&n&&a._UZ(0,"tr",18)}function mW(n,t){1&n&&a._UZ(0,"tr",19)}let _W=(()=>{class n{constructor(e,i,r){this.auth=e,this.dialog=i,this.data=r,this.displayedColumns=["Name","Description","AssignDate","CompletionDate","Progress","Comments","Actions"],this.todolist={id:"",name:"",description:"",assignDate:new Date,completionDate:new Date,comments:"",progress:"",userId:JSON.parse(localStorage.getItem("token")||"{}")}}ngOnInit(){this.getAllToDoList()}openDialog(){this.dialog.open(u2,{width:"450px",data:{title:"Create Task",subTitle:"Fill the task details",submit:"Submit",Id:0}}).afterClosed().subscribe(i=>{console.log("The dialog was closed"),this.getAllToDoList()})}getAllToDoList(){this.data.gettAllTodolist().subscribe(e=>{this.dataSource=e.map(i=>{const r=i.payload.doc.data();return r.id=i.payload.doc.id,r})},e=>{alert(e.massage)})}openDialog_Edit(e,i,r,s,u,h,m){this.dialog.open(u2,{width:"450px",data:{title:"Update Task",subTitle:"Update the task details",submit:"Update",Id:e,Name:i,Description:r,AssignDate:s,CompletionDate:u,Progress:h,Comments:m}}).afterClosed().subscribe(E=>{console.log("The dialog was closed"),this.getAllToDoList()})}deleteTask(e){window.confirm("Are you sure you want to delete a task :"+e.name+" ?")&&this.data.deleteTodolist(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fb),a.Y36(dl),a.Y36(LB))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],decls:32,vars:3,consts:[[1,"container"],["mat-flat-button","","color","primary",3,"click"],["mat-table","",2,"margin-top","30px",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","AssignDate"],["matColumnDef","CompletionDate"],["matColumnDef","Progress"],["matColumnDef","Comments"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-title"),a._uU(3,"To Do List"),a.qZA(),a.TgZ(4,"mat-card-subtitle"),a._uU(5,"All Tasks Details"),a.qZA(),a.TgZ(6,"button",1),a.NdJ("click",function(){return i.openDialog()}),a._uU(7,"Create To-Do-List"),a.qZA(),a.TgZ(8,"table",2),a.ynx(9,3),a.YNc(10,tW,2,0,"th",4),a.YNc(11,nW,2,1,"td",5),a.BQk(),a.ynx(12,6),a.YNc(13,iW,2,0,"th",4),a.YNc(14,rW,2,1,"td",5),a.BQk(),a.ynx(15,7),a.YNc(16,sW,2,0,"th",4),a.YNc(17,oW,3,4,"td",5),a.BQk(),a.ynx(18,8),a.YNc(19,aW,2,0,"th",4),a.YNc(20,lW,3,4,"td",5),a.BQk(),a.ynx(21,9),a.YNc(22,cW,2,0,"th",4),a.YNc(23,uW,2,1,"td",5),a.BQk(),a.ynx(24,10),a.YNc(25,dW,2,0,"th",4),a.YNc(26,hW,2,1,"td",5),a.BQk(),a.ynx(27,11),a.YNc(28,fW,2,0,"th",4),a.YNc(29,pW,7,0,"td",5),a.BQk(),a.YNc(30,gW,1,0,"tr",12),a.YNc(31,mW,1,0,"tr",13),a.qZA()()()),2&e&&(a.xp6(8),a.Q6J("dataSource",i.dataSource),a.xp6(22),a.Q6J("matHeaderRowDef",i.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[rx,Lb,ox,xY,Su,I2,qR,S2,YR,zR,T2,WR,ZR,M2,k2,_c]}),n})();function R2(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const KR="inline",mx=["row","column","row-reverse","column-reverse"];function O2(n){let[t,e,i]=F2(n);return function vW(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function F2(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return mx.find(r=>r===t)||(t=mx[0]),e===KR&&(e=i!==KR?i:"",i=KR),[t,yW(e),!!i]}function Ub(n){let[t]=F2(n);return t.indexOf("row")>-1}function yW(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function ku(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const wW={provide:a.tb,useFactory:function bW(n,t){return()=>{if(fi(t)){const e=Array.from(n.querySelectorAll(`[class*=${P2}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${P2}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[re,a.Lbi],multi:!0},P2="flex-layout-";let QR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[wW]}),n})();class Mp{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new Mp(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let CW=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const u=r.get(i);("number"==typeof u||"string"==typeof u)&&(s=u+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XR={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},pl=new a.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>XR}),h_=new a.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),JR=new a.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function N2(n,t){return n=n?.clone()??new Mp,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Oi{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let di=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:R2(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:R2(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||gr(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return fi(this._platformId)?e.style.getPropertyValue(i):function DW(n,t){return L2(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(fi(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],u=Array.isArray(s)?s:[s];u.sort();for(let h of u)h=h?h+"":"",fi(this._platformId)||!this._serverModuleLoaded?fi(this._platformId)?i.style.setProperty(r,h):EW(i,r,h):this._serverStylesheet.addStyleToElement(i,r,h)})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(CW),a.LFG(h_),a.LFG(a.Lbi),a.LFG(pl))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EW(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=L2(n);i[t]=e??"",function xW(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function L2(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const u=s.indexOf(":");if(-1===u)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,u).trim()]=s.substr(u+1).trim()}}}return t}function Hb(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function AW(n,t){return(n.priority||0)-(t.priority||0)}let eO=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new Un(new Mp(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(I(u=>!i||e.indexOf(u.mediaQuery)>-1)),s=new Hn.y(u=>{const h=this.registerQuery(e);if(h.length){const m=h.pop();h.forEach(v=>{u.next(v)}),this.source.next(m)}u.complete()});return(0,$s.T)(s,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function IW(n,t){const e=n.filter(i=>!V2[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>V2[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const u=m=>{this._zone.run(()=>this.source.next(new Mp(m.matches,s)))};let h=this.registry.get(s);h||(h=this.buildMQL(s),h.addListener(u),this.pendingRemoveListenerFns.push(()=>h.removeListener(u)),this.registry.set(s,h)),h.matches&&r.push(new Mp(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function TW(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function SW(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,fi(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(a.Lbi),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V2={},MW=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],B2="(orientation: portrait) and (max-width: 599.98px)",U2="(orientation: landscape) and (max-width: 959.98px)",H2="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",G2="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",j2="(orientation: portrait) and (min-width: 840px)",$2="(orientation: landscape) and (min-width: 1280px)",Ru={HANDSET:`${B2}, ${U2}`,TABLET:`${H2} , ${G2}`,WEB:`${j2}, ${$2} `,HANDSET_PORTRAIT:`${B2}`,TABLET_PORTRAIT:`${H2} `,WEB_PORTRAIT:`${j2}`,HANDSET_LANDSCAPE:`${U2}`,TABLET_LANDSCAPE:`${G2}`,WEB_LANDSCAPE:`${$2}`},kW=[{alias:"handset",priority:2e3,mediaQuery:Ru.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Ru.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Ru.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Ru.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Ru.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Ru.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Ru.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Ru.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Ru.WEB_PORTRAIT,overlapping:!0}],RW=/(\.|-|_)/g;function OW(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const LW=new a.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,a.f3M)(JR),t=(0,a.f3M)(pl),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function NW(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?ku(e[i.alias],i):e[i.alias]=i}),function PW(n){return n.forEach(t=>{t.suffix||(t.suffix=function FW(n){return n.replace(RW,"|").split("|").map(OW).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:MW).concat(t.addOrientationBps?kW:[]),e)}});let tO=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(AW)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(LW))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f_="print",VW={alias:f_,mediaQuery:f_,priority:1e3};let BW=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new UW,this.deactivations=[]}withPrintQuery(e){return[...e,f_]}isPrintEvent(e){return e.mediaQuery.startsWith(f_)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Hb)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),N2(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Mp(!0,f_))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),u=!this.formerActivations&&e.activatedBreakpoints.includes(r);(s||u)&&(this.deactivations.push(r),this.deactivations.sort(Hb))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(tO),a.LFG(pl),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UW{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(VW),t.sort(Hb),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function HW(n){return n?.mediaQuery.startsWith(f_)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let yi=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ft.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=N2(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Hb),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Hb),this.updateStyles())}}init(e,i,r,s,u=[]){z2(this.updateMap,e,i,r),z2(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,u)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const u=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(u)return u.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let u=this.elementMap.get(e);if(u){const m=(u.get(s)??new Map).set(i,r);u.set(s,m),this.elementMap.set(e,u)}else u=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,u);const h=this.getValue(e,i);void 0!==h&&this.updateElement(e,i,h)}trackValue(e,i){return this.subject.asObservable().pipe(I(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((u,h)=>{this.updateElement(i,h,u),r.delete(h)}),r.forEach(u=>{if(s=this.getActivatedValues(e,u),s){const h=s.get(u);this.updateElement(i,u,h)}else this.clearElement(i,u)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const u=s.get(i);u&&(u(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,u)=>r.delete(u)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((u,h)=>this.updateElement(e,h,u)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const h=(0,$s.T)(...r).subscribe(()=>{const m=this.getValue(e,i);this.updateElement(e,i,m)});s.set(i,h)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const h=e.get(this.activatedBreakpoints[s].alias);if(h&&(void 0===i||h.has(i)&&null!=h.get(i)))return h}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Qe.b)(this.hook.interceptEvents(this)),I(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(eO),a.LFG(tO),a.LFG(BW))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z2(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let Ei=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ft.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let u=this.styleCache.get(e);(!u||!s)&&(u=r.buildStyles(e,i),s&&this.styleCache.set(e,u)),this.mru={...u},this.applyStyleToElement(u),r.sideEffect(e,u,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const u=O2(r);this.styler.applyStyleToElements(u,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Oi),a.Y36(di),a.Y36(yi))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();EventTarget;let $W=(()=>{class n extends Oi{buildStyles(e,{display:i}){const r=O2(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zW=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let qW=(()=>{class n extends Ei{constructor(e,i,r,s,u){super(e,r,i,s),this._config=u,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=Z2.get(r)??new Map,Z2.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(di),a.Y36($W),a.Y36(yi),a.Y36(pl))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),Gb=(()=>{class n extends qW{constructor(){super(...arguments),this.inputs=zW}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[a.qOj]}),n})();const Z2=new Map;let F4=(()=>{class n extends Oi{buildStyles(e,i){const r={},[s,u]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(u){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return ku(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===u?Ub(i.layout)?null:"100%":null,"max-height":"stretch"===u&&Ub(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P4=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let N4=(()=>{class n extends Ei{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Wi(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=H4:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=j4:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=G4:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=$4:"column-reverse"===i&&!r&&(this.styleCache=U4):this.styleCache=V4:this.styleCache=B4:this.styleCache=L4,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),mx.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(di),a.Y36(F4),a.Y36(yi))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),jb=(()=>{class n extends N4{constructor(){super(...arguments),this.inputs=P4}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[a.qOj]}),n})();const L4=new Map,V4=new Map,B4=new Map,U4=new Map,H4=new Map,G4=new Map,j4=new Map,$4=new Map;let X2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[QR,Hf]}),n})();function z4(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}let q4=(()=>{class n{constructor(e,i){this.formBuilder=e,this.auth=i}ngOnInit(){this.initForm()}initForm(){this.formGroup=this.formBuilder.group({email:["",[es.required]]})}forgotPassword(){""!=this.formGroup.get("email")?.value?(this.formGroup.valid&&this.auth.forgotPassword(this.formGroup.get("email")?.value),this.formGroup.get("email")?.setValue("")):alert("Please enter Email")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zg),a.Y36(Fb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-forgot-password"]],decls:16,vars:2,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"login-wrapper"],[1,"box"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],[4,"ngIf"],["mat-stroked-button","","color","accent",1,"btn-block",3,"click"],["mat-flat-button","","routerLink","/login"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),a._uU(4,"Reset Password"),a.qZA()(),a.TgZ(5,"form",2)(6,"mat-card-content")(7,"mat-form-field",3),a._UZ(8,"input",4),a.YNc(9,z4,2,0,"mat-error",5),a.qZA()(),a.TgZ(10,"button",6),a.NdJ("click",function(){return i.forgotPassword()}),a._uU(11,"Send Link"),a.qZA(),a.TgZ(12,"mat-label"),a._uU(13,"Back To "),a.qZA(),a.TgZ(14,"button",7),a._uU(15,"Login"),a.qZA()()()()),2&e&&(a.xp6(5),a.Q6J("formGroup",i.formGroup),a.xp6(4),a.Q6J("ngIf",i.formGroup.get("email").hasError("required")))},dependencies:[Sn,Gl,Gb,jb,Lb,FR,sx,ox,WE,KE,Sp,eu,el,Id,Yl,Kl,Ql,QE,Su]}),n})();function Y4(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}function W4(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}let Z4=(()=>{class n{constructor(e,i){this.fromBuilder=e,this.auth=i,this.hide=!0}ngOnInit(){this.initForm()}initForm(){this.formGroup=this.fromBuilder.group({email:["",[es.required]],password:["",[es.required]]})}login(){this.formGroup.valid&&this.auth.login(this.formGroup.get("email")?.value,this.formGroup.get("password")?.value),this.formGroup.get("email")?.setValue(""),this.formGroup.get("password")?.setValue("")}signInWithGoogle(){this.auth.googleSignIn()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zg),a.Y36(Fb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:25,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"login-wrapper"],[1,"box"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],[4,"ngIf"],["matInput","","placeholder","Password","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-stroked-button","","color","accent",1,"btn-block",3,"click"],["mat-flat-button","","routerLink","/register"],["mat-flat-button","","routerLink","/forgot-password"],["mat-stroked-button","","color","primary",1,"btn-block",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),a._uU(4,"Log in"),a.qZA()(),a.TgZ(5,"form",2)(6,"mat-card-content")(7,"mat-form-field",3),a._UZ(8,"input",4),a.YNc(9,Y4,2,0,"mat-error",5),a.qZA(),a.TgZ(10,"mat-form-field",3),a._UZ(11,"input",6),a.TgZ(12,"mat-icon",7),a.NdJ("click",function(){return i.hide=!i.hide}),a._uU(13),a.qZA(),a.YNc(14,W4,2,0,"mat-error",5),a.qZA()(),a.TgZ(15,"button",8),a.NdJ("click",function(){return i.login()}),a._uU(16,"Log in"),a.qZA(),a.TgZ(17,"button",9),a._uU(18,"Register"),a.qZA(),a.TgZ(19,"button",10),a._uU(20,"Forgot Password"),a.qZA(),a.TgZ(21,"button",11),a.NdJ("click",function(){return i.signInWithGoogle()}),a.TgZ(22,"mat-icon"),a._uU(23,"Google"),a.qZA(),a._uU(24,"Sign In With Google"),a.qZA()()()()),2&e&&(a.xp6(5),a.Q6J("formGroup",i.formGroup),a.xp6(4),a.Q6J("ngIf",i.formGroup.get("email").hasError("required")),a.xp6(2),a.Q6J("type",i.hide?"password":"text"),a.xp6(2),a.Oqu(i.hide?"visibility_off":"visibility"),a.xp6(1),a.Q6J("ngIf",i.formGroup.get("password").hasError("required")))},dependencies:[Sn,Gl,Gb,jb,rx,Lb,FR,sx,ox,WE,KE,wR,eu,el,Id,Yl,Kl,Ql,QE,Su]}),n})();function K4(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}function Q4(n,t){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," Please fill out the field. "),a.qZA())}let X4=(()=>{class n{constructor(e,i){this.formBuilder=e,this.auth=i,this.hide=!0}ngOnInit(){this.initForm()}initForm(){this.formGroup=this.formBuilder.group({email:["",[es.required]],password:["",[es.required]]})}register(){this.formGroup.valid&&this.auth.register(this.formGroup.get("email")?.value,this.formGroup.get("password")?.value),this.formGroup.get("email")?.setValue(""),this.formGroup.get("password")?.setValue("")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zg),a.Y36(Fb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"login-wrapper"],[1,"box"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["matInput","","placeholder","Email","formControlName","email","autocomplete","off"],[4,"ngIf"],["matInput","","placeholder","Password","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-stroked-button","","color","accent",1,"btn-block",3,"click"],["mat-flat-button","","routerLink","/login"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),a._uU(4,"Register"),a.qZA()(),a.TgZ(5,"form",2)(6,"mat-card-content")(7,"mat-form-field",3),a._UZ(8,"input",4),a.YNc(9,K4,2,0,"mat-error",5),a.qZA(),a.TgZ(10,"mat-form-field",3),a._UZ(11,"input",6),a.TgZ(12,"mat-icon",7),a.NdJ("click",function(){return i.hide=!i.hide}),a._uU(13),a.qZA(),a.YNc(14,Q4,2,0,"mat-error",5),a.qZA()(),a.TgZ(15,"button",8),a.NdJ("click",function(){return i.register()}),a._uU(16,"Register"),a.qZA(),a.TgZ(17,"mat-label"),a._uU(18,"Back To "),a.qZA(),a.TgZ(19,"button",9),a._uU(20,"Login"),a.qZA()()()()),2&e&&(a.xp6(5),a.Q6J("formGroup",i.formGroup),a.xp6(4),a.Q6J("ngIf",i.formGroup.get("email").hasError("required")),a.xp6(2),a.Q6J("type",i.hide?"password":"text"),a.xp6(2),a.Oqu(i.hide?"visibility_off":"visibility"),a.xp6(1),a.Q6J("ngIf",i.formGroup.get("password").hasError("required")))},dependencies:[Sn,Gl,Gb,jb,rx,Lb,FR,sx,ox,WE,KE,Sp,wR,eu,el,Id,Yl,Kl,Ql,QE,Su]}),n})(),J2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-verify-email"]],decls:6,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"login-wrapper"],[1,"box"],[1,"example-form"],[2,"color","brown"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mat-card",1)(2,"form",2)(3,"mat-card-content")(4,"mat-label",3),a._uU(5,"Link has sent to your registered email. Please verify."),a.qZA()()()()())},dependencies:[Gb,jb,Lb,sx,Sp,eu,Yl,If]}),n})();const J4=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Z4},{path:"dashboard",component:_W},{path:"register",component:X4},{path:"forgot-password",component:q4},{path:"verify-email",component:J2},{path:"create-todolist",component:J2}];let e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Bw.forRoot(J4),Bw]}),n})();const t5=["*",[["mat-toolbar-row"]]],n5=["*","mat-toolbar-row"],r5=uu(class{constructor(n){this._elementRef=n}});let s5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),o5=(()=>{class n extends r5{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Di),a.Y36(re))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,s5,5),2&e){let s;a.iGM(s=a.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:n5,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(t5),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),a5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Rn,Rn]}),n})(),l5=(()=>{class n{constructor(e){this.auth=e,this.title="angular-firebase-crud"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Fb))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:18,vars:5,consts:[["color","primary"],[1,"example-spacer"],["mat-flat-button","","routerLink","/dashboard",2,"margin-right","20px",3,"hidden"],["mat-flat-button","","routerLink","/login","name","signin",2,"margin-right","20px",3,"hidden"],[2,"margin-right","20px",3,"hidden"],["mat-flat-button","",3,"disabled","click"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-toolbar",0)(1,"span"),a._uU(2,"To Do List App"),a.qZA(),a._UZ(3,"span",1),a.TgZ(4,"button",2)(5,"mat-icon"),a._uU(6,"home"),a.qZA()(),a.TgZ(7,"button",3)(8,"mat-icon"),a._uU(9,"supervised_user_circle"),a.qZA(),a._uU(10," Sign In "),a.qZA(),a.TgZ(11,"mat-label",4),a._uU(12),a.qZA(),a.TgZ(13,"button",5),a.NdJ("click",function(){return i.auth.logout()}),a.TgZ(14,"mat-icon"),a._uU(15,"supervised_user_circle"),a.qZA(),a._uU(16," Sign Out\n"),a.qZA()(),a._UZ(17,"router-outlet")),2&e&&(a.xp6(4),a.Q6J("hidden",!0),a.xp6(3),a.Q6J("hidden",!0),a.xp6(4),a.Q6J("hidden",!i.auth.loggedIn()),a.xp6(1),a.Oqu(i.auth.token()),a.xp6(1),a.Q6J("disabled",!i.auth.loggedIn()))},dependencies:[R_,Gl,o5,rx,Sp,Su],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}[hidden][_ngcontent-%COMP%]{display:none!important}"]}),n})();const eU_firebase={projectId:"to-do-list-app-3e522",appId:"1:455163946297:web:7596736b765ecfed4ef4e8",storageBucket:"to-do-list-app-3e522.appspot.com",apiKey:"AIzaSyAHL_XXWctSkCLfDQEE5vL7rz4SbX6HyLM",authDomain:"to-do-list-app-3e522.firebaseapp.com",messagingSenderId:"455163946297"};function tU(n){return new a.vHH(3e3,!1)}function j5(){return typeof window<"u"&&typeof window.document<"u"}function nO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Mh(n){switch(n.length){case 0:return new Lr;case 1:return n[0];default:return new d0(n)}}function nU(n,t,e,i,r=new Map,s=new Map){const u=[],h=[];let m=-1,v=null;if(i.forEach(E=>{const S=E.get("offset"),N=S==m,H=N&&v||new Map;E.forEach((z,te)=>{let pe=te,Ue=z;if("offset"!==te)switch(pe=t.normalizePropertyName(pe,u),Ue){case"!":Ue=r.get(te);break;case ul:Ue=s.get(te);break;default:Ue=t.normalizeStyleValue(te,pe,Ue,u)}H.set(pe,Ue)}),N||h.push(H),v=H,m=S}),u.length)throw function k5(n){return new a.vHH(3502,!1)}();return h}function iO(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&rO(e,"start",n)));break;case"done":n.onDone(()=>i(e&&rO(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&rO(e,"destroy",n)))}}function rO(n,t,e){const s=sO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function sO(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function Do(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function iU(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let oO=(n,t)=>!1,rU=(n,t,e)=>[],sU=null;function aO(n){const t=n.parentNode||n.host;return t===sU?null:t}(nO()||typeof Element<"u")&&(j5()?(sU=(()=>document.documentElement)(),oO=(n,t)=>{for(;t;){if(t===n)return!0;t=aO(t)}return!1}):oO=(n,t)=>n.contains(t),rU=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let kp=null,oU=!1;const aU=oO,lU=rU;let cU=(()=>{class n{validateStyleProperty(e){return function z5(n){kp||(kp=function q5(){return typeof document<"u"?document.body:null}()||{},oU=!!kp.style&&"WebkitAppearance"in kp.style);let t=!0;return kp.style&&!function $5(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in kp.style,!t&&oU&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in kp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return aU(e,i)}getParentElement(e){return aO(e)}query(e,i,r){return lU(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,h=[],m){return new Lr(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),lO=(()=>{class n{}return n.NOOP=new cU,n})();const cO="ng-enter",vx="ng-leave",bx="ng-trigger",wx=".ng-trigger",dU="ng-animating",uO=".ng-animating";function Ou(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:dO(parseFloat(t[1]),t[2])}function dO(n,t){return"s"===t?1e3*n:n}function Cx(n,t,e){return n.hasOwnProperty("duration")?n:function Z5(n,t,e){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(tU()),{duration:0,delay:0,easing:""};r=dO(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(s=dO(parseFloat(m),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!e){let h=!1,m=t.length;r<0&&(t.push(function c5(){return new a.vHH(3100,!1)}()),h=!0),s<0&&(t.push(function u5(){return new a.vHH(3101,!1)}()),h=!0),h&&t.splice(m,0,tU())}return{duration:r,delay:s,easing:u}}(n,t,e)}function $b(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function hU(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function kh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function pU(n,t,e){return e?t+":"+e+";":""}function gU(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=pU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=pU(0,J5(e),n.style[e]));n.setAttribute("style",t)}function fc(n,t,e){n.style&&(t.forEach((i,r)=>{const s=fO(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),nO()&&gU(n))}function Rp(n,t){n.style&&(t.forEach((e,i)=>{const r=fO(i);n.style[r]=""}),nO()&&gU(n))}function zb(n){return Array.isArray(n)?1==n.length?n[0]:tT(n):n}const hO=new RegExp("{{\\s*(.+?)\\s*}}","g");function mU(n){let t=[];if("string"==typeof n){let e;for(;e=hO.exec(n);)t.push(e[1]);hO.lastIndex=0}return t}function qb(n,t,e){const i=n.toString(),r=i.replace(hO,(s,u)=>{let h=t[u];return null==h&&(e.push(function h5(n){return new a.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function Dx(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const X5=/-+([a-z0-9])/g;function fO(n){return n.replace(X5,(...t)=>t[1].toUpperCase())}function J5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Eo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function f5(n){return new a.vHH(3004,!1)}()}}function _U(n,t){return window.getComputedStyle(n)[t]}function s8(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function o8(n,t,e){if(":"==n[0]){const m=function a8(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function I5(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function A5(n){return new a.vHH(3015,!1)}()),t;const r=i[1],s=i[2],u=i[3];t.push(yU(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&t.push(yU(u,r))}(i,e,t)):e.push(n),e}const Ix=new Set(["true","1"]),Sx=new Set(["false","0"]);function yU(n,t){const e=Ix.has(n)||Sx.has(n),i=Ix.has(t)||Sx.has(t);return(r,s)=>{let u="*"==n||n==r,h="*"==t||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?Ix.has(n):Sx.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?Ix.has(t):Sx.has(t)),u&&h}}const l8=new RegExp("s*:selfs*,?","g");function pO(n,t,e,i){return new c8(n).build(t,e,i)}class c8{constructor(t){this._driver=t}build(t,e,i){const r=new h8(e);return this._resetContextStyleTimingState(r),Eo(this,zb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function g5(){return new a.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(E=>{m.name=E,s.push(this.visitState(m,e))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,e);i+=m.queryCount,r+=m.depCount,u.push(m)}else e.errors.push(function m5(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{mU(m).forEach(v=>{u.hasOwnProperty(v)||s.add(v)})})}),s.size&&(Dx(s.values()),e.errors.push(function _5(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Eo(this,zb(t.animation),e);return{type:1,matchers:s8(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Op(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Eo(this,i,e)),options:Op(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const h=Eo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:Op(t.options)}}visitAnimate(t,e){const i=function p8(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return gO(Cx(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=gO(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Cx(e,t);return gO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:ns({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=ns(v)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,e);m.isEmptyStep=h,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===ul?i.push(h):e.errors.push(new a.vHH(3002,!1)):i.push(hU(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let m of h.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,m)=>{const v=e.collectedStyles.get(e.currentQuerySelector),E=v.get(m);let S=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(e.errors.push(function v5(n,t,e,i,r){return new a.vHH(3010,!1)}()),S=!1),s=E.startTime),S&&v.set(m,{startTime:s,endTime:r}),e.options&&function Q5(n,t,e){const i=t.params||{},r=mU(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function d5(n){return new a.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function b5(){return new a.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,m=!1,v=0;const E=t.steps.map(Ue=>{const st=this._makeStyleAst(Ue,e);let mt=null!=st.offset?st.offset:function f8(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(st.styles),_t=0;return null!=mt&&(s++,_t=st.offset=mt),m=m||_t<0||_t>1,h=h||_t<v,v=_t,u.push(_t),st});m&&e.errors.push(function w5(){return new a.vHH(3012,!1)}()),h&&e.errors.push(function C5(){return new a.vHH(3200,!1)}());const S=t.steps.length;let N=0;s>0&&s<S?e.errors.push(function D5(){return new a.vHH(3202,!1)}()):0==s&&(N=1/(S-1));const H=S-1,z=e.currentTime,te=e.currentAnimateTimings,pe=te.duration;return E.forEach((Ue,st)=>{const mt=N>0?st==H?1:N*st:u[st],_t=mt*pe;e.currentTime=z+te.delay+_t,te.duration=_t,this._validateStyleAst(Ue,e),Ue.offset=mt,i.styles.push(Ue)}),i}visitReference(t,e){return{type:8,animation:Eo(this,zb(t.animation),e),options:Op(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Op(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Op(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function u8(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(l8,"")),n=n.replace(/@\*/g,wx).replace(/@\w+/g,e=>wx+"-"+e.slice(1)).replace(/:animating/g,uO),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Do(e.collectedStyles,e.currentQuerySelector,new Map);const h=Eo(this,zb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Op(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function E5(){return new a.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cx(t.timings,e.errors,!0);return{type:12,animation:Eo(this,zb(t.animation),e),timings:i,options:null}}}class h8{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Op(n){return n?(n=$b(n)).params&&(n.params=function d8(n){return n?$b(n):null}(n.params)):n={},n}function gO(n,t,e){return{duration:n,delay:t,easing:e}}function mO(n,t,e,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class Tx{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const _8=new RegExp(":enter","g"),v8=new RegExp(":leave","g");function _O(n,t,e,i,r,s=new Map,u=new Map,h,m,v=[]){return(new b8).buildKeyframes(n,t,e,i,r,s,u,h,m,v)}class b8{buildKeyframes(t,e,i,r,s,u,h,m,v,E=[]){v=v||new Tx;const S=new yO(t,e,v,r,s,E,[]);S.options=m;const N=m.delay?Ou(m.delay):0;S.currentTimeline.delayNextStep(N),S.currentTimeline.setStyles([u],null,S.errors,m),Eo(this,i,S);const H=S.timelines.filter(z=>z.containsAnimation());if(H.length&&h.size){let z;for(let te=H.length-1;te>=0;te--){const pe=H[te];if(pe.element===e){z=pe;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([h],null,S.errors,m)}return H.length?H.map(z=>z.buildKeyframes()):[mO(e,[],[],[],0,N,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const u="number"==typeof s?s:Ou(qb(s,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?Ou(i.duration):null,h=null!=i.delay?Ou(i.delay):null;return 0!==u&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,u,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Eo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mx);const u=Ou(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Eo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ou(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Eo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Cx(e.params?qb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*s),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ou(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Mx);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((v,E)=>{e.currentQueryIndex=E;const S=e.createSubContext(t.options,v);s&&S.delayNextStep(s),v===e.element&&(m=S.currentTimeline),Eo(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const E=e.currentTimeline;m&&E.delayNextStep(m);const S=E.currentTime;Eo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const Mx={};class yO{constructor(t,e,i,r,s,u,h,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new kx(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ou(i.duration)),null!=i.delay&&(r.delay=Ou(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=qb(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new yO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Mx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new w8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(_8,"."+this._enterClassName)).replace(v8,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&u.push(function x5(n){return new a.vHH(3014,!1)}()),h}}class kx{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new kx(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ul),this._currentKeyframe.set(e,ul);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},u=function C8(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,ul)}else kh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,m]of u){const v=qb(m,s,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ul),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=kh(h,new Map,this._backFill);v.forEach((E,S)=>{"!"===E?t.add(S):E===ul&&e.add(S)}),i||v.set("offset",m/this.duration),r.push(v)});const s=t.size?Dx(t.values()):[],u=e.size?Dx(e.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return mO(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class w8 extends kx{constructor(t,e,i,r,s,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,h=e/u,m=kh(t[0]);m.set("offset",0),s.push(m);const v=kh(t[0]);v.set("offset",wU(h)),s.push(v);const E=t.length-1;for(let S=1;S<=E;S++){let N=kh(t[S]);const H=N.get("offset");N.set("offset",wU((e+H*i)/u)),s.push(N)}i=u,e=0,r="",t=s}return mO(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function wU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class vO{}const D8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class E8 extends vO{normalizePropertyName(t,e){return fO(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(D8.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function p5(n,t){return new a.vHH(3005,!1)}())}return u+s}}function CU(n,t,e,i,r,s,u,h,m,v,E,S,N){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:E,totalTime:S,errors:N}}const bO={};class DU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function x8(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,u,h,m,v,E){const S=[],N=this.ast.options&&this.ast.options.params||bO,z=this.buildStyles(i,h&&h.params||bO,S),te=m&&m.params||bO,pe=this.buildStyles(r,te,S),Ue=new Set,st=new Map,mt=new Map,_t="void"===r,Rt={params:A8(te,N),delay:this.ast.options?.delay},Vt=E?[]:_O(t,e,this.ast.animation,s,u,z,pe,Rt,v,S);let gn=0;if(Vt.forEach(Fu=>{gn=Math.max(Fu.duration+Fu.delay,gn)}),S.length)return CU(e,this._triggerName,i,r,_t,z,pe,[],[],st,mt,gn,S);Vt.forEach(Fu=>{const Pu=Fu.element,iH=Do(st,Pu,new Set);Fu.preStyleProps.forEach(Fp=>iH.add(Fp));const Wb=Do(mt,Pu,new Set);Fu.postStyleProps.forEach(Fp=>Wb.add(Fp)),Pu!==e&&Ue.add(Pu)});const Ts=Dx(Ue.values());return CU(e,this._triggerName,i,r,_t,z,pe,Vt,Ts,st,mt,gn)}}function A8(n,t){const e=$b(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class I8{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=$b(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=qb(u,r,e));const m=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,m,u,e),i.set(m,u)})}),i}}class T8{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new I8(r.style,r.options&&r.options.params||{},i))}),EU(this.states,"true","1"),EU(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new DU(t,r,this.states))}),this.fallbackTransition=function M8(n,t,e){return new DU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function EU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const k8=new Tx;class R8{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=pO(this._driver,e,i,[]);if(i.length)throw function R5(n){return new a.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=nU(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let u;const h=new Map;if(s?(u=_O(this._driver,e,s,cO,vx,new Map,new Map,i,k8,r),u.forEach(E=>{const S=Do(h,E.element,new Map);E.postStyleProps.forEach(N=>S.set(N,null))})):(r.push(function O5(){return new a.vHH(3300,!1)}()),u=[]),r.length)throw function F5(n){return new a.vHH(3504,!1)}();h.forEach((E,S)=>{E.forEach((N,H)=>{E.set(H,this._driver.computeStyle(S,H,ul))})});const v=Mh(u.map(E=>{const S=h.get(E.element);return this._buildPlayer(E,new Map,S)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function P5(n){return new a.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=sO(e,"","","");return iO(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const xU="ng-animate-queued",wO="ng-animate-disabled",L8=[],AU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ya="__ng_removed";class CO{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function G8(n){return n??null}(i?t.value:t),i){const s=$b(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Yb="void",DO=new CO(Yb);class B8{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,va(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function N5(n,t){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function L5(n){return new a.vHH(3303,!1)}();if(!function j8(n){return"start"==n||"done"==n}(i))throw function V5(n,t){return new a.vHH(3400,!1)}();const s=Do(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const h=Do(this._engine.statesByElement,t,new Map);return h.has(e)||(va(t,bx),va(t,bx+"-"+e),h.set(e,DO)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(u);m>=0&&s.splice(m,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function B5(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new EO(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(va(t,bx),va(t,bx+"-"+e),this._engine.statesByElement.set(t,h=new Map));let m=h.get(e);const v=new CO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(e,v),m||(m=DO),v.value!==Yb&&m.value===v.value){if(!function q8(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(m.params,v.params)){const te=[],pe=s.matchStyles(m.value,m.params,te),Ue=s.matchStyles(v.value,v.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Rp(t,pe),fc(t,Ue)})}return}const N=Do(this._engine.playersByElement,t,[]);N.forEach(te=>{te.namespaceId==this.id&&te.triggerName==e&&te.queued&&te.destroy()});let H=s.matchTransition(m.value,v.value,t,v.params),z=!1;if(!H){if(!r)return;H=s.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:H,fromState:m,toState:v,player:u,isFallbackTransition:z}),z||(va(t,xU),u.onStart(()=>{p_(t,xU)})),u.onDone(()=>{let te=this.players.indexOf(u);te>=0&&this.players.splice(te,1);const pe=this._engine.playersByElement.get(t);if(pe){let Ue=pe.indexOf(u);Ue>=0&&pe.splice(Ue,1)}}),this.players.push(u),N.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,wx,!0);i.forEach(r=>{if(r[ya])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(s.forEach((m,v)=>{if(u.set(v,m.value),this._triggers.has(v)){const E=this.trigger(t,v,Yb,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Mh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const m=this._triggers.get(u).fallbackTransition,v=i.get(u)||DO,E=new CO(Yb),S=new EO(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:v,toState:E,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ya];(!s||s===AU)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){va(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const m=sO(s,i.triggerName,i.fromState.value,i.toState.value);m._data=t,iO(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class U8{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new B8(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(Rx(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Rx(e))return;const s=e[ya];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),va(t,wO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),p_(t,wO))}removeNode(t,e,i,r){if(Rx(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ya]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Rx(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,wx,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,uO,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Mh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ya];if(e&&e.setForRemoval){if(t[ya]=AU,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(wO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)va(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Mh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function U5(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Tx,r=[],s=new Map,u=[],h=new Map,m=new Map,v=new Map,E=new Set;this.disabledNodes.forEach(Dt=>{E.add(Dt);const Ot=this.driver.query(Dt,".ng-animate-queued",!0);for(let jt=0;jt<Ot.length;jt++)E.add(Ot[jt])});const S=this.bodyNode,N=Array.from(this.statesByElement.keys()),H=TU(N,this.collectedEnterElements),z=new Map;let te=0;H.forEach((Dt,Ot)=>{const jt=cO+te++;z.set(Ot,jt),Dt.forEach(Cn=>va(Cn,jt))});const pe=[],Ue=new Set,st=new Set;for(let Dt=0;Dt<this.collectedLeaveElements.length;Dt++){const Ot=this.collectedLeaveElements[Dt],jt=Ot[ya];jt&&jt.setForRemoval&&(pe.push(Ot),Ue.add(Ot),jt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(Cn=>Ue.add(Cn)):st.add(Ot))}const mt=new Map,_t=TU(N,Array.from(Ue));_t.forEach((Dt,Ot)=>{const jt=vx+te++;mt.set(Ot,jt),Dt.forEach(Cn=>va(Cn,jt))}),t.push(()=>{H.forEach((Dt,Ot)=>{const jt=z.get(Ot);Dt.forEach(Cn=>p_(Cn,jt))}),_t.forEach((Dt,Ot)=>{const jt=mt.get(Ot);Dt.forEach(Cn=>p_(Cn,jt))}),pe.forEach(Dt=>{this.processLeaveNode(Dt)})});const Rt=[],Vt=[];for(let Dt=this._namespaceList.length-1;Dt>=0;Dt--)this._namespaceList[Dt].drainQueuedTransitions(e).forEach(jt=>{const Cn=jt.player,Sr=jt.element;if(Rt.push(Cn),this.collectedEnterElements.length){const rs=Sr[ya];if(rs&&rs.setForMove){if(rs.previousTriggersValues&&rs.previousTriggersValues.has(jt.triggerName)){const Pp=rs.previousTriggersValues.get(jt.triggerName),ba=this.statesByElement.get(jt.element);if(ba&&ba.has(jt.triggerName)){const Px=ba.get(jt.triggerName);Px.value=Pp,ba.set(jt.triggerName,Px)}}return void Cn.destroy()}}const pc=!S||!this.driver.containsElement(S,Sr),xo=mt.get(Sr),Rh=z.get(Sr),xi=this._buildInstruction(jt,i,Rh,xo,pc);if(xi.errors&&xi.errors.length)return void Vt.push(xi);if(pc)return Cn.onStart(()=>Rp(Sr,xi.fromStyles)),Cn.onDestroy(()=>fc(Sr,xi.toStyles)),void r.push(Cn);if(jt.isFallbackTransition)return Cn.onStart(()=>Rp(Sr,xi.fromStyles)),Cn.onDestroy(()=>fc(Sr,xi.toStyles)),void r.push(Cn);const oH=[];xi.timelines.forEach(rs=>{rs.stretchStartingKeyframe=!0,this.disabledNodes.has(rs.element)||oH.push(rs)}),xi.timelines=oH,i.append(Sr,xi.timelines),u.push({instruction:xi,player:Cn,element:Sr}),xi.queriedElements.forEach(rs=>Do(h,rs,[]).push(Cn)),xi.preStyleProps.forEach((rs,Pp)=>{if(rs.size){let ba=m.get(Pp);ba||m.set(Pp,ba=new Set),rs.forEach((Px,SO)=>ba.add(SO))}}),xi.postStyleProps.forEach((rs,Pp)=>{let ba=v.get(Pp);ba||v.set(Pp,ba=new Set),rs.forEach((Px,SO)=>ba.add(SO))})});if(Vt.length){const Dt=[];Vt.forEach(Ot=>{Dt.push(function H5(n,t){return new a.vHH(3505,!1)}())}),Rt.forEach(Ot=>Ot.destroy()),this.reportError(Dt)}const gn=new Map,Ts=new Map;u.forEach(Dt=>{const Ot=Dt.element;i.has(Ot)&&(Ts.set(Ot,Ot),this._beforeAnimationBuild(Dt.player.namespaceId,Dt.instruction,gn))}),r.forEach(Dt=>{const Ot=Dt.element;this._getPreviousPlayers(Ot,!1,Dt.namespaceId,Dt.triggerName,null).forEach(Cn=>{Do(gn,Ot,[]).push(Cn),Cn.destroy()})});const Fu=pe.filter(Dt=>kU(Dt,m,v)),Pu=new Map;SU(Pu,this.driver,st,v,ul).forEach(Dt=>{kU(Dt,m,v)&&Fu.push(Dt)});const Wb=new Map;H.forEach((Dt,Ot)=>{SU(Wb,this.driver,new Set(Dt),m,"!")}),Fu.forEach(Dt=>{const Ot=Pu.get(Dt),jt=Wb.get(Dt);Pu.set(Dt,new Map([...Array.from(Ot?.entries()??[]),...Array.from(jt?.entries()??[])]))});const Fp=[],rH=[],sH={};u.forEach(Dt=>{const{element:Ot,player:jt,instruction:Cn}=Dt;if(i.has(Ot)){if(E.has(Ot))return jt.onDestroy(()=>fc(Ot,Cn.toStyles)),jt.disabled=!0,jt.overrideTotalTime(Cn.totalTime),void r.push(jt);let Sr=sH;if(Ts.size>1){let xo=Ot;const Rh=[];for(;xo=xo.parentNode;){const xi=Ts.get(xo);if(xi){Sr=xi;break}Rh.push(xo)}Rh.forEach(xi=>Ts.set(xi,Sr))}const pc=this._buildAnimation(jt.namespaceId,Cn,gn,s,Wb,Pu);if(jt.setRealPlayer(pc),Sr===sH)Fp.push(jt);else{const xo=this.playersByElement.get(Sr);xo&&xo.length&&(jt.parentPlayer=Mh(xo)),r.push(jt)}}else Rp(Ot,Cn.fromStyles),jt.onDestroy(()=>fc(Ot,Cn.toStyles)),rH.push(jt),E.has(Ot)&&r.push(jt)}),rH.forEach(Dt=>{const Ot=s.get(Dt.element);if(Ot&&Ot.length){const jt=Mh(Ot);Dt.setRealPlayer(jt)}}),r.forEach(Dt=>{Dt.parentPlayer?Dt.syncPlayerEvents(Dt.parentPlayer):Dt.destroy()});for(let Dt=0;Dt<pe.length;Dt++){const Ot=pe[Dt],jt=Ot[ya];if(p_(Ot,vx),jt&&jt.hasAnimation)continue;let Cn=[];if(h.size){let pc=h.get(Ot);pc&&pc.length&&Cn.push(...pc);let xo=this.driver.query(Ot,uO,!0);for(let Rh=0;Rh<xo.length;Rh++){let xi=h.get(xo[Rh]);xi&&xi.length&&Cn.push(...xi)}}const Sr=Cn.filter(pc=>!pc.destroyed);Sr.length?$8(this,Ot,Sr):this.processLeaveNode(Ot)}return pe.length=0,Fp.forEach(Dt=>{this.players.push(Dt),Dt.onDone(()=>{Dt.destroy();const Ot=this.players.indexOf(Dt);this.players.splice(Ot,1)}),Dt.play()}),Fp}elementContainsData(t,e){let i=!1;const r=e[ya];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const m=!s||s==Yb;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,E=v!==s,S=Do(i,v,[]);this._getPreviousPlayers(v,E,u,h,e.toState).forEach(H=>{const z=H.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),H.destroy(),S.push(H)})}Rp(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const h=e.triggerName,m=e.element,v=[],E=new Set,S=new Set,N=e.timelines.map(z=>{const te=z.element;E.add(te);const pe=te[ya];if(pe&&pe.removedBeforeQueried)return new Lr(z.duration,z.delay);const Ue=te!==m,st=function z8(n){const t=[];return MU(n,t),t}((i.get(te)||L8).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===te),mt=s.get(te),_t=u.get(te),Rt=nU(0,this._normalizer,0,z.keyframes,mt,_t),Vt=this._buildPlayer(z,Rt,st);if(z.subTimeline&&r&&S.add(te),Ue){const gn=new EO(t,h,te);gn.setRealPlayer(Vt),v.push(gn)}return Vt});v.forEach(z=>{Do(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function H8(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,z.element,z))}),E.forEach(z=>va(z,dU));const H=Mh(N);return H.onDestroy(()=>{E.forEach(z=>p_(z,dU)),fc(m,e.toStyles)}),S.forEach(z=>{Do(r,z,[]).push(H)}),H}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Lr(t.duration,t.delay)}}class EO{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Lr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>iO(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Do(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Rx(n){return n&&1===n.nodeType}function IU(n,t){const e=n.style.display;return n.style.display=t??"none",e}function SU(n,t,e,i,r){const s=[];e.forEach(m=>s.push(IU(m)));const u=[];i.forEach((m,v)=>{const E=new Map;m.forEach(S=>{const N=t.computeStyle(v,S,r);E.set(S,N),(!N||0==N.length)&&(v[ya]=V8,u.push(v))}),n.set(v,E)});let h=0;return e.forEach(m=>IU(m,s[h++])),u}function TU(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function u(h){if(!h)return 1;let m=s.get(h);if(m)return m;const v=h.parentNode;return m=e.has(v)?v:r.has(v)?1:u(v),s.set(h,m),m}return t.forEach(h=>{const m=u(h);1!==m&&e.get(m).push(h)}),e}function va(n,t){n.classList?.add(t)}function p_(n,t){n.classList?.remove(t)}function $8(n,t,e){Mh(e).onDone(()=>n.processLeaveNode(t))}function MU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof d0?MU(i.players,t):t.push(i)}}function kU(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Ox{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new U8(t,e,i),this._timelineEngine=new R8(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const m=[],E=pO(this._driver,s,m,[]);if(m.length)throw function M5(n,t){return new a.vHH(3404,!1)}();h=function S8(n,t,e){return new T8(n,t,e)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=iU(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,h]=iU(i);return this._timelineEngine.listen(u,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let W8=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&fc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fc(this._element,this._initialStyles),this._endStyles&&(fc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rp(this._element,this._endStyles),this._endStyles=null),fc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xO(n){let t=null;return n.forEach((e,i)=>{(function Z8(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class RU{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:_U(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class K8{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return aU(t,e)}getParentElement(t){return aO(t)}query(t,e,i){return lU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,u=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(m.easing=s);const v=new Map,E=u.filter(H=>H instanceof RU);(function e8(n,t){return 0===n||0===t})(i,r)&&E.forEach(H=>{H.currentSnapshot.forEach((z,te)=>v.set(te,z))});let S=function K5(n){return n.length?n[0]instanceof Map?n:n.map(t=>hU(t)):[]}(e).map(H=>kh(H));S=function t8(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<t.length;s++){let u=t[s];r.forEach(h=>u.set(h,_U(n,h)))}}return t}(t,S,v);const N=function Y8(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=xO(t[0]),t.length>1&&(i=xO(t[t.length-1]))):t instanceof Map&&(e=xO(t)),e||i?new W8(n,e,i):null}(t,S);return new RU(t,S,m,N)}}let Q8=(()=>{class n extends JS{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?tT(e):e;return OU(this._renderer,null,i,"register",[r]),new X8(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(re))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class X8 extends class eT{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new J8(this._id,t,e||{},this._renderer)}}class J8{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return OU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function OU(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const FU="@.disabled";let eZ=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new PU("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=E=>{Array.isArray(E)?E.forEach(m):this.engine.registerTrigger(u,h,e,E.name,E)};return i.data.animation.forEach(m),new tZ(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(Ox),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class PU{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==FU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class tZ extends PU{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==FU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function nZ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function iZ(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let rZ=(()=>{class n extends Ox{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(re),a.LFG(lO),a.LFG(vO),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const NU=[{provide:JS,useClass:Q8},{provide:vO,useFactory:function sZ(){return new E8}},{provide:Ox,useClass:rZ},{provide:a.FYo,useFactory:function oZ(n,t,e){return new eZ(n,t,e)},deps:[Ua,Ox,a.R0b]}],AO=[{provide:lO,useFactory:()=>new K8},{provide:a.QbO,useValue:"BrowserAnimations"},...NU],LU=[{provide:lO,useClass:cU},{provide:a.QbO,useValue:"NoopAnimations"},...NU];let aZ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?LU:AO}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:AO,imports:[ao]}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[QR]}),n})(),QU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[QR]}),n})(),YK=(()=>{class n{constructor(e,i){gr(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:pl,useValue:{...XR,...e}},{provide:JR,useValue:i,multi:!0},{provide:h_,useValue:!0}]:[{provide:pl,useValue:{...XR,...e}},{provide:JR,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(h_),a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[X2,jU,QU,X2,jU,QU]}),n})();const JK={provide:new a.OlP("mat-autocomplete-scroll-strategy"),deps:[ha],useFactory:function XK(n){return()=>n.scrollStrategies.reposition()}};let i7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[JK],imports:[qf,dv,Rn,Sa,Zy,dv,Rn]}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),_7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lv,Rn,tm,nH,Rn,nH]}),n})(),y7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[l5]}),n.\u0275inj=a.cJS({imports:[ao,e5,aZ,a5,YK,bY,AY,CR,KA,NC,Sa,H6,zB,Li.hO.initializeApp(eU_firebase),Oq,pT,JD,JY,i7,_7,zq]}),n})();(0,a.G48)(),$a().bootstrapModule(y7).catch(n=>console.error(n))},5867:(ht,Me,L)=>{L.d(Me,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=L(9681);(0,a.registerVersion)("firebase","9.13.0","app")},127:(ht,Me,L)=>{L.d(Me,{Z:()=>a.Z});var a=L(3942);a.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(ht,Me,L)=>{L.r(Me);var a=L(5861),j=L(3942),F=L(8247),le=L(2090),re=(L(9681),L(1877),L(4859));function ge(){return window}function q(){return(q=(0,a.Z)(function*(G,R,B){var oe;const{BuildInfo:Le}=ge();(0,F.ap)(R.sessionId,"AuthEvent did not contain a session ID");const at=yield _e(R.sessionId),ct={};return(0,F.aq)()?ct.ibi=Le.packageName:(0,F.ar)()?ct.apn=Le.packageName:(0,F.as)(G,"operation-not-supported-in-this-environment"),Le.displayName&&(ct.appDisplayName=Le.displayName),ct.sessionId=at,(0,F.at)(G,B,R.type,void 0,null!==(oe=R.eventId)&&void 0!==oe?oe:void 0,ct)})).apply(this,arguments)}function je(){return(je=(0,a.Z)(function*(G){const{BuildInfo:R}=ge(),B={};(0,F.aq)()?B.iosBundleId=R.packageName:(0,F.ar)()?B.androidPackageName=R.packageName:(0,F.as)(G,"operation-not-supported-in-this-environment"),yield(0,F.au)(G,B)})).apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(G,R,B){const{cordova:oe}=ge();let Le=()=>{};try{yield new Promise((at,ct)=>{let ke=null;function Be(){var Bt;at();const yn=null===(Bt=oe.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof yn&&yn(),"function"==typeof B?.close&&B.close()}function Pt(){ke||(ke=window.setTimeout(()=>{ct((0,F.aw)(G,"redirect-cancelled-by-user"))},2e3))}function _n(){"visible"===document?.visibilityState&&Pt()}R.addPassiveListener(Be),document.addEventListener("resume",Pt,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",_n,!1),Le=()=>{R.removePassiveListener(Be),document.removeEventListener("resume",Pt,!1),document.removeEventListener("visibilitychange",_n,!1),ke&&window.clearTimeout(ke)}})}finally{Le()}})).apply(this,arguments)}function _e(G){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(G){const R=Je(G),B=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(B)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Je(G){if((0,F.ap)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const R=new ArrayBuffer(G.length),B=new Uint8Array(R);for(let oe=0;oe<G.length;oe++)B[oe]=G.charCodeAt(oe);return B}class Oe extends F.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(R)),super.onEvent(R)}initialized(){var R=this;return(0,a.Z)(function*(){yield R.initPromise})()}}function ae(G){return he.apply(this,arguments)}function he(){return(he=(0,a.Z)(function*(G){const R=yield ne()._get(me(G));return R&&(yield ne()._remove(me(G))),R})).apply(this,arguments)}function X(){const G=[],R="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const oe=Math.floor(Math.random()*R.length);G.push(R.charAt(oe))}return G.join("")}function ne(){return(0,F.az)(F.b)}function me(G){return(0,F.aA)("authEvent",G.config.apiKey,G.name)}function Ge(G){if(!G?.includes("?"))return{};const[R,...B]=G.split("?");return(0,le.zd)(B.join("?"))}function We(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}function Qt(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function Fi(G=(0,le.z$)()){return!("file:"!==Qt()&&"ionic:"!==Qt()&&"capacitor:"!==Qt()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function os(){try{const G=self.localStorage,R=F.aI();if(G)return G.setItem(R,"1"),G.removeItem(R),!function ss(G=(0,le.z$)()){return function Hi(){return(0,le.w1)()&&11===document?.documentMode}()||function Vn(G=(0,le.z$)()){return/Edge\/\d+/.test(G)}(G)}()||(0,le.hl)()}catch{return Gi()&&(0,le.hl)()}return!1}function Gi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function $t(){return"http:"===Qt()||"https:"===Qt()}()||(0,le.ru)()||Fi())&&!function $r(){return(0,le.b$)()||(0,le.UG)()}()&&os()&&!Gi()}function Tr(){return Fi()&&typeof document<"u"}function et(){return(et=(0,a.Z)(function*(){return!!Tr()&&new Promise(G=>{const R=setTimeout(()=>{G(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),G(!0)})})})).apply(this,arguments)}const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},Dn=F.ax,vi="persistence";function xn(G){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(G){yield G._initializationPromise;const R=vt(),B=F.aA(vi,G.config.apiKey,G.name);R&&R.setItem(B,G._getPersistence())})).apply(this,arguments)}function vt(){var G;try{return(null===(G=function ni(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const bt=F.ax;class Ft{constructor(){this.browserResolver=F.az(F.k),this.cordovaResolver=F.az(class ln{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(R){var B=this;return(0,a.Z)(function*(){const oe=R._key();let Le=B.eventManagers.get(oe);return Le||(Le=new Oe(R),B.eventManagers.set(oe,Le),B.attachCallbackListeners(R,Le)),Le})()}_openPopup(R){(0,F.as)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,B,oe,Le){var at=this;return(0,a.Z)(function*(){!function Ce(G){var R,B,oe,Le,at,ct,ke,Be,Pt,_n;const Bt=ge();(0,F.ax)("function"==typeof(null===(R=Bt?.universalLinks)||void 0===R?void 0:R.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(B=Bt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(at=null===(Le=null===(oe=Bt?.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===at?void 0:at.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(Be=null===(ke=null===(ct=Bt?.cordova)||void 0===ct?void 0:ct.plugins)||void 0===ke?void 0:ke.browsertab)||void 0===Be?void 0:Be.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(_n=null===(Pt=Bt?.cordova)||void 0===Pt?void 0:Pt.InAppBrowser)||void 0===_n?void 0:_n.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const ct=yield at._initialize(R);yield ct.initialized(),ct.resetRedirect(),(0,F.aD)(),yield at._originValidation(R);const ke=function xe(G,R,B=null){return{type:R,eventId:B,urlResponse:null,sessionId:X(),postBody:null,tenantId:G.tenantId,error:(0,F.aw)(G,"no-auth-event")}}(R,oe,Le);yield function Ye(G,R){return ne()._set(me(G),R)}(R,ke);const Be=yield function W(G,R,B){return q.apply(this,arguments)}(R,ke,B),Pt=yield function Pe(G){const{cordova:R}=ge();return new Promise(B=>{R.plugins.browsertab.isAvailable(oe=>{let Le=null;oe?R.plugins.browsertab.openUrl(G):Le=R.InAppBrowser.open(G,(0,F.av)()?"_blank":"_system","location=yes"),B(Le)})})}(Be);return function Ae(G,R,B){return ot.apply(this,arguments)}(R,ct,Pt)})()}_isIframeWebStorageSupported(R,B){throw new Error("Method not implemented.")}_originValidation(R){const B=R._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function ee(G){return je.apply(this,arguments)}(R)),this.originValidationPromises[B]}attachCallbackListeners(R,B){const{universalLinks:oe,handleOpenURL:Le,BuildInfo:at}=ge(),ct=setTimeout((0,a.Z)(function*(){yield ae(R),B.onEvent(We())}),500),ke=function(){var _n=(0,a.Z)(function*(Bt){clearTimeout(ct);const yn=yield ae(R);let ls=null;yn&&Bt?.url&&(ls=function we(G,R){var B,oe;const Le=function He(G){const R=Ge(G),B=R.link?decodeURIComponent(R.link):void 0,oe=Ge(B).link,Le=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return Ge(Le).link||Le||oe||B||G}(R);if(Le.includes("/__/auth/callback")){const at=Ge(Le),ct=at.firebaseError?function ce(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(at.firebaseError)):null,ke=null===(oe=null===(B=ct?.code)||void 0===B?void 0:B.split("auth/"))||void 0===oe?void 0:oe[1],Be=ke?(0,F.aw)(ke):null;return Be?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:Le,postBody:null}}return null}(yn,Bt.url)),B.onEvent(ls||We())});return function(yn){return _n.apply(this,arguments)}}();typeof oe<"u"&&"function"==typeof oe.subscribe&&oe.subscribe(null,ke);const Be=Le,Pt=`${at.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var _n=(0,a.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Pt)&&ke({url:Bt}),"function"==typeof Be)try{Be(Bt)}catch(yn){console.error(yn)}});return function(Bt){return _n.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(R){var B=this;return(0,a.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,B,oe,Le){var at=this;return(0,a.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(R,B,oe,Le)})()}_openRedirect(R,B,oe,Le){var at=this;return(0,a.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(R,B,oe,Le)})()}_isIframeWebStorageSupported(R,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,B)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Tr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,a.Z)(function*(){if(R.underlyingResolver)return;const B=yield function as(){return et.apply(this,arguments)}();R.underlyingResolver=B?R.cordovaResolver:R.browserResolver})()}}function Qi(G){return G.unwrap()}function Pi(G){return ji(G)}function ji(G){const{_tokenResponse:R}=G instanceof le.ZR?G.customData:G;if(!R)return null;if(!(G instanceof le.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return F.P.credentialFromResult(G);const B=R.providerId;if(!B||B===F.o.PASSWORD)return null;let oe;switch(B){case F.o.GOOGLE:oe=F.Q;break;case F.o.FACEBOOK:oe=F.N;break;case F.o.GITHUB:oe=F.T;break;case F.o.TWITTER:oe=F.W;break;default:const{oauthIdToken:Le,oauthAccessToken:at,oauthTokenSecret:ct,pendingToken:ke,nonce:Be}=R;return at||ct||Le||ke?ke?B.startsWith("saml.")?F.aL._create(B,ke):F.J._fromParams({providerId:B,signInMethod:B,pendingToken:ke,idToken:Le,accessToken:at}):new F.U(B).credential({idToken:Le,accessToken:at,rawNonce:Be}):null}return G instanceof le.ZR?oe.credentialFromError(G):oe.credentialFromResult(G)}function Gt(G,R){return R.catch(B=>{throw B instanceof le.ZR&&function Mt(G,R){var B,oe;const Le=null===(B=R.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null===(oe=R)||void 0===oe?void 0:oe.code))R.resolver=new hi(G,F.an(G,R));else if(Le){const at=ji(R),ct=R;at&&(ct.credential=at,ct.tenantId=Le.tenantId||void 0,ct.email=Le.email||void 0,ct.phoneNumber=Le.phoneNumber||void 0)}}(G,B),B}).then(B=>{const Le=B.user;return{operationType:B.operationType,credential:Pi(B),additionalUserInfo:F.al(B),user:On.getOrCreate(Le)}})}function ur(G,R){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(G,R){const B=yield R;return{verificationId:B.verificationId,confirm:oe=>Gt(G,B.confirm(oe))}})).apply(this,arguments)}class hi{constructor(R,B){this.resolver=B,this.auth=function ii(G){return G.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return Gt(Qi(this.auth),this.resolver.resolveSignIn(R))}}class On{constructor(R){this._delegate=R,this.multiFactor=F.ao(R)}static getOrCreate(R){return On.USER_MAP.has(R)||On.USER_MAP.set(R,new On(R)),On.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var B=this;return(0,a.Z)(function*(){return Gt(B.auth,F.Z(B._delegate,R))})()}linkWithPhoneNumber(R,B){var oe=this;return(0,a.Z)(function*(){return ur(oe.auth,F.l(oe._delegate,R,B))})()}linkWithPopup(R){var B=this;return(0,a.Z)(function*(){return Gt(B.auth,F.d(B._delegate,R,Ft))})()}linkWithRedirect(R){var B=this;return(0,a.Z)(function*(){return yield xn(F.aE(B.auth)),F.g(B._delegate,R,Ft)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var B=this;return(0,a.Z)(function*(){return Gt(B.auth,F._(B._delegate,R))})()}reauthenticateWithPhoneNumber(R,B){return ur(this.auth,F.r(this._delegate,R,B))}reauthenticateWithPopup(R){return Gt(this.auth,F.e(this._delegate,R,Ft))}reauthenticateWithRedirect(R){var B=this;return(0,a.Z)(function*(){return yield xn(F.aE(B.auth)),F.h(B._delegate,R,Ft)})()}sendEmailVerification(R){return F.ab(this._delegate,R)}unlink(R){var B=this;return(0,a.Z)(function*(){return yield F.ak(B._delegate,R),B})()}updateEmail(R){return F.ag(this._delegate,R)}updatePassword(R){return F.ah(this._delegate,R)}updatePhoneNumber(R){return F.u(this._delegate,R)}updateProfile(R){return F.af(this._delegate,R)}verifyBeforeUpdateEmail(R,B){return F.ac(this._delegate,R,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}On.USER_MAP=new WeakMap;const it=F.ax;let Te=(()=>{class G{constructor(B,oe){if(this.app=B,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=B.options;it(Le,"invalid-api-key",{appName:B.name}),it(Le,"invalid-api-key",{appName:B.name});const at=typeof window<"u"?Ft:void 0;this._delegate=oe.initialize({options:{persistence:xt(Le,B.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?On.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,oe){F.G(this._delegate,B,oe)}applyActionCode(B){return F.a2(this._delegate,B)}checkActionCode(B){return F.a3(this._delegate,B)}confirmPasswordReset(B,oe){return F.a1(this._delegate,B,oe)}createUserWithEmailAndPassword(B,oe){var Le=this;return(0,a.Z)(function*(){return Gt(Le._delegate,F.a5(Le._delegate,B,oe))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return F.aa(this._delegate,B)}isSignInWithEmailLink(B){return F.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,a.Z)(function*(){it(Zn(),B._delegate,"operation-not-supported-in-this-environment");const oe=yield F.j(B._delegate,Ft);return oe?Gt(B._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function mn(G,R){(0,F.aE)(G)._logFramework(R)}(this._delegate,B)}onAuthStateChanged(B,oe,Le){const{next:at,error:ct,complete:ke}=rt(B,oe,Le);return this._delegate.onAuthStateChanged(at,ct,ke)}onIdTokenChanged(B,oe,Le){const{next:at,error:ct,complete:ke}=rt(B,oe,Le);return this._delegate.onIdTokenChanged(at,ct,ke)}sendSignInLinkToEmail(B,oe){return F.a7(this._delegate,B,oe)}sendPasswordResetEmail(B,oe){return F.a0(this._delegate,B,oe||void 0)}setPersistence(B){var oe=this;return(0,a.Z)(function*(){let Le;switch(function Zs(G,R){Dn(Object.values(Kn).includes(R),G,"invalid-persistence-type"),(0,le.b$)()?Dn(R!==Kn.SESSION,G,"unsupported-persistence-type"):(0,le.UG)()?Dn(R===Kn.NONE,G,"unsupported-persistence-type"):Gi()?Dn(R===Kn.NONE||R===Kn.LOCAL&&(0,le.hl)(),G,"unsupported-persistence-type"):Dn(R===Kn.NONE||os(),G,"unsupported-persistence-type")}(oe._delegate,B),B){case Kn.SESSION:Le=F.a;break;case Kn.LOCAL:Le=(yield F.az(F.i)._isAvailable())?F.i:F.b;break;case Kn.NONE:Le=F.L;break;default:return F.as("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Gt(this._delegate,F.X(this._delegate))}signInWithCredential(B){return Gt(this._delegate,F.Y(this._delegate,B))}signInWithCustomToken(B){return Gt(this._delegate,F.$(this._delegate,B))}signInWithEmailAndPassword(B,oe){return Gt(this._delegate,F.a6(this._delegate,B,oe))}signInWithEmailLink(B,oe){return Gt(this._delegate,F.a9(this._delegate,B,oe))}signInWithPhoneNumber(B,oe){return ur(this._delegate,F.s(this._delegate,B,oe))}signInWithPopup(B){var oe=this;return(0,a.Z)(function*(){return it(Zn(),oe._delegate,"operation-not-supported-in-this-environment"),Gt(oe._delegate,F.c(oe._delegate,B,Ft))})()}signInWithRedirect(B){var oe=this;return(0,a.Z)(function*(){return it(Zn(),oe._delegate,"operation-not-supported-in-this-environment"),yield xn(oe._delegate),F.f(oe._delegate,B,Ft)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return F.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=Kn,G})();function rt(G,R,B){let oe=G;"function"!=typeof G&&({next:oe,error:R,complete:B}=G);const Le=oe;return{next:ct=>Le(ct&&On.getOrCreate(ct)),error:R,complete:B}}function xt(G,R){const B=function wn(G,R){const B=vt();if(!B)return[];const oe=F.aA(vi,G,R);switch(B.getItem(oe)){case Kn.NONE:return[F.L];case Kn.LOCAL:return[F.i,F.a];case Kn.SESSION:return[F.a];default:return[]}}(G,R);if(typeof self<"u"&&!B.includes(F.i)&&B.push(F.i),typeof window<"u")for(const oe of[F.b,F.a])B.includes(oe)||B.push(oe);return B.includes(F.L)||B.push(F.L),B}class It{constructor(){this.providerId="phone",this._delegate=new F.P(Qi(j.Z.auth()))}static credential(R,B){return F.P.credential(R,B)}verifyPhoneNumber(R,B){return this._delegate.verifyPhoneNumber(R,B)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=F.P.PROVIDER_ID;const rn=F.ax;class Y{constructor(R,B,oe=j.Z.app()){var Le;rn(null===(Le=oe.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new F.R(R,B,oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q(G){G.INTERNAL.registerComponent(new re.wA("auth-compat",R=>{const B=R.getProvider("app-compat").getImmediate(),oe=R.getProvider("auth");return new Te(B,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:Y,TwitterAuthProvider:F.W,Auth:Te,AuthCredential:F.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.2.24")}(j.Z)},9751:(ht,Me,L)=>{L.d(Me,{y:()=>ge});var a=L(930),j=L(727),F=L(8822),le=L(9635),de=L(2416),ye=L(576),re=L(2806);let ge=(()=>{class ee{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Ae=new ee;return Ae.source=this,Ae.operator=Pe,Ae}subscribe(Pe,Ae,ot){const Ce=function q(ee){return ee&&ee instanceof a.Lv||function W(ee){return ee&&(0,ye.m)(ee.next)&&(0,ye.m)(ee.error)&&(0,ye.m)(ee.complete)}(ee)&&(0,j.Nn)(ee)}(Pe)?Pe:new a.Hp(Pe,Ae,ot);return(0,re.x)(()=>{const{operator:_e,source:tt}=this;Ce.add(_e?_e.call(Ce,tt):tt?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Ae){Pe.error(Ae)}}forEach(Pe,Ae){return new(Ae=be(Ae))((ot,Ce)=>{const _e=new a.Hp({next:tt=>{try{Pe(tt)}catch(Je){Ce(Je),_e.unsubscribe()}},error:Ce,complete:ot});this.subscribe(_e)})}_subscribe(Pe){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Pe)}[F.L](){return this}pipe(...Pe){return(0,le.U)(Pe)(this)}toPromise(Pe){return new(Pe=be(Pe))((Ae,ot)=>{let Ce;this.subscribe(_e=>Ce=_e,_e=>ot(_e),()=>Ae(Ce))})}}return ee.create=je=>new ee(je),ee})();function be(ee){var je;return null!==(je=ee??de.v.Promise)&&void 0!==je?je:Promise}},7579:(ht,Me,L)=>{L.d(Me,{x:()=>re});var a=L(9751),j=L(727);const le=(0,L(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=L(8737),ye=L(2806);let re=(()=>{class be extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ee=new ge(this,this);return ee.operator=q,ee}_throwIfClosed(){if(this.closed)throw new le}next(q){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(q)}})}error(q){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ee}=this;for(;ee.length;)ee.shift().error(q)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ee,isStopped:je,observers:Pe}=this;return ee||je?j.Lc:(this.currentObservers=null,Pe.push(q),new j.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,q)}))}_checkFinalizedStatuses(q){const{hasError:ee,thrownError:je,isStopped:Pe}=this;ee?q.error(je):Pe&&q.complete()}asObservable(){const q=new a.y;return q.source=this,q}}return be.create=(W,q)=>new ge(W,q),be})();class ge extends re{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ee||ee.call(q,W)}error(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ee||ee.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,ee;return null!==(ee=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==ee?ee:j.Lc}}},930:(ht,Me,L)=>{L.d(Me,{Hp:()=>ot,Lv:()=>ee});var a=L(576),j=L(727),F=L(2416),le=L(7849),de=L(5032);const ye=be("C",void 0,void 0);function be(Ne,Oe,xe){return{kind:Ne,value:Oe,error:xe}}var W=L(3410),q=L(2806);class ee extends j.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,j.Nn)(Oe)&&Oe.add(this)):this.destination=Je}static create(Oe,xe,Ye){return new ot(Oe,xe,Ye)}next(Oe){this.isStopped?tt(function ge(Ne){return be("N",Ne,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?tt(function re(Ne){return be("E",void 0,Ne)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?tt(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Pe(Ne,Oe){return je.call(Ne,Oe)}class Ae{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Oe)}catch(Ye){Ce(Ye)}}error(Oe){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Oe)}catch(Ye){Ce(Ye)}else Ce(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(xe){Ce(xe)}}}class ot extends ee{constructor(Oe,xe,Ye){let ae;if(super(),(0,a.m)(Oe)||!Oe)ae={next:Oe??void 0,error:xe??void 0,complete:Ye??void 0};else{let he;this&&F.v.useDeprecatedNextContext?(he=Object.create(Oe),he.unsubscribe=()=>this.unsubscribe(),ae={next:Oe.next&&Pe(Oe.next,he),error:Oe.error&&Pe(Oe.error,he),complete:Oe.complete&&Pe(Oe.complete,he)}):ae=Oe}this.destination=new Ae(ae)}}function Ce(Ne){F.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Ne):(0,le.h)(Ne)}function tt(Ne,Oe){const{onStoppedNotification:xe}=F.v;xe&&W.z.setTimeout(()=>xe(Ne,Oe))}const Je={closed:!0,next:de.Z,error:function _e(Ne){throw Ne},complete:de.Z}},727:(ht,Me,L)=>{L.d(Me,{Lc:()=>ye,w0:()=>de,Nn:()=>re});var a=L(576);const F=(0,L(3888).d)(be=>function(q){be(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ee,je)=>`${je+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var le=L(8737);class de{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Pe of q)Pe.remove(this);else q.remove(this);const{initialTeardown:ee}=this;if((0,a.m)(ee))try{ee()}catch(Pe){W=Pe instanceof F?Pe.errors:[Pe]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Pe of je)try{ge(Pe)}catch(Ae){W=W??[],Ae instanceof F?W=[...W,...Ae.errors]:W.push(Ae)}}if(W)throw new F(W)}}add(W){var q;if(W&&W!==this)if(this.closed)ge(W);else{if(W instanceof de){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,le.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,le.P)(q,W),W instanceof de&&W._removeParent(this)}}de.EMPTY=(()=>{const be=new de;return be.closed=!0,be})();const ye=de.EMPTY;function re(be){return be instanceof de||be&&"closed"in be&&(0,a.m)(be.remove)&&(0,a.m)(be.add)&&(0,a.m)(be.unsubscribe)}function ge(be){(0,a.m)(be)?be():be.unsubscribe()}},2416:(ht,Me,L)=>{L.d(Me,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Me,L)=>{L.d(Me,{E:()=>j});const j=new(L(9751).y)(de=>de.complete())},8996:(ht,Me,L)=>{L.d(Me,{D:()=>Oe});var a=L(8421),j=L(5363),F=L(9468),ye=L(9751),ge=L(2202),be=L(576),W=L(9672);function ee(xe,Ye){if(!xe)throw new Error("Iterable cannot be null");return new ye.y(ae=>{(0,W.f)(ae,Ye,()=>{const he=xe[Symbol.asyncIterator]();(0,W.f)(ae,Ye,()=>{he.next().then(we=>{we.done?ae.complete():ae.next(we.value)})},0,!0)})})}var je=L(3670),Pe=L(8239),Ae=L(1144),ot=L(6495),Ce=L(2206),_e=L(4532),tt=L(3260);function Oe(xe,Ye){return Ye?function Ne(xe,Ye){if(null!=xe){if((0,je.c)(xe))return function le(xe,Ye){return(0,a.Xf)(xe).pipe((0,F.R)(Ye),(0,j.Q)(Ye))}(xe,Ye);if((0,Ae.z)(xe))return function re(xe,Ye){return new ye.y(ae=>{let he=0;return Ye.schedule(function(){he===xe.length?ae.complete():(ae.next(xe[he++]),ae.closed||this.schedule())})})}(xe,Ye);if((0,Pe.t)(xe))return function de(xe,Ye){return(0,a.Xf)(xe).pipe((0,F.R)(Ye),(0,j.Q)(Ye))}(xe,Ye);if((0,Ce.D)(xe))return ee(xe,Ye);if((0,ot.T)(xe))return function q(xe,Ye){return new ye.y(ae=>{let he;return(0,W.f)(ae,Ye,()=>{he=xe[ge.h](),(0,W.f)(ae,Ye,()=>{let we,X;try{({value:we,done:X}=he.next())}catch(ne){return void ae.error(ne)}X?ae.complete():ae.next(we)},0,!0)}),()=>(0,be.m)(he?.return)&&he.return()})}(xe,Ye);if((0,tt.L)(xe))return function Je(xe,Ye){return ee((0,tt.Q)(xe),Ye)}(xe,Ye)}throw(0,_e.z)(xe)}(xe,Ye):(0,a.Xf)(xe)}},8421:(ht,Me,L)=>{L.d(Me,{Xf:()=>je});var a=L(655),j=L(1144),F=L(8239),le=L(9751),de=L(3670),ye=L(2206),re=L(4532),ge=L(6495),be=L(3260),W=L(576),q=L(7849),ee=L(8822);function je(Ne){if(Ne instanceof le.y)return Ne;if(null!=Ne){if((0,de.c)(Ne))return function Pe(Ne){return new le.y(Oe=>{const xe=Ne[ee.L]();if((0,W.m)(xe.subscribe))return xe.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,j.z)(Ne))return function Ae(Ne){return new le.y(Oe=>{for(let xe=0;xe<Ne.length&&!Oe.closed;xe++)Oe.next(Ne[xe]);Oe.complete()})}(Ne);if((0,F.t)(Ne))return function ot(Ne){return new le.y(Oe=>{Ne.then(xe=>{Oe.closed||(Oe.next(xe),Oe.complete())},xe=>Oe.error(xe)).then(null,q.h)})}(Ne);if((0,ye.D)(Ne))return _e(Ne);if((0,ge.T)(Ne))return function Ce(Ne){return new le.y(Oe=>{for(const xe of Ne)if(Oe.next(xe),Oe.closed)return;Oe.complete()})}(Ne);if((0,be.L)(Ne))return function tt(Ne){return _e((0,be.Q)(Ne))}(Ne)}throw(0,re.z)(Ne)}function _e(Ne){return new le.y(Oe=>{(function Je(Ne,Oe){var xe,Ye,ae,he;return(0,a.mG)(this,void 0,void 0,function*(){try{for(xe=(0,a.KL)(Ne);!(Ye=yield xe.next()).done;)if(Oe.next(Ye.value),Oe.closed)return}catch(we){ae={error:we}}finally{try{Ye&&!Ye.done&&(he=xe.return)&&(yield he.call(xe))}finally{if(ae)throw ae.error}}Oe.complete()})})(Ne,Oe).catch(xe=>Oe.error(xe))})}},6451:(ht,Me,L)=>{L.d(Me,{T:()=>ye});var a=L(8189),j=L(8421),F=L(515),le=L(3269),de=L(8996);function ye(...re){const ge=(0,le.yG)(re),be=(0,le._6)(re,1/0),W=re;return W.length?1===W.length?(0,j.Xf)(W[0]):(0,a.J)(be)((0,de.D)(W,ge)):F.E}},5403:(ht,Me,L)=>{L.d(Me,{x:()=>j});var a=L(930);function j(le,de,ye,re,ge){return new F(le,de,ye,re,ge)}class F extends a.Lv{constructor(de,ye,re,ge,be,W){super(de),this.onFinalize=be,this.shouldUnsubscribe=W,this._next=ye?function(q){try{ye(q)}catch(ee){de.error(ee)}}:super._next,this._error=ge?function(q){try{ge(q)}catch(ee){de.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(q){de.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(ht,Me,L)=>{L.d(Me,{U:()=>F});var a=L(4482),j=L(5403);function F(le,de){return(0,a.e)((ye,re)=>{let ge=0;ye.subscribe((0,j.x)(re,be=>{re.next(le.call(de,be,ge++))}))})}},8189:(ht,Me,L)=>{L.d(Me,{J:()=>F});var a=L(5577),j=L(4671);function F(le=1/0){return(0,a.z)(j.y,le)}},5577:(ht,Me,L)=>{L.d(Me,{z:()=>ge});var a=L(4004),j=L(8421),F=L(4482),le=L(9672),de=L(5403),re=L(576);function ge(be,W,q=1/0){return(0,re.m)(W)?ge((ee,je)=>(0,a.U)((Pe,Ae)=>W(ee,Pe,je,Ae))((0,j.Xf)(be(ee,je))),q):("number"==typeof W&&(q=W),(0,F.e)((ee,je)=>function ye(be,W,q,ee,je,Pe,Ae,ot){const Ce=[];let _e=0,tt=0,Je=!1;const Ne=()=>{Je&&!Ce.length&&!_e&&W.complete()},Oe=Ye=>_e<ee?xe(Ye):Ce.push(Ye),xe=Ye=>{Pe&&W.next(Ye),_e++;let ae=!1;(0,j.Xf)(q(Ye,tt++)).subscribe((0,de.x)(W,he=>{je?.(he),Pe?Oe(he):W.next(he)},()=>{ae=!0},void 0,()=>{if(ae)try{for(_e--;Ce.length&&_e<ee;){const he=Ce.shift();Ae?(0,le.f)(W,Ae,()=>xe(he)):xe(he)}Ne()}catch(he){W.error(he)}}))};return be.subscribe((0,de.x)(W,Oe,()=>{Je=!0,Ne()})),()=>{ot?.()}}(ee,je,be,q)))}},5363:(ht,Me,L)=>{L.d(Me,{Q:()=>le});var a=L(9672),j=L(4482),F=L(5403);function le(de,ye=0){return(0,j.e)((re,ge)=>{re.subscribe((0,F.x)(ge,be=>(0,a.f)(ge,de,()=>ge.next(be),ye),()=>(0,a.f)(ge,de,()=>ge.complete(),ye),be=>(0,a.f)(ge,de,()=>ge.error(be),ye)))})}},3099:(ht,Me,L)=>{L.d(Me,{B:()=>de});var a=L(8421),j=L(7579),F=L(930),le=L(4482);function de(re={}){const{connector:ge=(()=>new j.x),resetOnError:be=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=re;return ee=>{let je,Pe,Ae,ot=0,Ce=!1,_e=!1;const tt=()=>{Pe?.unsubscribe(),Pe=void 0},Je=()=>{tt(),je=Ae=void 0,Ce=_e=!1},Ne=()=>{const Oe=je;Je(),Oe?.unsubscribe()};return(0,le.e)((Oe,xe)=>{ot++,!_e&&!Ce&&tt();const Ye=Ae=Ae??ge();xe.add(()=>{ot--,0===ot&&!_e&&!Ce&&(Pe=ye(Ne,q))}),Ye.subscribe(xe),!je&&ot>0&&(je=new F.Hp({next:ae=>Ye.next(ae),error:ae=>{_e=!0,tt(),Pe=ye(Je,be,ae),Ye.error(ae)},complete:()=>{Ce=!0,tt(),Pe=ye(Je,W),Ye.complete()}}),(0,a.Xf)(Oe).subscribe(je))})(ee)}}function ye(re,ge,...be){if(!0===ge)return void re();if(!1===ge)return;const W=new F.Hp({next:()=>{W.unsubscribe(),re()}});return ge(...be).subscribe(W)}},9468:(ht,Me,L)=>{L.d(Me,{R:()=>j});var a=L(4482);function j(F,le=0){return(0,a.e)((de,ye)=>{ye.add(F.schedule(()=>de.subscribe(ye),le))})}},8505:(ht,Me,L)=>{L.d(Me,{b:()=>de});var a=L(576),j=L(4482),F=L(5403),le=L(4671);function de(ye,re,ge){const be=(0,a.m)(ye)||re||ge?{next:ye,error:re,complete:ge}:ye;return be?(0,j.e)((W,q)=>{var ee;null===(ee=be.subscribe)||void 0===ee||ee.call(be);let je=!0;W.subscribe((0,F.x)(q,Pe=>{var Ae;null===(Ae=be.next)||void 0===Ae||Ae.call(be,Pe),q.next(Pe)},()=>{var Pe;je=!1,null===(Pe=be.complete)||void 0===Pe||Pe.call(be),q.complete()},Pe=>{var Ae;je=!1,null===(Ae=be.error)||void 0===Ae||Ae.call(be,Pe),q.error(Pe)},()=>{var Pe,Ae;je&&(null===(Pe=be.unsubscribe)||void 0===Pe||Pe.call(be)),null===(Ae=be.finalize)||void 0===Ae||Ae.call(be)}))}):le.y}},4408:(ht,Me,L)=>{L.d(Me,{o:()=>de});var a=L(727);class j extends a.w0{constructor(re,ge){super()}schedule(re,ge=0){return this}}const F={setInterval(ye,re,...ge){const{delegate:be}=F;return be?.setInterval?be.setInterval(ye,re,...ge):setInterval(ye,re,...ge)},clearInterval(ye){const{delegate:re}=F;return(re?.clearInterval||clearInterval)(ye)},delegate:void 0};var le=L(8737);class de extends j{constructor(re,ge){super(re,ge),this.scheduler=re,this.work=ge,this.pending=!1}schedule(re,ge=0){var be;if(this.closed)return this;this.state=re;const W=this.id,q=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(q,W,ge)),this.pending=!0,this.delay=ge,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(q,this.id,ge),this}requestAsyncId(re,ge,be=0){return F.setInterval(re.flush.bind(re,this),be)}recycleAsyncId(re,ge,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return ge;null!=ge&&F.clearInterval(ge)}execute(re,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(re,ge);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ge){let W,be=!1;try{this.work(re)}catch(q){be=!0,W=q||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:re,scheduler:ge}=this,{actions:be}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(be,this),null!=re&&(this.id=this.recycleAsyncId(ge,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Me,L)=>{L.d(Me,{v:()=>F});var a=L(6063);class j{constructor(de,ye=j.now){this.schedulerActionCtor=de,this.now=ye}schedule(de,ye=0,re){return new this.schedulerActionCtor(this,de).schedule(re,ye)}}j.now=a.l.now;class F extends j{constructor(de,ye=j.now){super(de,ye),this.actions=[],this._active=!1}flush(de){const{actions:ye}=this;if(this._active)return void ye.push(de);let re;this._active=!0;do{if(re=de.execute(de.state,de.delay))break}while(de=ye.shift());if(this._active=!1,re){for(;de=ye.shift();)de.unsubscribe();throw re}}}},4986:(ht,Me,L)=>{L.d(Me,{P:()=>le,z:()=>F});var a=L(4408);const F=new(L(7565).v)(a.o),le=F},6063:(ht,Me,L)=>{L.d(Me,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(ht,Me,L)=>{L.d(Me,{z:()=>a});const a={setTimeout(j,F,...le){const{delegate:de}=a;return de?.setTimeout?de.setTimeout(j,F,...le):setTimeout(j,F,...le)},clearTimeout(j){const{delegate:F}=a;return(F?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(ht,Me,L)=>{L.d(Me,{h:()=>j});const j=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Me,L)=>{L.d(Me,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Me,L)=>{L.d(Me,{_6:()=>ye,jO:()=>le,yG:()=>de});var a=L(576),j=L(3532);function F(re){return re[re.length-1]}function le(re){return(0,a.m)(F(re))?re.pop():void 0}function de(re){return(0,j.K)(F(re))?re.pop():void 0}function ye(re,ge){return"number"==typeof F(re)?re.pop():ge}},8737:(ht,Me,L)=>{function a(j,F){if(j){const le=j.indexOf(F);0<=le&&j.splice(le,1)}}L.d(Me,{P:()=>a})},3888:(ht,Me,L)=>{function a(j){const le=j(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}L.d(Me,{d:()=>a})},2806:(ht,Me,L)=>{L.d(Me,{O:()=>le,x:()=>F});var a=L(2416);let j=null;function F(de){if(a.v.useDeprecatedSynchronousErrorHandling){const ye=!j;if(ye&&(j={errorThrown:!1,error:null}),de(),ye){const{errorThrown:re,error:ge}=j;if(j=null,re)throw ge}}else de()}function le(de){a.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=de)}},9672:(ht,Me,L)=>{function a(j,F,le,de=0,ye=!1){const re=F.schedule(function(){le(),ye?j.add(this.schedule(null,de)):this.unsubscribe()},de);if(j.add(re),!ye)return re}L.d(Me,{f:()=>a})},4671:(ht,Me,L)=>{function a(j){return j}L.d(Me,{y:()=>a})},1144:(ht,Me,L)=>{L.d(Me,{z:()=>a});const a=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(ht,Me,L)=>{L.d(Me,{D:()=>j});var a=L(576);function j(F){return Symbol.asyncIterator&&(0,a.m)(F?.[Symbol.asyncIterator])}},576:(ht,Me,L)=>{function a(j){return"function"==typeof j}L.d(Me,{m:()=>a})},3670:(ht,Me,L)=>{L.d(Me,{c:()=>F});var a=L(8822),j=L(576);function F(le){return(0,j.m)(le[a.L])}},6495:(ht,Me,L)=>{L.d(Me,{T:()=>F});var a=L(2202),j=L(576);function F(le){return(0,j.m)(le?.[a.h])}},8239:(ht,Me,L)=>{L.d(Me,{t:()=>j});var a=L(576);function j(F){return(0,a.m)(F?.then)}},3260:(ht,Me,L)=>{L.d(Me,{L:()=>le,Q:()=>F});var a=L(655),j=L(576);function F(de){return(0,a.FC)(this,arguments,function*(){const re=de.getReader();try{for(;;){const{value:ge,done:be}=yield(0,a.qq)(re.read());if(be)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ge)}}finally{re.releaseLock()}})}function le(de){return(0,j.m)(de?.getReader)}},3532:(ht,Me,L)=>{L.d(Me,{K:()=>j});var a=L(576);function j(F){return F&&(0,a.m)(F.schedule)}},4482:(ht,Me,L)=>{L.d(Me,{A:()=>j,e:()=>F});var a=L(576);function j(le){return(0,a.m)(le?.lift)}function F(le){return de=>{if(j(de))return de.lift(function(ye){try{return le(ye,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Me,L)=>{function a(){}L.d(Me,{Z:()=>a})},9635:(ht,Me,L)=>{L.d(Me,{U:()=>F,z:()=>j});var a=L(4671);function j(...le){return F(le)}function F(le){return 0===le.length?a.y:1===le.length?le[0]:function(ye){return le.reduce((re,ge)=>ge(re),ye)}}},7849:(ht,Me,L)=>{L.d(Me,{h:()=>F});var a=L(2416),j=L(3410);function F(le){j.z.setTimeout(()=>{const{onUnhandledError:de}=a.v;if(!de)throw le;de(le)})}},4532:(ht,Me,L)=>{function a(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Me,{z:()=>a})},655:(ht,Me,L)=>{function le(X,ne){var me={};for(var ce in X)Object.prototype.hasOwnProperty.call(X,ce)&&ne.indexOf(ce)<0&&(me[ce]=X[ce]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(ce=Object.getOwnPropertySymbols(X);He<ce.length;He++)ne.indexOf(ce[He])<0&&Object.prototype.propertyIsEnumerable.call(X,ce[He])&&(me[ce[He]]=X[ce[He]])}return me}function ge(X,ne,me,ce){return new(me||(me=Promise))(function(Ge,yt){function ln(mn){try{We(ce.next(mn))}catch(En){yt(En)}}function qt(mn){try{We(ce.throw(mn))}catch(En){yt(En)}}function We(mn){mn.done?Ge(mn.value):function He(Ge){return Ge instanceof me?Ge:new me(function(yt){yt(Ge)})}(mn.value).then(ln,qt)}We((ce=ce.apply(X,ne||[])).next())})}function Ce(X){return this instanceof Ce?(this.v=X,this):new Ce(X)}function _e(X,ne,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,ce=me.apply(X,ne||[]),Ge=[];return He={},yt("next"),yt("throw"),yt("return"),He[Symbol.asyncIterator]=function(){return this},He;function yt(on){ce[on]&&(He[on]=function(an){return new Promise(function(Qt,$t){Ge.push([on,an,Qt,$t])>1||ln(on,an)})})}function ln(on,an){try{!function qt(on){on.value instanceof Ce?Promise.resolve(on.value.v).then(We,mn):En(Ge[0][2],on)}(ce[on](an))}catch(Qt){En(Ge[0][3],Qt)}}function We(on){ln("next",on)}function mn(on){ln("throw",on)}function En(on,an){on(an),Ge.shift(),Ge.length&&ln(Ge[0][0],Ge[0][1])}}function Je(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ne=X[Symbol.asyncIterator];return ne?ne.call(X):(X=function ee(X){var ne="function"==typeof Symbol&&Symbol.iterator,me=ne&&X[ne],ce=0;if(me)return me.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ce>=X.length&&(X=void 0),{value:X&&X[ce++],done:!X}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),me={},ce("next"),ce("throw"),ce("return"),me[Symbol.asyncIterator]=function(){return this},me);function ce(Ge){me[Ge]=X[Ge]&&function(yt){return new Promise(function(ln,qt){!function He(Ge,yt,ln,qt){Promise.resolve(qt).then(function(We){Ge({value:We,done:ln})},yt)}(ln,qt,(yt=X[Ge](yt)).done,yt.value)})}}}L.d(Me,{FC:()=>_e,KL:()=>Je,_T:()=>le,mG:()=>ge,qq:()=>Ce})},4650:(ht,Me,L)=>{L.d(Me,{$8M:()=>Sl,$Z:()=>Cf,AFp:()=>QS,ALo:()=>Jd,AaK:()=>ge,BQk:()=>sl,CHM:()=>Nh,CRH:()=>PS,CZH:()=>uv,CqO:()=>sI,D6c:()=>M0,EJc:()=>c0,EiD:()=>gd,EpF:()=>iI,F$t:()=>uI,F4k:()=>rI,FYo:()=>zx,FiY:()=>qe,G48:()=>yT,Gf:()=>LD,GfV:()=>cg,GkF:()=>UC,Gpc:()=>q,Hsn:()=>dI,Ikx:()=>Fy,JOm:()=>oa,JVY:()=>Jp,KtG:()=>Fo,L6k:()=>eg,LAX:()=>C_,LFG:()=>Yt,LSH:()=>tg,Lbi:()=>XS,Lck:()=>u1,MAs:()=>iu,MMx:()=>DD,NdJ:()=>GC,O4$:()=>xc,OlP:()=>Tn,Oqu:()=>WC,PXZ:()=>pT,Q6J:()=>ec,QGY:()=>HC,QP$:()=>Le,QbO:()=>eT,Qsj:()=>RO,R0b:()=>or,RDi:()=>b_,Rgc:()=>hm,SBq:()=>hf,Sil:()=>hu,Suo:()=>qf,TTD:()=>ks,TgZ:()=>zd,Udp:()=>zC,VKq:()=>CS,WFA:()=>jC,X6Q:()=>_T,XFs:()=>et,Xpm:()=>Te,Xts:()=>I_,Y36:()=>zl,YKP:()=>Cs,YNc:()=>nI,Yjl:()=>G,Yz7:()=>an,Z0I:()=>$r,ZZ4:()=>Jf,_Bn:()=>wD,_UZ:()=>Yd,_Vd:()=>Hl,_c5:()=>xv,_uU:()=>FI,aQg:()=>Im,c2e:()=>ul,cJS:()=>$t,cg1:()=>em,d8E:()=>Wd,dDg:()=>dT,dqk:()=>Ft,eBb:()=>w_,eFA:()=>De,ekj:()=>qC,eoX:()=>f0,f3M:()=>x,g9A:()=>l0,h0i:()=>Qd,hGG:()=>T0,hij:()=>My,iGM:()=>ND,ifc:()=>bt,ip1:()=>KS,jDz:()=>yS,kL8:()=>Py,kcU:()=>Zu,lG2:()=>Q,lqb:()=>qc,lri:()=>pv,mCW:()=>_,n5z:()=>Ns,oAB:()=>rn,oxw:()=>cI,pB0:()=>D_,q3G:()=>Wn,q4F:()=>lw,qLn:()=>ff,qOj:()=>Yg,qZA:()=>qd,qzn:()=>mo,rWj:()=>uT,sBO:()=>rc,sIi:()=>Vd,s_b:()=>fm,soG:()=>fa,tb:()=>dv,tp0:()=>Ct,uIk:()=>nu,vHH:()=>Ae,vpe:()=>da,wAp:()=>Tt,xi3:()=>SD,xp6:()=>Uw,ynx:()=>su,z2F:()=>gu,z3N:()=>go,zSh:()=>og,zs3:()=>Kc});var a=L(7579),j=L(727),F=L(9751),le=L(6451),de=L(3099);function ye(o){for(let l in o)if(o[l]===ye)return l;throw Error("Could not find renamed property on target object.")}function re(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function ge(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ge).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function be(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const W=ye({__forward_ref__:ye});function q(o){return o.__forward_ref__=q,o.toString=function(){return ge(this())},o}function ee(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty(W)&&o.__forward_ref__===q}class Ae extends Error{constructor(l,c){super(function ot(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function Ce(o){return"string"==typeof o?o:null==o?"":String(o)}function Oe(o,l){throw new Ae(-201,!1)}function qt(o,l){null==o&&function We(o,l,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,o,null,"!=")}function an(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function $t(o){return{providers:o.providers||[],imports:o.imports||[]}}function Fi(o){return Hi(o,Gi)||Hi(o,Tr)}function $r(o){return null!==Fi(o)}function Hi(o,l){return o.hasOwnProperty(l)?o[l]:null}function os(o){return o&&(o.hasOwnProperty(Zn)||o.hasOwnProperty(as))?o[Zn]:null}const Gi=ye({\u0275prov:ye}),Zn=ye({\u0275inj:ye}),Tr=ye({ngInjectableDef:ye}),as=ye({ngInjectorDef:ye});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let ni;function Dn(o){const l=ni;return ni=o,l}function vi(o,l,c){const d=Fi(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&et.Optional?null:void 0!==l?l:void Oe(ge(o))}function xn(o){return{toString:o}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),bt=(()=>{return(o=bt||(bt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",bt;var o})();const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pi={},Mt=[],ji=ye({\u0275cmp:ye}),Gt=ye({\u0275dir:ye}),ur=ye({\u0275pipe:ye}),en=ye({\u0275mod:ye}),hi=ye({\u0275fac:ye}),On=ye({__NG_ELEMENT_ID__:ye});let it=0;function Te(o){return xn(()=>{const c=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Mt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||bt.Emulated,id:"c"+it++,styles:o.styles||Mt,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.dependencies,y=o.features;return f.inputs=$(o.inputs,d),f.outputs=$(o.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(xt).filter(It):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(oe).filter(It):null,f})}function xt(o){return R(o)||B(o)}function It(o){return null!==o}function rn(o){return xn(()=>({type:o.type,bootstrap:o.bootstrap||Mt,declarations:o.declarations||Mt,imports:o.imports||Mt,exports:o.exports||Mt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function $(o,l){if(null==o)return Pi;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,l&&(l[f]=p)}return c}const Q=Te;function G(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function R(o){return o[ji]||null}function B(o){return o[Gt]||null}function oe(o){return o[ur]||null}function Le(o){const l=R(o)||B(o)||oe(o);return null!==l&&l.standalone}function at(o,l){const c=o[en]||null;if(!c&&!0===l)throw new Error(`Type ${ge(o)} does not have '\u0275mod' property.`);return c}function ri(o){return Array.isArray(o)&&"object"==typeof o[1]}function hr(o){return Array.isArray(o)&&!0===o[1]}function Ms(o){return 0!=(8&o.flags)}function Da(o){return 2==(2&o.flags)}function Ea(o){return 1==(1&o.flags)}function Ji(o){return null!==o.template}function mc(o){return 0!=(256&o[2])}function Ai(o,l){return o.hasOwnProperty(hi)?o[hi]:null}class Mo{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ks(){return Uu}function Uu(o){return o.type.prototype.ngOnChanges&&(o.setInput=yc),_l}function _l(){const o=ko(this),l=o?.current;if(l){const c=o.previous;if(c===Pi)o.previous=l;else for(let d in l)c[d]=l[d];o.current=null,this.ngOnChanges(l)}}function yc(o,l,c,d){const f=ko(o)||function Sa(o,l){return o[Hu]=l}(o,{previous:Pi,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],D=y[w];p[w]=new Mo(D&&D.currentValue,l,y===Pi),o[d]=l}ks.ngInherit=!0;const Hu="__ngSimpleChanges__";function ko(o){return o[Hu]||null}function Bn(o){for(;Array.isArray(o);)o=o[0];return o}function Mr(o,l){return Bn(l[o])}function Ii(o,l){return Bn(l[o.index])}function Ro(o,l){return o.data[l]}function zr(o,l){return o[l]}function un(o,l){const c=l[o];return ri(c)?c:c[0]}function Rs(o){return 64==(64&o[2])}function mr(o,l){return null==l?null:o[l]}function Ta(o){o[18]=0}function zn(o,l){o[5]+=l;let c=o,d=o[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Nt={lFrame:Ba(null),bindingsEnabled:!0};function ro(){return Nt.bindingsEnabled}function Re(){return Nt.lFrame.lView}function Xt(){return Nt.lFrame.tView}function Nh(o){return Nt.lFrame.contextLView=o,o[8]}function Fo(o){return Nt.lFrame.contextLView=null,o}function si(){let o=Po();for(;null!==o&&64===o.type;)o=o.parent;return o}function Po(){return Nt.lFrame.currentTNode}function $i(o,l){const c=Nt.lFrame;c.currentTNode=o,c.isParent=l}function bl(){return Nt.lFrame.isParent}function No(){Nt.lFrame.isParent=!1}function oi(){const o=Nt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Na(){return Nt.lFrame.bindingIndex++}function zu(o,l){const c=Nt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Lo(l)}function Lo(o){Nt.lFrame.currentDirectiveIndex=o}function Dc(o){const l=Nt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function La(){return Nt.lFrame.currentQueryIndex}function Ec(o){Nt.lFrame.currentQueryIndex=o}function Va(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function qu(o,l,c){if(c&et.SkipSelf){let f=l,p=o;for(;!(f=f.parent,null!==f||c&et.Host||(f=Va(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;l=f,o=p}const d=Nt.lFrame=Bh();return d.currentTNode=l,d.lView=o,!0}function Vo(o){const l=Bh(),c=o[1];Nt.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Bh(){const o=Nt.lFrame,l=null===o?null:o.child;return null===l?Ba(o):l}function Ba(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Uh(){const o=Nt.lFrame;return Nt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Yu=Uh;function Os(){const o=Uh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pn(){return Nt.lFrame.selectedIndex}function gs(o){Nt.lFrame.selectedIndex=o}function Nn(){const o=Nt.lFrame;return Ro(o.tView,o.selectedIndex)}function xc(){Nt.lFrame.currentNamespace="svg"}function Zu(){!function Ic(){Nt.lFrame.currentNamespace=null}()}function wl(o,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:O}=p;y&&(o.contentHooks||(o.contentHooks=[])).push(-c,y),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),D&&(o.viewHooks||(o.viewHooks=[])).push(-c,D),T&&((o.viewHooks||(o.viewHooks=[])).push(c,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,T)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(c,O)}}function Bo(o,l,c){Ho(o,l,3,c)}function Uo(o,l,c,d){(3&o[2])===c&&Ho(o,l,c,d)}function Ku(o,l){let c=o[2];(3&c)===l&&(c&=2047,c+=1,o[2]=c)}function Ho(o,l,c,d){const p=d??-1,y=l.length-1;let w=0;for(let D=void 0!==d?65535&o[18]:0;D<y;D++)if("number"==typeof l[D+1]){if(w=l[D],null!=d&&w>=d)break}else l[D]<0&&(o[18]+=65536),(w<p||-1==p)&&(Qu(o,c,l,D),o[18]=(4294901760&o[18])+D+2),D++}function Qu(o,l,c,d){const f=c[d]<0,p=c[d+1],w=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class _r{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ms(o,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const p=c[d++],y=c[d++],w=c[d++];o.setAttribute(l,y,w,p)}else{const p=f,y=c[++d];kc(p)?o.setProperty(l,p,y):o.setAttribute(l,p,y),d++}}return d}function Ha(o){return 3===o||4===o||6===o}function kc(o){return 64===o.charCodeAt(0)}function Ga(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Ju(o,c,f,null,-1===c||2===c?l[++d]:null)}}return o}function Ju(o,l,c,d,f){let p=0,y=o.length;if(-1===l)y=-1;else for(;p<o.length;){const w=o[p++];if("number"==typeof w){if(w===l){y=-1;break}if(w>l){y=p-1;break}}}for(;p<o.length;){const w=o[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(o[p+1]=f));if(d===o[p+1])return void(o[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(o.splice(y,0,l),p=y+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==f&&o.splice(p++,0,f)}function Gh(o){return-1!==o}function ai(o){return 32767&o}function Ps(o,l){let c=function jh(o){return o>>16}(o),d=l;for(;c>0;)d=d[15],c--;return d}let Rc=!0;function ja(o){const l=Rc;return Rc=o,l}let ed=0;const tr={};function _s(o,l){const c=xl(o,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(o.injectorIndex=l.length,Oc(d.data,o),Oc(l,null),Oc(d.blueprint,null));const f=$a(o,l),p=o.injectorIndex;if(Gh(f)){const y=ai(f),w=Ps(f,l),D=w[1].data;for(let T=0;T<8;T++)l[p+T]=w[y+T]|D[y+T]}return l[p+8]=f,p}function Oc(o,l){o.push(0,0,0,0,0,0,0,0,l)}function xl(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function $a(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=Wo(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function oo(o,l,c){!function td(o,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(On)&&(d=c[On]),null==d&&(d=c[On]=ed++);const f=255&d;l.data[o+(f>>5)]|=1<<f}(o,l,c)}function jo(o,l,c){if(c&et.Optional||void 0!==o)return o;Oe()}function ao(o,l,c,d){if(c&et.Optional&&void 0===d&&(d=null),0==(c&(et.Self|et.Host))){const f=o[9],p=Dn(void 0);try{return f?f.get(l,d,c&et.Optional):vi(l,d,c&et.Optional)}finally{Dn(p)}}return jo(d,0,c)}function $o(o,l,c,d=et.Default,f){if(null!==o){if(1024&l[2]){const y=function qh(o,l,c,d,f){let p=o,y=l;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=nd(p,y,c,d|et.Self,tr);if(w!==tr)return w;let D=p.parent;if(!D){const T=y[21];if(T){const O=T.get(c,tr,d);if(O!==tr)return O}D=Wo(y),y=y[15]}p=D}return f}(o,l,c,d,tr);if(y!==tr)return y}const p=nd(o,l,c,d,tr);if(p!==tr)return p}return ao(l,c,d,f)}function nd(o,l,c,d,f){const p=function zh(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(On)?o[On]:void 0;return"number"==typeof l?l>=0?255&l:Fc:l}(c);if("function"==typeof p){if(!qu(l,o,d))return d&et.Host?jo(f,0,d):ao(l,c,d,f);try{const y=p(d);if(null!=y||d&et.Optional)return y;Oe()}finally{Yu()}}else if("number"==typeof p){let y=null,w=xl(o,l),D=-1,T=d&et.Host?l[16][6]:null;for((-1===w||d&et.SkipSelf)&&(D=-1===w?$a(o,l):l[w+8],-1!==D&&Il(d,!1)?(y=l[1],w=ai(D),l=Ps(D,l)):w=-1);-1!==w;){const O=l[1];if(zo(p,w,O.data)){const V=Al(w,l,c,y,d,T);if(V!==tr)return V}D=l[w+8],-1!==D&&Il(d,l[1].data[w+8]===T)&&zo(p,w,l)?(y=O,w=ai(D),l=Ps(D,l)):w=-1}}return f}function Al(o,l,c,d,f,p){const y=l[1],w=y.data[o+8],O=qa(w,y,c,null==d?Da(w)&&Rc:d!=y&&0!=(3&w.type),f&et.Host&&p===w);return null!==O?Yr(l,y,O,w):tr}function qa(o,l,c,d,f){const p=o.providerIndexes,y=l.data,w=1048575&p,D=o.directiveStart,O=p>>20,K=f?w+O:o.directiveEnd;for(let se=d?w:w+O;se<K;se++){const Ee=y[se];if(se<D&&c===Ee||se>=D&&Ee.type===c)return se}if(f){const se=y[D];if(se&&Ji(se)&&se.type===c)return D}return null}function Yr(o,l,c,d){let f=o[c];const p=l.data;if(function Mc(o){return o instanceof _r}(f)){const y=f;y.resolving&&function tt(o,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${o}${c}`)}(function _e(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ce(o)}(p[c]));const w=ja(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Dn(y.injectImpl):null;qu(o,d,et.Default);try{f=o[c]=y.factory(void 0,p,o,d),l.firstCreatePass&&c>=d.directiveStart&&function Tc(o,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=l.type.prototype;if(d){const y=Uu(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],l)}finally{null!==D&&Dn(D),ja(w),y.resolving=!1,Yu()}}return f}function zo(o,l,c){return!!(c[l+(o>>5)]&1<<o)}function Il(o,l){return!(o&et.Self||o&et.Host&&l)}class qo{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return $o(this._tNode,this._lView,l,d,c)}}function Fc(){return new qo(si(),Re())}function Ns(o){return xn(()=>{const l=o.prototype.constructor,c=l[hi]||Yo(l),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const p=f[hi]||Yo(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Yo(o){return je(o)?()=>{const l=Yo(ee(o));return l&&l()}:Ai(o)}function Wo(o){const l=o[1],c=l.type;return 2===c?l.declTNode:1===c?o[6]:null}function Sl(o){return function za(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(Ha(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===l)return c[f+1];f+=2}}}return null}(si(),o)}const Zo="__parameters__";function Qo(o,l,c){return xn(()=>{const d=function Pc(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(D,T,O){const V=D.hasOwnProperty(Zo)?D[Zo]:Object.defineProperty(D,Zo,{value:[]})[Zo];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(y),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Tn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=an({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ft(o,l){void 0===l&&(l=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(l===o&&(l=o.slice(0,c)),ft(d,l)):l!==o&&l.push(d)}return l}function Un(o,l){o.forEach(c=>Array.isArray(c)?Un(c,l):l(c))}function Tl(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function Zr(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function Hn(o,l){const c=[];for(let d=0;d<o;d++)c.push(l);return c}function wi(o,l,c){let d=Kr(o,l);return d>=0?o[1|d]=c:(d=~d,function Zh(o,l,c,d){let f=o.length;if(f==l)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=c,o[l+1]=d}}(o,d,l,c)),d}function dt(o,l){const c=Kr(o,l);if(c>=0)return o[1|c]}function Kr(o,l){return function Jo(o,l,c){let d=0,f=o.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=o[p<<c];if(l===y)return p<<c;y>l?f=p:d=p+1}return~(f<<c)}(o,l,1)}const yr={},co="__NG_DI_FLAG__",ea="ngTempTokenPath",Bs=/\n/gm,Ci="__source";let Ln;function Qr(o){const l=Ln;return Ln=o,l}function Uc(o,l=et.Default){if(void 0===Ln)throw new Ae(-203,!1);return null===Ln?vi(o,void 0,l):Ln.get(o,l&et.Optional?null:void 0,l)}function Yt(o,l=et.Default){return(function Kn(){return ni}()||Uc)(ee(o),l)}function x(o,l=et.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Yt(o,l)}function I(o){const l=[];for(let c=0;c<o.length;c++){const d=ee(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Ae(900,!1);let f,p=et.Default;for(let y=0;y<d.length;y++){const w=d[y],D=U(w);"number"==typeof D?-1===D?f=w.token:p|=D:f=w}l.push(Yt(f,p))}else l.push(Yt(d))}return l}function M(o,l){return o[co]=l,o.prototype[co]=l,o}function U(o){return o[co]}const qe=M(Qo("Optional"),8),Ct=M(Qo("SkipSelf"),4);let ld,cd;function b_(o){ld=o}function Wa(o){return function ud(){if(void 0===cd&&(cd=null,Ft.trustedTypes))try{cd=Ft.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return cd}()?.createHTML(o)||o}class po{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Xh extends po{getTypeName(){return"HTML"}}class hd extends po{getTypeName(){return"Style"}}class Pl extends po{getTypeName(){return"Script"}}class Xp extends po{getTypeName(){return"URL"}}class Nl extends po{getTypeName(){return"ResourceURL"}}function go(o){return o instanceof po?o.changingThisBreaksApplicationSecurity:o}function mo(o,l){const c=function jc(o){return o instanceof po&&o.getTypeName()||null}(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function Jp(o){return new Xh(o)}function eg(o){return new hd(o)}function w_(o){return new Pl(o)}function C_(o){return new Xp(o)}function D_(o){return new Nl(o)}class E_{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Wa(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class Xb{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Wa(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Wa(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&l.removeAttribute(y)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _(o){return(o=String(o)).match(g)?o:"unsafe:"+o}function C(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function k(...o){const l={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const P=C("area,br,col,hr,img,wbr"),ie=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Se=C("rp,rt"),Fn=k(P,k(ie,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),k(Se,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),k(Se,ie)),qi=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fd=k(qi,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pd=C("script,style,template");class Jh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Fn.hasOwnProperty(c))return this.sanitizedSomething=!0,!pd.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,w=y.toLowerCase();if(!fd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=p.value;qi[w]&&(D=_(D)),this.buf.push(" ",y,'="',tf(D),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Fn.hasOwnProperty(c)&&!P.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(tf(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Ka=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ef=/([^\#-~ |!])/g;function tf(o){return o.replace(/&/g,"&amp;").replace(Ka,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ef,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vl;function gd(o,l){let c=null;try{Vl=Vl||function Ll(o){const l=new Xb(o);return function b(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new E_(l):l}(o);let d=l?String(l):"";c=Vl.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=c.innerHTML,c=Vl.getInertBodyElement(d)}while(d!==p);return Wa((new Jh).sanitizeChildren(Bl(c)||c))}finally{if(c){const d=Bl(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Bl(o){return"content"in o&&function $c(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function tg(o){const l=function rf(){const o=Re();return o&&o[12]}();return l?l.sanitize(Wn.URL,o)||"":mo(o,"URL")?go(o):_(Ce(o))}const I_=new Tn("ENVIRONMENT_INITIALIZER"),ew=new Tn("INJECTOR",-1),tw=new Tn("INJECTOR_DEF_TYPES");class nw{get(l,c=yr){if(c===yr){const d=new Error(`NullInjectorError: No provider for ${ge(l)}!`);throw d.name="NullInjectorError",d}return c}}function Lx(...o){return{\u0275providers:iw(0,o)}}function iw(o,...l){const c=[],d=new Set;let f;return Un(l,p=>{const y=p;S_(y,c,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&rw(f,c),c}function rw(o,l){for(let c=0;c<o.length;c++){const{providers:f}=o[c];Un(f,p=>{l.push(p)})}}function S_(o,l,c,d){if(!(o=ee(o)))return!1;let f=null,p=os(o);const y=!p&&R(o);if(p||y){if(y&&!y.standalone)return!1;f=o}else{const D=o.ngModule;if(p=os(D),!p)return!1;f=D}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of D)S_(T,l,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let T;d.add(f);try{Un(p.imports,O=>{S_(O,l,c,d)&&(T||(T=[]),T.push(O))})}finally{}void 0!==T&&rw(T,l)}if(!w){const T=Ai(f)||(()=>new f);l.push({provide:f,useFactory:T,deps:Mt},{provide:tw,useValue:f,multi:!0},{provide:I_,useValue:()=>Yt(f),multi:!0})}const D=p.providers;null==D||w||Un(D,O=>{l.push(O)})}}return f!==o&&void 0!==o.providers}const Bx=ye({provide:String,useValue:ye});function ig(o){return null!==o&&"object"==typeof o&&Bx in o}function Or(o){return"function"==typeof o}const og=new Tn("Set Injector scope."),sf={},Ux={};let Xa;function af(){return void 0===Xa&&(Xa=new nw),Xa}class qc{}class lf extends qc{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uf(l,y=>this.processProvider(y)),this.records.set(ew,Ul(void 0,this)),f.has("environment")&&this.records.set(qc,Ul(void 0,this));const p=this.records.get(og);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(tw.multi,Mt,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=Qr(this),d=Dn(void 0);try{return l()}finally{Qr(c),Dn(d)}}get(l,c=yr,d=et.Default){this.assertNotDestroyed();const f=Qr(this),p=Dn(void 0);try{if(!(d&et.SkipSelf)){let w=this.records.get(l);if(void 0===w){const D=function Gx(o){return"function"==typeof o||"object"==typeof o&&o instanceof Tn}(l)&&Fi(l);w=D&&this.injectableDefInScope(D)?Ul(ag(l),sf):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&et.Self?af():this.parent).get(l,c=d&et.Optional&&c===yr?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[ea]=y[ea]||[]).unshift(ge(l)),f)throw y;return function J(o,l,c,d){const f=o[ea];throw l[Ci]&&f.unshift(l[Ci]),o.message=function ue(o,l,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ge(l);if(Array.isArray(l))f=l.map(ge).join(" -> ");else if("object"==typeof l){let p=[];for(let y in l)if(l.hasOwnProperty(y)){let w=l[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ge(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(Bs,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[ea]=null,o}(y,l,"R3InjectorError",this.source)}throw y}finally{Dn(p),Qr(f)}}resolveInjectorInitializers(){const l=Qr(this),c=Dn(void 0);try{const d=this.get(I_.multi,Mt,et.Self);for(const f of d)f()}finally{Qr(l),Dn(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(ge(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(l){let c=Or(l=ee(l))?l:ee(l&&l.provide);const d=function sw(o){return ig(o)?Ul(void 0,o.useValue):Ul(lg(o),sf)}(l);if(Or(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Ul(void 0,sf,!0),f.factory=()=>I(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===sf&&(c.value=Ux,c.value=c.factory()),"object"==typeof c.value&&c.value&&function cf(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ee(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function ag(o){const l=Fi(o),c=null!==l?l.factory:Ai(o);if(null!==c)return c;if(o instanceof Tn)throw new Ae(204,!1);if(o instanceof Function)return function T_(o){const l=o.length;if(l>0)throw Hn(l,"?"),new Ae(204,!1);const c=function Vn(o){const l=o&&(o[Gi]||o[Tr]);if(l){const c=function ss(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Ae(204,!1)}function lg(o,l,c){let d;if(Or(o)){const f=ee(o);return Ai(f)||ag(f)}if(ig(o))d=()=>ee(o.useValue);else if(function sg(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...I(o.deps||[]));else if(function rg(o){return!(!o||!o.useExisting)}(o))d=()=>Yt(ee(o.useExisting));else{const f=ee(o&&(o.useClass||o.provide));if(!function Hx(o){return!!o.deps}(o))return Ai(f)||ag(f);d=()=>new f(...I(o.deps))}return d}function Ul(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function jx(o){return!!o.\u0275providers}function uf(o,l){for(const c of o)Array.isArray(c)?uf(c,l):jx(c)?uf(c.\u0275providers,l):l(c)}class M_{}class df{resolveComponentFactory(l){throw function aw(o){const l=Error(`No component factory found for ${ge(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Hl=(()=>{class o{}return o.NULL=new df,o})();function R_(){return _d(si(),Re())}function _d(o,l){return new hf(Ii(o,l))}let hf=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=R_,o})();function O_(o){return o instanceof hf?o.nativeElement:o}class zx{}let RO=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function OO(){const o=Re(),c=un(si().index,o);return(ri(c)?c:o)[11]}(),o})(),FO=(()=>{class o{}return o.\u0275prov=an({token:o,providedIn:"root",factory:()=>null}),o})();class cg{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const lw=new cg("14.2.9"),F_={};function U_(o){return o.ngOriginalError}class ff{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&U_(l);for(;c&&U_(c);)c=U_(c);return c||null}}const G_=new Map;let Jx=0;const pf="__ngContext__";function rr(o,l){ri(l)?(o[pf]=l[20],function tA(o){G_.set(o[20],o)}(l)):o[pf]=l}function Ja(o){return o instanceof Function?o():o}var oa=(()=>((oa=oa||{})[oa.Important=1]="Important",oa[oa.DashCase=2]="DashCase",oa))();function q_(o,l){return undefined(o,l)}function yf(o){const l=o[3];return hr(l)?l[3]:l}function gg(o){return Y_(o[13])}function mg(o){return Y_(o[4])}function Y_(o){for(;null!==o&&!hr(o);)o=o[4];return o}function Ed(o,l,c,d,f){if(null!=d){let p,y=!1;hr(d)?p=d:ri(d)&&(y=!0,d=d[0]);const w=Bn(d);0===o&&null!==c?null==f?vf(l,c,w):Wc(l,c,w,f||null,!0):1===o&&null!==c?Wc(l,c,w,f||null,!0):2===o?function pA(o,l,c){const d=yg(o,l);d&&function hA(o,l,c,d){o.removeChild(l,c,d)}(o,d,l,c)}(l,w,y):3===o&&l.destroyNode(w),null!=p&&function Cg(o,l,c,d,f){const p=c[7];p!==Bn(c)&&Ed(l,o,d,p,f);for(let w=10;w<c.length;w++){const D=c[w];bf(D[1],D,o,l,d,p)}}(l,o,p,c,f)}}function Z_(o,l,c){return o.createElement(l,c)}function Aw(o,l){const c=o[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,zn(f,-1)),c.splice(d,1)}function Q_(o,l){if(o.length<=10)return;const c=10+l,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&Aw(f,d),l>0&&(o[c-1][4]=d[4]);const p=Zr(o,10+l);!function Dw(o,l){bf(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Iw(o,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&bf(o,l,c,3,null,null),function xw(o){let l=o[13];if(!l)return xd(o[1],o);for(;l;){let c=null;if(ri(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==o;)ri(l)&&xd(l[1],l),l=l[3];null===l&&(l=o),ri(l)&&xd(l[1],l),c=l&&l[4]}l=c}}(l)}}function xd(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function X_(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof _r)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],D=p[y+1];try{D.call(w)}finally{}}else try{p.call(f)}finally{}}}}(o,l),function Sw(o,l){const c=o.cleanup,d=l[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(l):Bn(l[y]),D=d[f=c[p+2]],T=c[p+3];"boolean"==typeof T?w.removeEventListener(c[p],D,T):T>=0?d[f=T]():d[f=-T].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)(0,d[p])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&hr(l[3])){c!==l[3]&&Aw(c,l);const d=l[19];null!==d&&d.detachView(o)}!function nA(o){G_.delete(o[20])}(l)}}function _g(o,l,c){return function Tw(o,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===bt.None||f===bt.Emulated)return null}return Ii(d,c)}(o,l.parent,c)}function Wc(o,l,c,d,f){o.insertBefore(l,c,d,f)}function vf(o,l,c){o.appendChild(l,c)}function Mw(o,l,c,d,f){null!==d?Wc(o,l,c,d,f):vf(o,l,c)}function yg(o,l){return o.parentNode(l)}function J_(o,l,c){return kw(o,l,c)}let kw=function Vi(o,l,c){return 40&o.type?Ii(o,c):null};function Ad(o,l,c,d){const f=_g(o,d,l),p=l[11],w=J_(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)Mw(p,f,c[D],w,!1);else Mw(p,f,c,w,!1)}function bg(o,l){if(null!==l){const c=l.type;if(3&c)return Ii(l,o);if(4&c)return wg(-1,o[l.index]);if(8&c){const d=l.child;if(null!==d)return bg(o,d);{const f=o[l.index];return hr(f)?wg(-1,f):Bn(f)}}if(32&c)return q_(l,o)()||Bn(o[l.index]);{const d=Rw(o,l);return null!==d?Array.isArray(d)?d[0]:bg(yf(o[16]),d):bg(o,l.next)}}return null}function Rw(o,l){return null!==l?o[16][6].projection[l.projection]:null}function wg(o,l){const c=10+o+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return bg(d,f)}return l[7]}function Ow(o,l,c,d,f,p,y){for(;null!=c;){const w=d[c.index],D=c.type;if(y&&0===l&&(w&&rr(Bn(w),d),c.flags|=4),64!=(64&c.flags))if(8&D)Ow(o,l,c.child,d,f,p,!1),Ed(l,o,f,w,p);else if(32&D){const T=q_(c,d);let O;for(;O=T();)Ed(l,o,f,O,p);Ed(l,o,f,w,p)}else 16&D?ty(o,l,d,c,f,p):Ed(l,o,f,w,p);c=y?c.projectionNext:c.next}}function bf(o,l,c,d,f,p){Ow(c,d,o.firstChild,l,f,p,!1)}function ty(o,l,c,d,f,p){const y=c[16],D=y[6].projection[d.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)Ed(l,o,f,D[T],p);else Ow(o,l,D,y[3],f,p,!0)}function ny(o,l,c){o.setAttribute(l,"style",c)}function jl(o,l,c){""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c)}function Dg(o,l,c){let d=o.length;for(;;){const f=o.indexOf(l,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=l.length;if(f+p===d||o.charCodeAt(f+p)<=32)return f}c=f+1}}const iy="ng-template";function Fw(o,l,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==Dg(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function Eg(o){return 4===o.type&&o.value!==iy}function gA(o,l,c){return l===(4!==o.type||c?o.value:iy)}function mA(o,l,c){let d=4;const f=o.attrs||[],p=function xg(o){for(let l=0;l<o.length;l++)if(Ha(o[l]))return l;return o.length}(f);let y=!1;for(let w=0;w<l.length;w++){const D=l[w];if("number"!=typeof D){if(!y)if(4&d){if(d=2|1&d,""!==D&&!gA(o,D,c)||""===D&&1===l.length){if(_o(d))return!1;y=!0}}else{const T=8&d?D:l[++w];if(8&d&&null!==o.attrs){if(!Fw(o.attrs,T,c)){if(_o(d))return!1;y=!0}continue}const V=Pw(8&d?"class":D,f,Eg(o),c);if(-1===V){if(_o(d))return!1;y=!0;continue}if(""!==T){let K;K=V>p?"":f[V+1].toLowerCase();const se=8&d?K:null;if(se&&-1!==Dg(se,T,0)||2&d&&T!==K){if(_o(d))return!1;y=!0}}}}else{if(!y&&!_o(d)&&!_o(D))return!1;if(y&&_o(D))continue;y=!1,d=D|1&d}}return _o(d)||y}function _o(o){return 0==(1&o)}function Pw(o,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let p=!1;for(;f<l.length;){const y=l[f];if(y===o)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=l[++f];for(;"string"==typeof w;)w=l[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function qO(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,o)}function Nw(o,l,c=!1){for(let d=0;d<l.length;d++)if(mA(o,l[d],c))return!0;return!1}function Lw(o,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function Vw(o,l){return o?":not("+l.trim()+")":l}function _A(o){let l=o[0],c=1,d=2,f="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const w=o[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!_o(y)&&(l+=Vw(p,f),f=""),d=y,p=p||!_o(d);c++}return""!==f&&(l+=Vw(p,f)),l}const Zt={};function Uw(o){Hw(Xt(),Re(),Pn()+o,!1)}function Hw(o,l,c,d){if(!d)if(3==(3&l[2])){const p=o.preOrderCheckHooks;null!==p&&Bo(l,p,c)}else{const p=o.preOrderHooks;null!==p&&Uo(l,p,0,c)}gs(c)}function sy(o,l=null,c=null,d){const f=zw(o,l,c,d);return f.resolveInjectorInitializers(),f}function zw(o,l=null,c=null,d,f=new Set){const p=[c||Mt,Lx(o)];return d=d||("object"==typeof o?void 0:ge(o)),new lf(p,l||af(),d||null,f)}let Kc=(()=>{class o{static create(c,d){if(Array.isArray(c))return sy({name:""},d,c,"");{const f=c.name??"";return sy({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=yr,o.NULL=new nw,o.\u0275prov=an({token:o,providedIn:"any",factory:()=>Yt(ew)}),o.__NG_ELEMENT_ID__=-1,o})();function zl(o,l=et.Default){const c=Re();return null===c?Yt(o,l):$o(si(),c,ee(o),l)}function Cf(){throw new Error("invalid")}function Df(o,l){return o<<17|l<<2}function Us(o){return o>>17&32767}function Mg(o){return 2|o}function ql(o){return(131068&o)>>2}function iC(o,l){return-131069&o|l<<2}function Yl(o){return 1|o}function hC(o,l){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=o.data[p];Ec(f),y.contentQueries(2,l[p],p)}}}function xf(o,l,c,d,f,p,y,w,D,T,O){const V=l.blueprint.slice();return V[0]=f,V[2]=76|d,(null!==O||o&&1024&o[2])&&(V[2]|=1024),Ta(V),V[3]=V[15]=o,V[8]=c,V[10]=y||o&&o[10],V[11]=w||o&&o[11],V[12]=D||o&&o[12]||null,V[9]=T||o&&o[9]||null,V[6]=p,V[20]=function eA(){return Jx++}(),V[21]=O,V[16]=2==l.type?o[16]:V,V}function Od(o,l,c,d,f){let p=o.data[l];if(null===p)p=function pC(o,l,c,d,f){const p=Po(),y=bl(),D=o.data[l]=function yC(o,l,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,l,d,f);return null===o.firstChild&&(o.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}(o,l,c,d,f),function $u(){return Nt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=function vl(){const o=Nt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return $i(p,!0),p}function Fd(o,l,c,d){if(0===c)return-1;const f=l.length;for(let p=0;p<c;p++)l.push(d),o.blueprint.push(d),o.data.push(null);return f}function Bg(o,l,c){Vo(l);try{const d=o.viewQuery;null!==d&&Ey(1,d,c);const f=o.template;null!==f&&Ug(o,l,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&hC(o,l),o.staticViewQueries&&Ey(2,o.viewQuery,c);const p=o.components;null!==p&&function FA(o,l){for(let c=0;c<l.length;c++)Dy(o,l[c])}(l,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[2]&=-5,Os()}}function py(o,l,c,d){const f=l[2];if(128!=(128&f)){Vo(l);try{Ta(l),function Pa(o){return Nt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Ug(o,l,c,2,d);const y=3==(3&f);if(y){const T=o.preOrderCheckHooks;null!==T&&Bo(l,T,null)}else{const T=o.preOrderHooks;null!==T&&Uo(l,T,0,null),Ku(l,0)}if(function $A(o){for(let l=gg(o);null!==l;l=mg(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(512&f[2])&&zn(p,1),f[2]|=512}}}(l),function Kl(o){for(let l=gg(o);null!==l;l=mg(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Rs(d)&&py(f,d,f.template,d[8])}}(l),null!==o.contentQueries&&hC(o,l),y){const T=o.contentCheckHooks;null!==T&&Bo(l,T)}else{const T=o.contentHooks;null!==T&&Uo(l,T,1),Ku(l,1)}!function OA(o,l){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)gs(~f);else{const p=f,y=c[++d],w=c[++d];zu(y,p),w(2,l[p])}}}finally{gs(-1)}}(o,l);const w=o.components;null!==w&&function fC(o,l){for(let c=0;c<l.length;c++)wy(o,l[c])}(l,w);const D=o.viewQuery;if(null!==D&&Ey(2,D,d),y){const T=o.viewCheckHooks;null!==T&&Bo(l,T)}else{const T=o.viewHooks;null!==T&&Uo(l,T,2),Ku(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,zn(l[3],-1))}finally{Os()}}}function Ug(o,l,c,d,f){const p=Pn(),y=2&d;try{gs(-1),y&&l.length>22&&Hw(o,l,22,!1),c(d,f)}finally{gs(p)}}function gC(o,l,c){if(Ms(l)){const f=l.directiveEnd;for(let p=l.directiveStart;p<f;p++){const y=o.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Hg(o,l,c){!ro()||(function vC(o,l,c,d){const f=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||_s(c,l),rr(d,l);const y=c.initialInputs;for(let w=f;w<p;w++){const D=o.data[w],T=Ji(D);T&&CC(l,c,D);const O=Yr(l,o,w,c);rr(O,l),null!==y&&by(0,w-f,O,D,0,y),T&&(un(c.index,l)[8]=O)}}(o,l,c,Ii(c,l)),128==(128&c.flags)&&function bC(o,l,c){const d=c.directiveStart,f=c.directiveEnd,p=c.index,y=function Vh(){return Nt.lFrame.currentDirectiveIndex}();try{gs(p);for(let w=d;w<f;w++){const D=o.data[w],T=l[w];Lo(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&eu(D,T)}}finally{gs(-1),Lo(y)}}(o,l,c))}function Af(o,l,c=Ii){const d=l.localNames;if(null!==d){let f=l.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(l,o):o[y];o[f++]=w}}}function mC(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=_C(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function _C(o,l,c,d,f,p,y,w,D,T){const O=22+d,V=O+f,K=function PA(o,l){const c=[];for(let d=0;d<l;d++)c.push(d<o?null:Zt);return c}(O,V),se="function"==typeof T?T():T;return K[1]={type:o,blueprint:K,template:c,queries:null,viewQuery:w,declTNode:l,data:K.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:se,incompleteFirstPass:!1}}function gy(o,l,c,d){const f=AC(l);null===c?f.push(d):(f.push(c),o.firstCreatePass&&IC(o).push(d,f.length-1))}function Pd(o,l,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function NA(o,l){const d=l.directiveEnd,f=o.data,p=l.attrs,y=[];let w=null,D=null;for(let T=l.directiveStart;T<d;T++){const O=f[T],V=O.inputs,K=null===p||Eg(l)?null:GA(V,p);y.push(K),w=Pd(V,T,w),D=Pd(O.outputs,T,D)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=y,l.inputs=w,l.outputs=D}function ts(o,l,c,d,f,p,y,w){const D=Ii(l,c);let O,T=l.inputs;!w&&null!=T&&(O=T[d])?(TC(o,c,O,d,f),Da(l)&&VA(c,l.index)):3&l.type&&(d=function LA(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=y?y(f,l.value||"",d):f,p.setProperty(D,d,f))}function VA(o,l){const c=un(l,o);16&c[2]||(c[2]|=32)}function my(o,l,c,d){let f=!1;if(ro()){const p=function UA(o,l,c){const d=o.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];Nw(c,y.selectors,!1)&&(f||(f=[]),oo(_s(c,l),o,y.type),Ji(y)?(yy(o,c),f.unshift(y)):f.push(y))}return f}(o,l,c),y=null===d?null:{"":-1};if(null!==p){f=!0,vy(c,o.data.length,p.length);for(let O=0;O<p.length;O++){const V=p[O];V.providersResolver&&V.providersResolver(V)}let w=!1,D=!1,T=Fd(o,l,p.length,null);for(let O=0;O<p.length;O++){const V=p[O];c.mergedAttrs=Ga(c.mergedAttrs,V.hostAttrs),wC(o,c,l,T,V),nF(T,V,y),null!==V.contentQueries&&(c.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(c.flags|=128);const K=V.type.prototype;!w&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!D&&(K.ngOnChanges||K.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),D=!0),T++}NA(o,c)}y&&function HA(o,l,c){if(l){const d=o.localNames=[];for(let f=0;f<l.length;f+=2){const p=c[l[f+1]];if(null==p)throw new Ae(-301,!1);d.push(l[f],p)}}}(c,d,y)}return c.mergedAttrs=Ga(c.mergedAttrs,c.attrs),f}function _y(o,l,c,d,f,p){const y=p.hostBindings;if(y){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const D=~l.index;(function BA(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=D&&w.push(D),w.push(d,f,y)}}function eu(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function yy(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function nF(o,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=o;Ji(l)&&(c[""]=o)}}function vy(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}function wC(o,l,c,d,f){o.data[d]=f;const p=f.factory||(f.factory=Ai(f.type)),y=new _r(p,Ji(f),zl);o.blueprint[d]=y,c[d]=y,_y(o,l,0,d,Fd(o,c,f.hostVars,Zt),f)}function CC(o,l,c){const d=Ii(l,o),f=mC(c),p=o[10],y=$g(o,xf(o,f,null,c.onPush?32:16,d,l,p,p.createRenderer(d,c),null,null,null));o[l.index]=y}function aa(o,l,c,d,f,p){const y=Ii(o,l);!function jg(o,l,c,d,f,p,y){if(null==p)o.removeAttribute(l,f,c);else{const w=null==y?Ce(p):y(p,d||"",f);o.setAttribute(l,f,w,c)}}(l[11],y,p,o.value,c,d,f)}function by(o,l,c,d,f,p){const y=p[l];if(null!==y){const w=d.setInput;for(let D=0;D<y.length;){const T=y[D++],O=y[D++],V=y[D++];null!==w?d.setInput(c,V,T,O):c[O]=V}}}function GA(o,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function DC(o,l,c,d){return new Array(o,!0,!1,l,null,0,d,c,null,null)}function wy(o,l){const c=un(l,o);if(Rs(c)){const d=c[1];48&c[2]?py(d,c,d.template,c[8]):c[5]>0&&Cy(c)}}function Cy(o){for(let d=gg(o);null!==d;d=mg(d))for(let f=10;f<d.length;f++){const p=d[f];if(Rs(p))if(512&p[2]){const y=p[1];py(y,p,y.template,p[8])}else p[5]>0&&Cy(p)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=un(c[d],o);Rs(f)&&f[5]>0&&Cy(f)}}function Dy(o,l){const c=un(l,o),d=c[1];(function EC(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])})(d,c),Bg(d,c,c[8])}function $g(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function Ql(o){for(;o;){o[2]|=32;const l=yf(o);if(mc(o)&&!l)return o;o=l}return null}function zg(o,l,c,d=!0){const f=l[10];f.begin&&f.begin();try{py(o,l,o.template,c)}catch(y){throw d&&SC(l,y),y}finally{f.end&&f.end()}}function Ey(o,l,c){Ec(0),l(o,c)}function AC(o){return o[7]||(o[7]=[])}function IC(o){return o.cleanup||(o.cleanup=[])}function xy(o,l,c){return(null===o||Ji(o))&&(c=function Gu(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[l.index])),c[11]}function SC(o,l){const c=o[9],d=c?c.get(ff,null):null;d&&d.handleError(l)}function TC(o,l,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],D=l[y],T=o.data[y];null!==T.setInput?T.setInput(D,f,d,w):D[w]=f}}function qg(o,l,c){let d=c?o.styles:null,f=c?o.classes:null,p=0;if(null!==l)for(let y=0;y<l.length;y++){const w=l[y];"number"==typeof w?p=w:1==p?f=be(f,w):2==p&&(d=be(d,w+": "+l[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function Sf(o,l,c,d,f=!1){for(;null!==c;){const p=l[c.index];if(null!==p&&d.push(Bn(p)),hr(p))for(let w=10;w<p.length;w++){const D=p[w],T=D[1].firstChild;null!==T&&Sf(D[1],D,T,d)}const y=c.type;if(8&y)Sf(o,l,c.child,d);else if(32&y){const w=q_(c,l);let D;for(;D=w();)d.push(D)}else if(16&y){const w=Rw(l,c);if(Array.isArray(w))d.push(...w);else{const D=yf(l[16]);Sf(D[1],D,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class Nd{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Sf(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(hr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Q_(l,d),Zr(c,d))}this._attachedToViewContainer=!1}Iw(this._lView[1],this._lView)}onDestroy(l){gy(this._lView[1],this._lView,null,l)}markForCheck(){Ql(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zg(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ew(o,l){bf(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=l}}class tu extends Nd{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;zg(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Ay extends Hl{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=R(l);return new Tf(c,this.ngModule)}}function Iy(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}class MC{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,F_,d);return f!==F_||c===F_?f:this.parentInjector.get(l,c,d)}}class Tf extends M_{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function Bw(o){return o.map(_A).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Iy(this.componentDef.inputs)}get outputs(){return Iy(this.componentDef.outputs)}create(l,c,d,f){let p=(f=f||this.ngModule)instanceof qc?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new MC(l,p):l,w=y.get(zx,null);if(null===w)throw new Ae(407,!1);const D=y.get(FO,null),T=w.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",V=d?function If(o,l,c){return o.selectRootElement(l,c===bt.ShadowDom)}(T,d,this.componentDef.encapsulation):Z_(w.createRenderer(null,this.componentDef),O,function qA(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(O)),K=this.componentDef.onPush?288:272,se=_C(0,null,null,1,0,null,null,null,null,null),Ee=xf(null,se,null,K,null,null,w,T,D,y,null);let ze,Ze;Vo(Ee);try{const ut=function RC(o,l,c,d,f,p){const y=c[1];c[22]=o;const D=Od(y,22,2,"#host",null),T=D.mergedAttrs=l.hostAttrs;null!==T&&(qg(D,T,!0),null!==o&&(ms(f,o,T),null!==D.classes&&jl(f,o,D.classes),null!==D.styles&&ny(f,o,D.styles)));const O=d.createRenderer(o,l),V=xf(c,mC(l),null,l.onPush?32:16,c[22],D,d,O,p||null,null,null);return y.firstCreatePass&&(oo(_s(D,c),y,l.type),yy(y,D),vy(D,c.length,1)),$g(c,V),c[22]=V}(V,this.componentDef,Ee,w,T);if(V)if(d)ms(T,V,["ng-version",lw.full]);else{const{attrs:St,classes:Fe}=function yA(o){const l=[],c=[];let d=1,f=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===f?""!==p&&l.push(p,o[++d]):8===f&&c.push(p);else{if(!_o(f))break;f=p}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);St&&ms(T,V,St),Fe&&Fe.length>0&&jl(T,V,Fe.join(" "))}if(Ze=Ro(se,22),void 0!==c){const St=Ze.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const kt=c[Fe];St.push(null!=kt?Array.from(kt):null)}}ze=function WA(o,l,c,d){const f=c[1],p=function tF(o,l,c){const d=si();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),wC(o,d,l,Fd(o,l,1,null),c),NA(o,d));const f=Yr(l,o,d.directiveStart,d);rr(f,l);const p=Ii(d,l);return p&&rr(p,l),f}(f,c,l);if(o[8]=c[8]=p,null!==d)for(const w of d)w(p,l);if(l.contentQueries){const w=si();l.contentQueries(1,p,w.directiveStart)}const y=si();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(gs(y.index),_y(c[1],y,0,y.directiveStart,y.directiveEnd,l),eu(l,p)),p}(ut,this.componentDef,Ee,[OC]),Bg(se,Ee,null)}finally{Os()}return new Sy(this.componentType,ze,_d(Ze,Ee),Ee,Ze)}}class Sy extends class ow{}{constructor(l,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new tu(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const p=this._rootLView;TC(p[1],p,f,l,c),VA(p,this._tNode.index)}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function OC(){const o=si();wl(Re()[1],o)}function Yg(o){let l=function FC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;l;){let f;if(Ji(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ae(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const y=o;y.inputs=Wg(o.inputs),y.declaredInputs=Wg(o.declaredInputs),y.outputs=Wg(o.outputs);const w=f.hostBindings;w&&oF(o,w);const D=f.viewQuery,T=f.contentQueries;if(D&&rF(o,D),T&&sF(o,T),re(o.inputs,f.inputs),re(o.declaredInputs,f.declaredInputs),re(o.outputs,f.outputs),Ji(f)&&f.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(o),w===Yg&&(c=!1)}}l=Object.getPrototypeOf(l)}!function ZA(o){let l=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Ga(f.hostAttrs,c=Ga(c,f.hostAttrs))}}(d)}function Wg(o){return o===Pi?{}:o===Mt?[]:o}function rF(o,l){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function sF(o,l){const c=o.contentQueries;o.contentQueries=c?(d,f,p)=>{l(d,f,p),c(d,f,p)}:l}function oF(o,l){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Mf=null;function Ld(){if(!Mf){const o=Ft.Symbol;if(o&&o.iterator)Mf=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Mf=d)}}}return Mf}function Vd(o){return!!LC(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ld()in o)}function LC(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Hs(o,l,c){return o[l]=c}function Pr(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function nu(o,l,c,d){const f=Re();return Pr(f,Na(),l)&&(Xt(),aa(Nn(),f,o,l,c,d)),nu}function nI(o,l,c,d,f,p,y,w){const D=Re(),T=Xt(),O=o+22,V=T.firstCreatePass?function tI(o,l,c,d,f,p,y,w,D){const T=l.consts,O=Od(l,o,4,y||null,mr(T,w));my(l,c,O,mr(T,D)),wl(l,O);const V=O.tViews=_C(2,O,d,f,p,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T);return null!==l.queries&&(l.queries.template(l,O),V.queries=l.queries.embeddedTView(O)),O}(O,T,D,l,c,d,f,p,y):T.data[O];$i(V,!1);const K=D[11].createComment("");Ad(T,D,K,V),rr(K,D),$g(D,D[O]=DC(K,D,K,V)),Ea(V)&&Hg(T,D,V),null!=y&&Af(D,V,w)}function iu(o){return zr(function Fa(){return Nt.lFrame.contextLView}(),22+o)}function ec(o,l,c){const d=Re();return Pr(d,Na(),l)&&ts(Xt(),Nn(),d,o,l,d[11],c,!1),ec}function $d(o,l,c,d,f){const y=f?"class":"style";TC(o,c,l.inputs[y],y,d)}function zd(o,l,c,d){const f=Re(),p=Xt(),y=22+o,w=f[11],D=f[y]=Z_(w,l,function Sc(){return Nt.lFrame.currentNamespace}()),T=p.firstCreatePass?function Qg(o,l,c,d,f,p,y){const w=l.consts,T=Od(l,o,2,f,mr(w,p));return my(l,c,T,mr(w,y)),null!==T.attrs&&qg(T,T.attrs,!1),null!==T.mergedAttrs&&qg(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(y,p,f,0,l,c,d):p.data[y];$i(T,!0);const O=T.mergedAttrs;null!==O&&ms(w,D,O);const V=T.classes;null!==V&&jl(w,D,V);const K=T.styles;return null!==K&&ny(w,D,K),64!=(64&T.flags)&&Ad(p,f,D,T),0===function ka(){return Nt.lFrame.elementDepthCount}()&&rr(D,f),function ju(){Nt.lFrame.elementDepthCount++}(),Ea(T)&&(Hg(p,f,T),gC(p,T,f)),null!==d&&Af(f,T),zd}function qd(){let o=si();bl()?No():(o=o.parent,$i(o,!1));const l=o;!function Ra(){Nt.lFrame.elementDepthCount--}();const c=Xt();return c.firstCreatePass&&(wl(c,o),Ms(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Dl(o){return 0!=(16&o.flags)}(l)&&$d(c,l,Re(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function El(o){return 0!=(32&o.flags)}(l)&&$d(c,l,Re(),l.stylesWithoutHost,!1),qd}function Yd(o,l,c,d){return zd(o,l,c,d),qd(),Yd}function su(o,l,c){const d=Re(),f=Xt(),p=o+22,y=f.firstCreatePass?function ru(o,l,c,d,f){const p=l.consts,y=mr(p,d),w=Od(l,o,8,"ng-container",y);return null!==y&&qg(w,y,!0),my(l,c,w,mr(p,f)),null!==l.queries&&l.queries.elementStart(l,w),w}(p,f,d,l,c):f.data[p];$i(y,!0);const w=d[p]=d[11].createComment("");return Ad(f,d,w,y),rr(w,d),Ea(y)&&(Hg(f,d,y),gC(f,y,d)),null!=c&&Af(d,y),su}function sl(){let o=si();const l=Xt();return bl()?No():(o=o.parent,$i(o,!1)),l.firstCreatePass&&(wl(l,o),Ms(o)&&l.queries.elementEnd(o)),sl}function UC(o,l,c){return su(o,l,c),sl(),UC}function iI(){return Re()}function HC(o){return!!o&&"function"==typeof o.then}function rI(o){return!!o&&"function"==typeof o.subscribe}const sI=rI;function GC(o,l,c,d){const f=Re(),p=Xt(),y=si();return oI(p,f,f[11],y,o,l,0,d),GC}function jC(o,l){const c=si(),d=Re(),f=Xt();return oI(f,d,xy(Dc(f.data),c,d),c,o,l),jC}function oI(o,l,c,d,f,p,y,w){const D=Ea(d),O=o.firstCreatePass&&IC(o),V=l[8],K=AC(l);let se=!0;if(3&d.type||w){const Ze=Ii(d,l),ut=w?w(Ze):Ze,St=K.length,Fe=w?hn=>w(Bn(hn[d.index])):d.index;let kt=null;if(!w&&D&&(kt=function uF(o,l,c,d){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=l[7],D=f[p+2];return w.length>D?w[D]:null}"string"==typeof y&&(p+=2)}return null}(o,l,f,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=p,kt.__ngLastListenerFn__=p,se=!1;else{p=lI(d,l,V,p,!1);const hn=c.listen(ut,f,p);K.push(p,hn),O&&O.push(f,Fe,St,St+1)}}else p=lI(d,l,V,p,!1);const Ee=d.outputs;let ze;if(se&&null!==Ee&&(ze=Ee[f])){const Ze=ze.length;if(Ze)for(let ut=0;ut<Ze;ut+=2){const ei=l[ze[ut]][ze[ut+1]].subscribe(p),yu=K.length;K.push(p,ei),O&&O.push(f,d.index,yu,-(yu+1))}}}function aI(o,l,c,d){try{return!1!==c(d)}catch(f){return SC(o,f),!1}}function lI(o,l,c,d,f){return function p(y){if(y===Function)return d;Ql(2&o.flags?un(o.index,l):l);let D=aI(l,0,d,y),T=p.__ngNextListenerFn__;for(;T;)D=aI(l,0,T,y)&&D,T=T.__ngNextListenerFn__;return f&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function cI(o=1){return function Fs(o){return(Nt.lFrame.contextLView=function Wu(o,l){for(;o>0;)l=l[15],o--;return l}(o,Nt.lFrame.contextLView))[8]}(o)}function dF(o,l){let c=null;const d=function zO(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(o);for(let f=0;f<l.length;f++){const p=l[f];if("*"!==p){if(null===d?Nw(o,p,!0):Lw(d,p))return f}else c=f}return c}function uI(o){const l=Re()[16][6];if(!l.projection){const d=l.projection=Hn(o?o.length:1,null),f=d.slice();let p=l.child;for(;null!==p;){const y=o?dF(p,o):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function dI(o,l=0,c){const d=Re(),f=Xt(),p=Od(f,22+o,16,null,c||null);null===p.projection&&(p.projection=l),No(),64!=(64&p.flags)&&function ey(o,l,c){ty(l[11],0,l,c,_g(o,c,l),J_(c.parent||l[6],c,l))}(f,d,p)}function wI(o,l,c,d,f){const p=o[c+1],y=null===l;let w=d?Us(p):ql(p),D=!1;for(;0!==w&&(!1===D||y);){const O=o[w+1];pF(o[w],l)&&(D=!0,o[w+1]=d?Yl(O):Mg(O)),w=d?Us(O):ql(O)}D&&(o[c+1]=d?Mg(p):Yl(p))}function pF(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Kr(o,l)>=0}function zC(o,l,c){return la(o,l,c,!1),zC}function qC(o,l){return la(o,l,null,!0),qC}function la(o,l,c,d){const f=Re(),p=Xt(),y=function ps(o){const l=Nt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}(2);p.firstUpdatePass&&function TI(o,l,c,d){const f=o.data;if(null===f[c+1]){const p=f[Pn()],y=function SI(o,l){return l>=o.expandoStartIndex}(o,c);(function OI(o,l){return 0!=(o.flags&(l?16:32))})(p,d)&&null===l&&!y&&(l=!1),l=function EF(o,l,c,d){const f=Dc(o);let p=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Xg(c=YC(null,o,l,c,d),l.attrs,d),p=null);else{const y=l.directiveStylingLast;if(-1===y||o[y]!==f)if(c=YC(f,o,l,c,d),null===p){let D=function xF(o,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==ql(d))return o[Us(d)]}(o,l,d);void 0!==D&&Array.isArray(D)&&(D=YC(null,o,l,D[1],d),D=Xg(D,l.attrs,d),function AF(o,l,c,d){o[Us(c?l.classBindings:l.styleBindings)]=d}(o,l,d,D))}else p=function IF(o,l,c){let d;const f=l.directiveEnd;for(let p=1+l.directiveStylingLast;p<f;p++)d=Xg(d,o[p].hostAttrs,c);return Xg(d,l.attrs,c)}(o,l,d)}return void 0!==p&&(d?l.residualClasses=p:l.residualStyles=p),c}(f,p,l,d),function hF(o,l,c,d,f,p){let y=p?l.classBindings:l.styleBindings,w=Us(y),D=ql(y);o[d]=c;let O,T=!1;if(Array.isArray(c)){const V=c;O=V[1],(null===O||Kr(V,O)>0)&&(T=!0)}else O=c;if(f)if(0!==D){const K=Us(o[w+1]);o[d+1]=Df(K,w),0!==K&&(o[K+1]=iC(o[K+1],d)),o[w+1]=function tl(o,l){return 131071&o|l<<17}(o[w+1],d)}else o[d+1]=Df(w,0),0!==w&&(o[w+1]=iC(o[w+1],d)),w=d;else o[d+1]=Df(D,0),0===w?w=d:o[D+1]=iC(o[D+1],d),D=d;T&&(o[d+1]=Mg(o[d+1])),wI(o,O,d,!0),wI(o,O,d,!1),function fF(o,l,c,d,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof l&&Kr(p,l)>=0&&(c[d+1]=Yl(c[d+1]))}(l,O,o,d,p),y=Df(w,D),p?l.classBindings=y:l.styleBindings=y}(f,p,l,c,y,d)}}(p,o,y,d),l!==Zt&&Pr(f,y,l)&&function kI(o,l,c,d,f,p,y,w){if(!(3&l.type))return;const D=o.data,T=D[w+1];Ty(function Id(o){return 1==(1&o)}(T)?RI(D,l,c,f,ql(T),y):void 0)||(Ty(p)||function vr(o){return 2==(2&o)}(T)&&(p=RI(D,null,c,f,w,y)),function $O(o,l,c,d,f){if(l)f?o.addClass(c,d):o.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:oa.DashCase;null==f?o.removeStyle(c,d,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=oa.Important),o.setStyle(c,d,f,p))}}(d,y,Mr(Pn(),c),f,p))}(p,p.data[Pn()],f,f[11],o,f[y+1]=function MF(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=ge(go(o)))),o}(l,c),d,y)}function YC(o,l,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=l[w],d=Xg(d,p.hostAttrs,f),p!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function Xg(o,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let p=0;p<l.length;p++){const y=l[p];"number"==typeof y?f=y:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),wi(o,y,!!c||l[++p]))}return void 0===o?null:o}function RI(o,l,c,d,f,p){const y=null===l;let w;for(;f>0;){const D=o[f],T=Array.isArray(D),O=T?D[1]:D,V=null===O;let K=c[f+1];K===Zt&&(K=V?Mt:void 0);let se=V?dt(K,d):O===d?K:void 0;if(T&&!Ty(se)&&(se=dt(D,d)),Ty(se)&&(w=se,y))return w;const Ee=o[f+1];f=y?Us(Ee):ql(Ee)}if(null!==l){let D=p?l.residualClasses:l.residualStyles;null!=D&&(w=dt(D,d))}return w}function Ty(o){return void 0!==o}function FI(o,l=""){const c=Re(),d=Xt(),f=o+22,p=d.firstCreatePass?Od(d,f,1,l,null):d.data[f],y=c[f]=function W_(o,l){return o.createText(l)}(c[11],l);Ad(d,c,y,p),$i(p,!1)}function WC(o){return My("",o,""),WC}function My(o,l,c){const d=Re(),f=function nl(o,l,c,d){return Pr(o,Na(),c)?l+Ce(c)+d:Zt}(d,o,l,c);return f!==Zt&&function yo(o,l,c){const d=Mr(l,o);!function Cw(o,l,c){o.setValue(l,c)}(o[11],d,c)}(d,Pn(),f),My}function Fy(o,l,c){const d=Re();return Pr(d,Na(),l)&&ts(Xt(),Nn(),d,o,l,d[11],c,!0),Fy}function Wd(o,l,c){const d=Re();if(Pr(d,Na(),l)){const p=Xt(),y=Nn();ts(p,y,d,o,l,xy(Dc(p.data),y,d),c,!0)}return Wd}const jn=void 0;var jI=["en",[["a","p"],["AM","PM"],jn],[["AM","PM"],jn,jn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jn,"{1} 'at' {0}",jn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cl(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ua={};function em(o){const l=function Zd(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=tm(l);if(c)return c;const d=l.split("-")[0];if(c=tm(d),c)return c;if("en"===d)return jI;throw new Ae(701,!1)}function Py(o){return em(o)[Tt.PluralCase]}function tm(o){return o in ua||(ua[o]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[o]),ua[o]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Kd="en-US";let WI=Kd;function _D(o,l,c,d,f){if(o=ee(o),Array.isArray(o))for(let p=0;p<o.length;p++)_D(o[p],l,c,d,f);else{const p=Xt(),y=Re();let w=Or(o)?o:ee(o.provide),D=lg(o);const T=si(),O=1048575&T.providerIndexes,V=T.directiveStart,K=T.providerIndexes>>20;if(Or(o)||!o.multi){const se=new _r(D,f,zl),Ee=qy(w,l,f?O:O+K,V);-1===Ee?(oo(_s(T,y),p,w),zy(p,o,l.length),l.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(se),y.push(se)):(c[Ee]=se,y[Ee]=se)}else{const se=qy(w,l,O+K,V),Ee=qy(w,l,O,O+K),ze=se>=0&&c[se],Ze=Ee>=0&&c[Ee];if(f&&!Ze||!f&&!ze){oo(_s(T,y),p,w);const ut=function mS(o,l,c,d,f){const p=new _r(o,c,zl);return p.multi=[],p.index=l,p.componentProviders=0,yD(p,f,d&&!c),p}(f?bD:vD,c.length,f,d,D);!f&&Ze&&(c[Ee].providerFactory=ut),zy(p,o,l.length,0),l.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(ut),y.push(ut)}else zy(p,o,se>-1?se:Ee,yD(c[f?Ee:se],D,!f&&d));!f&&d&&Ze&&c[Ee].componentProviders++}}}function zy(o,l,c,d){const f=Or(l),p=function md(o){return!!o.useClass}(l);if(f||p){const D=(p?ee(l.useClass):l).prototype.ngOnDestroy;if(D){const T=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const O=T.indexOf(c);-1===O?T.push(c,[d,D]):T[O+1].push(d,D)}else T.push(c,D)}}}function yD(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function qy(o,l,c,d){for(let f=c;f<d;f++)if(l[f]===o)return f;return-1}function vD(o,l,c,d){return Yy(this.multi,[])}function bD(o,l,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Yr(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),Yy(f,p);for(let D=y;D<w.length;D++)p.push(w[D])}else p=[],Yy(f,p);return p}function Yy(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function wD(o,l=[]){return c=>{c.providersResolver=(d,f)=>function gS(o,l,c){const d=Xt();if(d.firstCreatePass){const f=Ji(o);_D(c,d.data,d.blueprint,f,!0),_D(l,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,l)}}class Qd{}class Cs{}function u1(o,l){return new _S(o,l??null)}class _S extends Qd{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ay(this);const d=at(l);this._bootstrapComponents=Ja(d.bootstrap),this._r3Injector=zw(l,c,[{provide:Qd,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],ge(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class CD extends Cs{constructor(l){super(),this.moduleType=l}create(l){return new _S(this.moduleType,l)}}class d1 extends Qd{constructor(l,c,d){super(),this.componentFactoryResolver=new Ay(this),this.instance=null;const f=new lf([...l,{provide:Qd,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],c||af(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function DD(o,l,c=null){return new d1(o,l,c).injector}let h1=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=iw(0,c.type),f=d.length>0?DD([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=an({token:o,providedIn:"environment",factory:()=>new o(Yt(qc))}),o})();function yS(o){o.getStandaloneInjector=l=>l.get(h1).getOrCreateStandaloneInjector(o)}function CS(o,l,c,d){return function ES(o,l,c,d,f,p){const y=l+c;return Pr(o,y,f)?Hs(o,y+1,p?d.call(p,f):d(f)):$f(o,y+1)}(Re(),oi(),o,l,c,d)}function $f(o,l){const c=o[l];return c===Zt?void 0:c}function xS(o,l,c,d,f,p,y){const w=l+c;return function Gs(o,l,c,d){const f=Pr(o,l,c);return Pr(o,l+1,d)||f}(o,w,f,p)?Hs(o,w+2,y?d.call(y,f,p):d(f,p)):$f(o,w+2)}function Jd(o,l){const c=Xt();let d;const f=o+22;c.firstCreatePass?(d=function x1(o,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(o===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const p=d.factory||(d.factory=Ai(d.type)),y=Dn(zl);try{const w=ja(!1),D=p();return ja(w),function cF(o,l,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),l[c]=d}(c,Re(),f,D),D}finally{Dn(y)}}function SD(o,l,c,d){const f=o+22,p=Re(),y=zr(p,f);return function lu(o,l){return o[1].data[l].pure}(p,f)?xS(p,oi(),l,y.transform,c,d,y):y.transform(c,d)}function Xy(o){return l=>{setTimeout(o,void 0,l)}}const da=class MD extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,p=c||(()=>null),y=d;if(l&&"object"==typeof l){const D=l;f=D.next?.bind(D),p=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(p=Xy(p),f&&(f=Xy(f)),y&&(y=Xy(y)));const w=super.subscribe({next:f,error:p,complete:y});return l instanceof j.w0&&l.add(w),w}};function dm(){return this._results[Ld()]()}class kD{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ld(),d=kD.prototype;d[c]||(d[c]=dm)}get changes(){return this._changes||(this._changes=new da)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=ft(l);(this._changesDetected=!function Ke(o,l,c){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],p=l[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hm=(()=>{class o{}return o.__NG_ELEMENT_ID__=S1,o})();const TS=hm,I1=class extends TS{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=xf(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),Bg(d,f,l),new Nd(f)}};function S1(){return zf(si(),Re())}function zf(o,l){return 4&o.type?new I1(l,o,_d(o,l)):null}let fm=(()=>{class o{}return o.__NG_ELEMENT_ID__=MS,o})();function MS(){return tv(si(),Re())}const pm=fm,eh=class extends pm{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return _d(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const l=$a(this._hostTNode,this._hostLView);if(Gh(l)){const c=Ps(l,this._hostLView),d=ai(l);return new qo(c[1].data[d+8],c)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Jy(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,p;"number"==typeof d?f=d:null!=d&&(f=d.index,p=d.injector);const y=l.createEmbeddedView(c||{},p);return this.insert(y,f),y}createComponent(l,c,d,f,p){const y=l&&!function pn(o){return"function"==typeof o}(l);let w;if(y)w=c;else{const V=c||{};w=V.index,d=V.injector,f=V.projectableNodes,p=V.environmentInjector||V.ngModuleRef}const D=y?l:new Tf(R(l)),T=d||this.parentInjector;if(!p&&null==D.ngModule){const K=(y?T:this.parentInjector).get(qc,null);K&&(p=K)}const O=D.create(T,f,void 0,p);return this.insert(O.hostView,w),O}insert(l,c){const d=l._lView,f=d[1];if(function wc(o){return hr(o[3])}(d)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const V=d[3],K=new eh(V,V[6],V[3]);K.detach(K.indexOf(l))}}const p=this._adjustIndex(c),y=this._lContainer;!function GO(o,l,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=l),d<p-10?(l[4]=c[f],Tl(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const y=l[17];null!==y&&c!==y&&function dA(o,l){const c=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===c?o[9]=[l]:c.push(l)}(y,l);const w=l[19];null!==w&&w.insertView(o),l[2]|=64}(f,d,y,p);const w=wg(p,y),D=d[11],T=yg(D,y[7]);return null!==T&&function K_(o,l,c,d,f,p){d[0]=f,d[6]=l,bf(o,d,c,1,f,p)}(f,y[6],D,d,T,w),l.attachToViewContainerRef(),Tl(ev(y),p,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Jy(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Q_(this._lContainer,c);d&&(Zr(ev(this._lContainer),c),Iw(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Q_(this._lContainer,c);return d&&null!=Zr(ev(this._lContainer),c)?new Nd(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function Jy(o){return o[8]}function ev(o){return o[8]||(o[8]=[])}function tv(o,l){let c;const d=l[o.index];if(hr(d))c=d;else{let f;if(8&o.type)f=Bn(d);else{const p=l[11];f=p.createComment("");const y=Ii(o,l);Wc(p,yg(p,y),f,function fA(o,l){return o.nextSibling(l)}(p,y),!1)}l[o.index]=c=DC(d,l,f,o),$g(l,c)}return new eh(c,o,l)}class OD{constructor(l){this.queryList=l,this.matches=null}clone(){return new OD(this.queryList)}setDirty(){this.queryList.setDirty()}}class FD{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new FD(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==gm(l,c).matches&&this.queries[c].setDirty()}}class nv{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class iv{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(l,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new iv(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class rv{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new rv(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(l,c,RS(c,p)),this.matchTNodeWithReadOption(l,c,qa(c,l,p,!1,!1))}else d===hm?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,qa(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===hf||f===fm||f===hm&&4&c.type)this.addMatch(c.index,-2);else{const p=qa(c,l,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function RS(o,l){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function T1(o,l,c,d){return-1===c?function ha(o,l){return 11&o.type?_d(o,l):4&o.type?zf(o,l):null}(l,o):-2===c?function OS(o,l,c){return c===hf?_d(l,o):c===hm?zf(l,o):c===fm?tv(l,o):void 0}(o,l,d):Yr(o,o[1],c,l)}function FS(o,l,c,d){const f=l[19].queries[d];if(null===f.matches){const p=o.data,y=c.matches,w=[];for(let D=0;D<y.length;D+=2){const T=y[D];w.push(T<0?null:T1(l,p[T],y[D+1],c.metadata.read))}f.matches=w}return f.matches}function PD(o,l,c,d){const f=o.queries.getByIndex(c),p=f.matches;if(null!==p){const y=FS(o,l,f,c);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)d.push(y[w/2]);else{const T=p[w+1],O=l[-D];for(let V=10;V<O.length;V++){const K=O[V];K[17]===K[3]&&PD(K[1],K,T,d)}if(null!==O[9]){const V=O[9];for(let K=0;K<V.length;K++){const se=V[K];PD(se[1],se,T,d)}}}}}return d}function ND(o){const l=Re(),c=Xt(),d=La();Ec(d+1);const f=gm(c,d);if(o.dirty&&function bc(o){return 4==(4&o[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?PD(c,l,d,[]):FS(c,l,f,d);o.reset(p,O_),o.notifyOnChanges()}return!0}return!1}function LD(o,l,c){const d=Xt();d.firstCreatePass&&(LS(d,new nv(o,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Yf(d,Re(),l)}function qf(o,l,c,d){const f=Xt();if(f.firstCreatePass){const p=si();LS(f,new nv(l,c,d),p.index),function VD(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}Yf(f,Re(),c)}function PS(){return function NS(o,l){return o[19].queries[l].queryList}(Re(),La())}function Yf(o,l,c){const d=new kD(4==(4&c));gy(o,l,d,d.destroy),null===l[19]&&(l[19]=new FD),l[19].queries.push(new OD(d))}function LS(o,l,c){null===o.queries&&(o.queries=new iv),o.queries.track(new rv(l,c))}function gm(o,l){return o.queries.getByIndex(l)}function cv(...o){}const KS=new Tn("Application Initializer");let uv=(()=>{class o{constructor(c){this.appInits=c,this.resolve=cv,this.reject=cv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(HC(p))c.push(p);else if(sI(p)){const y=new Promise((w,D)=>{p.subscribe({complete:w,error:D})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Yt(KS,8))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const QS=new Tn("AppId",{providedIn:"root",factory:function o0(){return`${a0()}${a0()}${a0()}`}});function a0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const l0=new Tn("Platform Initializer"),XS=new Tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dv=new Tn("appBootstrapListener"),eT=new Tn("AnimationModuleType");let ul=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const fa=new Tn("LocaleId",{providedIn:"root",factory:()=>x(fa,et.Optional|et.SkipSelf)||function ym(){return typeof $localize<"u"&&$localize.locale||Kd}()}),c0=new Tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class u0{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let hu=(()=>{class o{compileModuleSync(c){return new CD(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Ja(at(c).declarations).reduce((y,w)=>{const D=R(w);return D&&y.push(new Tf(D)),y},[]);return new u0(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const d0=(()=>Promise.resolve(0))();function Zf(o){typeof Zone>"u"?d0.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class or{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new da(!1),this.onMicrotaskEmpty=new da(!1),this.onStable=new da(!1),this.onError=new da(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function sT(){let o=Ft.requestAnimationFrame,l=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function lT(o){const l=()=>{!function aT(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ft,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,bm(o),o.isCheckStableRunning=!0,ih(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),bm(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return h0(o),c.invokeTask(f,p,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&l(),fv(o)}},onInvoke:(c,d,f,p,y,w,D)=>{try{return h0(o),c.invoke(f,p,y,w,D)}finally{o.shouldCoalesceRunChangeDetection&&l(),fv(o)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,bm(o),ih(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!or.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(or.isInAngularZone())throw new Ae(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,l,oT,cv,cv);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const oT={};function ih(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function bm(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function h0(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function fv(o){o._nesting--,ih(o)}class cT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new da,this.onMicrotaskEmpty=new da,this.onStable=new da,this.onError=new da}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const pv=new Tn(""),uT=new Tn("");let gv,dT=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gv||(function hT(o){gv=o}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{or.assertNotInAngularZone(),Zf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zf(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Yt(or),Yt(f0),Yt(uT))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})(),f0=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return gv?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),dl=null;const fT=new Tn("AllowMultipleToken"),p0=new Tn("PlatformDestroyListeners");class pT{constructor(l,c){this.name=l,this.token=c}}function De(o,l,c=[]){const d=`Platform: ${l}`,f=new Tn(d);return(p=[])=>{let y=dn();if(!y||y.injector.get(fT,!1)){const w=[...c,...p,{provide:f,useValue:!0}];o?o(w):function wr(o){if(dl&&!dl.get(fT,!1))throw new Ae(400,!1);dl=o;const l=o.get(g0);(function gT(o){const l=o.get(l0,null);l&&l.forEach(c=>c())})(o)}(function Kf(o=[],l){return Kc.create({name:l,providers:[{provide:og,useValue:"platform"},{provide:p0,useValue:new Set([()=>dl=null])},...o]})}(w,d))}return function fu(o){const l=dn();if(!l)throw new Ae(401,!1);return l}()}}function dn(){return dl?.get(g0)??null}let g0=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function wt(o,l){let c;return c="noop"===o?new cT:("zone.js"===o?void 0:o)||new or(l),c}(d?.ngZone,function pa(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:or,useValue:f}];return f.run(()=>{const y=Kc.create({providers:p,parent:this.injector,name:c.moduleType.name}),w=c.create(y),D=w.injector.get(ff,null);if(!D)throw new Ae(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:O=>{D.handleError(O)}});w.onDestroy(()=>{mu(this._modules,w),T.unsubscribe()})}),function wm(o,l,c){try{const d=c();return HC(d)?d.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(D,f,()=>{const T=w.injector.get(uv);return T.runInitializers(),T.donePromise.then(()=>(function Ly(o){qt(o,"Expected localeId to be defined"),"string"==typeof o&&(WI=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get(fa,Kd)||Kd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const f=zt({},d);return function G1(o,l,c){const d=new CD(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(gu);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ae(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(p0,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Yt(Kc))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function zt(o,l){return Array.isArray(l)?l.reduce(zt,o):{...o,...l}}let gu=(()=>{class o{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new F.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new F.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{or.assertNotInAngularZone(),Zf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{or.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,le.T)(p,y.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof M_;if(!this._injector.get(uv).done)throw!f&&Le(c),new Ae(405,false);let y;y=f?c:this._injector.get(Hl).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function j1(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Qd),T=y.create(Kc.NULL,[],d||y.selector,w),O=T.location.nativeElement,V=T.injector.get(pv,null);return V?.registerApplication(O),T.onDestroy(()=>{this.detachView(T.hostView),mu(this.components,T),V?.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;mu(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(dv,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>mu(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ae(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Yt(or),Yt(qc),Yt(ff))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function mu(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}let Cm=!0,m0=!1;function _T(){return m0=!0,Cm}function yT(){if(m0)throw new Error("Cannot enable prod mode after platform setup.");Cm=!1}let rc=(()=>{class o{}return o.__NG_ELEMENT_ID__=vT,o})();function vT(o){return function _0(o,l,c){if(Da(o)&&!c){const d=un(o.index,l);return new Nd(d,d)}return 47&o.type?new Nd(l[16],l):null}(si(),Re(),16==(16&o))}class E0{constructor(){}supports(l){return Vd(l)}create(l){return new Cv(l)}}const wT=(o,l)=>l;class Cv{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||wT}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<A0(d,f,p)?c:d,w=A0(y,f,p),D=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const T=w-f,O=D-f;if(T!=O){for(let K=0;K<T;K++){const se=K<p.length?p[K]:p[K]=0,Ee=se+K;O<=Ee&&Ee<T&&(p[K]=se+1)}p[y.previousIndex]=O-T}}w!==D&&l(y,w,D)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Vd(l))throw new Ae(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)p=l[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function aF(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[Ld()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let p;return null===l?p=this._itTail:(p=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,p,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,p,f)):l=this._addAfter(new x0(c,d),p,f),l}_verifyReinsertion(l,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?l=this._reinsertAfter(p,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,p=l._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new oh),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oh),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class x0{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CT{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class oh{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new CT,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function A0(o,l,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class ah{constructor(){}supports(l){return l instanceof Map||LC(l)}create(){return new DT}}class DT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||LC(l)))throw new Ae(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new ET(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class ET{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xf(){return new Jf([new E0])}let Jf=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Xf()),deps:[[o,new Ct,new qe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ae(901,!1)}}return o.\u0275prov=an({token:o,providedIn:"root",factory:Xf}),o})();function Dv(){return new Im([new ah])}let Im=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Dv()),deps:[[o,new Ct,new qe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ae(901,!1)}}return o.\u0275prov=an({token:o,providedIn:"root",factory:Dv}),o})();const xv=De(null,"core",[]);let T0=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Yt(gu))},o.\u0275mod=rn({type:o}),o.\u0275inj=$t({}),o})();function M0(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ht,Me,L)=>{L.d(Me,{Z:()=>Ae});var a=L(2090),j=L(4859),F=L(9681),le=L(1877);class de{constructor(Ce,_e){this._delegate=Ce,this.firebase=_e,(0,F._addComponent)(Ce,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Ce,_e=F._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(Ce);return!Je.isInitialized()&&"EXPLICIT"===(null===(tt=Je.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:_e})}_removeServiceInstance(Ce,_e=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(_e)}_addComponent(Ce){(0,F._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,F._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function be(){const ot=function ge(ot){const Ce={},_e={__esModule:!0,initializeApp:function Ne(ae,he={}){const we=F.initializeApp(ae,he);if((0,a.r3)(Ce,we.name))return Ce[we.name];const X=new ot(we,_e);return Ce[we.name]=X,X},app:Je,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function xe(ae){const he=ae.name,we=he.replace("-compat","");if(F._registerComponent(ae)&&"PUBLIC"===ae.type){const X=(ne=Je())=>{if("function"!=typeof ne[we])throw re.create("invalid-app-argument",{appName:he});return ne[we]()};void 0!==ae.serviceProps&&(0,a.ZB)(X,ae.serviceProps),_e[we]=X,ot.prototype[we]=function(...ne){return this._getService.bind(this,he).apply(this,ae.multipleInstances?ne:[])}}return"PUBLIC"===ae.type?_e[we]:null},removeApp:function tt(ae){delete Ce[ae]},useAsService:function Ye(ae,he){return"serverAuth"===he?null:he},modularAPIs:F}};function Je(ae){if(!(0,a.r3)(Ce,ae=ae||F._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:ae});return Ce[ae]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Oe(){return Object.keys(Ce).map(ae=>Ce[ae])}}),Je.App=ot,_e}(de);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Ce(_e){(0,a.ZB)(ot,_e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ot}(),q=new le.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=W;!function Pe(ot){(0,F.registerVersion)("@firebase/app-compat","0.1.38",ot)}()},9681:(ht,Me,L)=>{L.r(Me),L.d(Me,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>on,_addOrOverwriteComponent:()=>an,_apps:()=>mn,_clearComponents:()=>$r,_components:()=>En,_getProvider:()=>$t,_registerComponent:()=>Qt,_removeServiceInstance:()=>Fi,deleteApp:()=>as,getApp:()=>Zn,getApps:()=>Tr,initializeApp:()=>Gi,onLog:()=>Kn,registerVersion:()=>ni,setLogLevel:()=>Dn});var a=L(5861),j=L(4859),F=L(1877),le=L(2090),de=L(8766);class ye{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function re(it){return"VERSION"===it.getComponent()?.type}(rt)){const xt=rt.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(rt=>rt).join(" ")}}const ge="@firebase/app",W=new F.Yd("@firebase/app"),qt="[DEFAULT]",We={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,En=new Map;function on(it,Te){try{it.container.addComponent(Te)}catch(rt){W.debug(`Component ${Te.name} failed to register with FirebaseApp ${it.name}`,rt)}}function an(it,Te){it.container.addOrOverwriteComponent(Te)}function Qt(it){const Te=it.name;if(En.has(Te))return W.debug(`There were multiple attempts to register component ${Te}.`),!1;En.set(Te,it);for(const rt of mn.values())on(rt,it);return!0}function $t(it,Te){const rt=it.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),it.container.getProvider(Te)}function Fi(it,Te,rt=qt){$t(it,Te).clearInstance(rt)}function $r(){En.clear()}const Vn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ss{constructor(Te,rt,xt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const os="9.13.0";function Gi(it,Te={}){let rt=it;"object"!=typeof Te&&(Te={name:Te});const xt=Object.assign({name:qt,automaticDataCollectionEnabled:!1},Te),It=xt.name;if("string"!=typeof It||!It)throw Vn.create("bad-app-name",{appName:String(It)});if(rt||(rt=(0,le.aH)()),!rt)throw Vn.create("no-options");const rn=mn.get(It);if(rn){if((0,le.vZ)(rt,rn.options)&&(0,le.vZ)(xt,rn.config))return rn;throw Vn.create("duplicate-app",{appName:It})}const Y=new j.H0(It);for(const Q of En.values())Y.addComponent(Q);const $=new ss(rt,xt,Y);return mn.set(It,$),$}function Zn(it=qt){const Te=mn.get(it);if(!Te&&it===qt)return Gi();if(!Te)throw Vn.create("no-app",{appName:it});return Te}function Tr(){return Array.from(mn.values())}function as(it){return et.apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(it){const Te=it.name;mn.has(Te)&&(mn.delete(Te),yield Promise.all(it.container.getProviders().map(rt=>rt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function ni(it,Te,rt){var xt;let It=null!==(xt=We[it])&&void 0!==xt?xt:it;rt&&(It+=`-${rt}`);const rn=It.match(/\s|\//),Y=Te.match(/\s|\//);if(rn||Y){const $=[`Unable to register library "${It}" with version "${Te}":`];return rn&&$.push(`library name "${It}" contains illegal characters (whitespace or "/")`),rn&&Y&&$.push("and"),Y&&$.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void W.warn($.join(" "))}Qt(new j.wA(`${It}-version`,()=>({library:It,version:Te}),"VERSION"))}function Kn(it,Te){if(null!==it&&"function"!=typeof it)throw Vn.create("invalid-log-argument");(0,F.Am)(it,Te)}function Dn(it){(0,F.Ub)(it)}const xn="firebase-heartbeat-store";let An=null;function wn(){return An||(An=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(it,Te)=>{0===Te&&it.createObjectStore(xn)}}).catch(it=>{throw Vn.create("idb-open",{originalErrorMessage:it.message})})),An}function bt(){return(bt=(0,a.Z)(function*(it){var Te;try{return(yield wn()).transaction(xn).objectStore(xn).get(ii(it))}catch(rt){if(rt instanceof le.ZR)W.warn(rt.message);else{const xt=Vn.create("idb-get",{originalErrorMessage:null===(Te=rt)||void 0===Te?void 0:Te.message});W.warn(xt.message)}}})).apply(this,arguments)}function Ft(it,Te){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(it,Te){var rt;try{const It=(yield wn()).transaction(xn,"readwrite");return yield It.objectStore(xn).put(Te,ii(it)),It.done}catch(xt){if(xt instanceof le.ZR)W.warn(xt.message);else{const It=Vn.create("idb-set",{originalErrorMessage:null===(rt=xt)||void 0===rt?void 0:rt.message});W.warn(It.message)}}})).apply(this,arguments)}function ii(it){return`${it.name}!${it.options.appId}`}class ji{constructor(Te){this.container=Te,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new en(rt),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Te=this;return(0,a.Z)(function*(){const xt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Gt();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==It&&!Te._heartbeatsCache.heartbeats.some(rn=>rn.date===It))return Te._heartbeatsCache.heartbeats.push({date:It,agent:xt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(rn=>{const Y=new Date(rn.date).valueOf();return Date.now()-Y<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,a.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const rt=Gt(),{heartbeatsToSend:xt,unsentEntries:It}=function ur(it,Te=1024){const rt=[];let xt=it.slice();for(const It of it){const rn=rt.find(Y=>Y.agent===It.agent);if(rn){if(rn.dates.push(It.date),hi(rt)>Te){rn.dates.pop();break}}else if(rt.push({agent:It.agent,dates:[It.date]}),hi(rt)>Te){rt.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:xt}}(Te._heartbeatsCache.heartbeats),rn=(0,le.L)(JSON.stringify({version:2,heartbeats:xt}));return Te._heartbeatsCache.lastSentHeartbeatDate=rt,It.length>0?(Te._heartbeatsCache.heartbeats=It,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),rn})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class en{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,a.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function vt(it){return bt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var rt=this;return(0,a.Z)(function*(){var xt;if(yield rt._canUseIndexedDBPromise){const rn=yield rt.read();return Ft(rt.app,{lastSentHeartbeatDate:null!==(xt=Te.lastSentHeartbeatDate)&&void 0!==xt?xt:rn.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var rt=this;return(0,a.Z)(function*(){var xt;if(yield rt._canUseIndexedDBPromise){const rn=yield rt.read();return Ft(rt.app,{lastSentHeartbeatDate:null!==(xt=Te.lastSentHeartbeatDate)&&void 0!==xt?xt:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...Te.heartbeats]})}})()}}function hi(it){return(0,le.L)(JSON.stringify({version:2,heartbeats:it})).length}!function On(it){Qt(new j.wA("platform-logger",Te=>new ye(Te),"PRIVATE")),Qt(new j.wA("heartbeat",Te=>new ji(Te),"PRIVATE")),ni(ge,"0.8.3",it),ni(ge,"0.8.3","esm2017"),ni("fire-js","")}("")},4859:(ht,Me,L)=>{L.d(Me,{H0:()=>ge,wA:()=>F});var a=L(5861),j=L(2090);class F{constructor(W,q,ee){this.name=W,this.instanceFactory=q,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const le="[DEFAULT]";class de{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const ee=new j.BH;if(this.instancesDeferred.set(q,ee),this.isInitialized(q)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:q});je&&ee.resolve(je)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const ee=this.normalizeInstanceIdentifier(W?.identifier),je=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Pe){if(je)return null;throw Pe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function re(be){return"EAGER"===be.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[q,ee]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(q);try{const Pe=this.getOrInitializeService({instanceIdentifier:je});ee.resolve(Pe)}catch{}}}}clearInstance(W=le){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,a.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...q.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=le){return this.instances.has(W)}getOptions(W=le){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:ee,options:q});for(const[Pe,Ae]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Pe)&&Ae.resolve(je);return je}onInit(W,q){var ee;const je=this.normalizeInstanceIdentifier(q),Pe=null!==(ee=this.onInitCallbacks.get(je))&&void 0!==ee?ee:new Set;Pe.add(W),this.onInitCallbacks.set(je,Pe);const Ae=this.instances.get(je);return Ae&&W(Ae,je),()=>{Pe.delete(W)}}invokeOnInitCallbacks(W,q){const ee=this.onInitCallbacks.get(q);if(ee)for(const je of ee)try{je(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(be=W,be===le?void 0:be),options:q}),this.instances.set(W,ee),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch{}var be;return ee||null}normalizeInstanceIdentifier(W=le){return this.component?this.component.multipleInstances?W:le:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new de(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Me,L)=>{L.d(Me,{Am:()=>be,Ub:()=>ge,Yd:()=>re,in:()=>j});const a=[];var j=(()=>{return(W=j||(j={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",j;var W})();const F={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,de={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ye=(W,q,...ee)=>{if(q<W.logLevel)return;const je=(new Date).toISOString(),Pe=de[q];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Pe](`[${je}]  ${W.name}:`,...ee)};class re{constructor(q){this.name=q,this._logLevel=le,this._logHandler=ye,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in j))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?F[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...q),this._logHandler(this,j.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...q),this._logHandler(this,j.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,j.INFO,...q),this._logHandler(this,j.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,j.WARN,...q),this._logHandler(this,j.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...q),this._logHandler(this,j.ERROR,...q)}}function ge(W){a.forEach(q=>{q.setLogLevel(W)})}function be(W,q){for(const ee of a){let je=null;q&&q.level&&(je=F[q.level]),ee.userLogHandler=null===W?null:(Pe,Ae,...ot)=>{const Ce=ot.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");Ae>=(je??Pe.logLevel)&&W({level:j[Ae].toLowerCase(),message:Ce,args:ot,type:Pe.name})}}}},8766:(ht,Me,L)=>{L.d(Me,{Lj:()=>Ne,X3:()=>Je});var a=L(5861);let F,le;const re=new WeakMap,ge=new WeakMap,be=new WeakMap,W=new WeakMap,q=new WeakMap;let Pe={get(he,we,X){if(he instanceof IDBTransaction){if("done"===we)return ge.get(he);if("objectStoreNames"===we)return he.objectStoreNames||be.get(he);if("store"===we)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return _e(he[we])},set:(he,we,X)=>(he[we]=X,!0),has:(he,we)=>he instanceof IDBTransaction&&("done"===we||"store"===we)||we in he};function Ce(he){return"function"==typeof he?function ot(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...we){return he.apply(tt(this),we),_e(re.get(this))}:function(...we){return _e(he.apply(tt(this),we))}:function(we,...X){const ne=he.call(tt(this),we,...X);return be.set(ne,we.sort?we.sort():[we]),_e(ne)}}(he):(he instanceof IDBTransaction&&function je(he){if(ge.has(he))return;const we=new Promise((X,ne)=>{const me=()=>{he.removeEventListener("complete",ce),he.removeEventListener("error",He),he.removeEventListener("abort",He)},ce=()=>{X(),me()},He=()=>{ne(he.error||new DOMException("AbortError","AbortError")),me()};he.addEventListener("complete",ce),he.addEventListener("error",He),he.addEventListener("abort",He)});ge.set(he,we)}(he),((he,we)=>we.some(X=>he instanceof X))(he,function de(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Pe):he)}function _e(he){if(he instanceof IDBRequest)return function ee(he){const we=new Promise((X,ne)=>{const me=()=>{he.removeEventListener("success",ce),he.removeEventListener("error",He)},ce=()=>{X(_e(he.result)),me()},He=()=>{ne(he.error),me()};he.addEventListener("success",ce),he.addEventListener("error",He)});return we.then(X=>{X instanceof IDBCursor&&re.set(X,he)}).catch(()=>{}),q.set(we,he),we}(he);if(W.has(he))return W.get(he);const we=Ce(he);return we!==he&&(W.set(he,we),q.set(we,he)),we}const tt=he=>q.get(he);function Je(he,we,{blocked:X,upgrade:ne,blocking:me,terminated:ce}={}){const He=indexedDB.open(he,we),Ge=_e(He);return ne&&He.addEventListener("upgradeneeded",yt=>{ne(_e(He.result),yt.oldVersion,yt.newVersion,_e(He.transaction))}),X&&He.addEventListener("blocked",()=>X()),Ge.then(yt=>{ce&&yt.addEventListener("close",()=>ce()),me&&yt.addEventListener("versionchange",()=>me())}).catch(()=>{}),Ge}function Ne(he,{blocked:we}={}){const X=indexedDB.deleteDatabase(he);return we&&X.addEventListener("blocked",()=>we()),_e(X).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],Ye=new Map;function ae(he,we){if(!(he instanceof IDBDatabase)||we in he||"string"!=typeof we)return;if(Ye.get(we))return Ye.get(we);const X=we.replace(/FromIndex$/,""),ne=we!==X,me=xe.includes(X);if(!(X in(ne?IDBIndex:IDBObjectStore).prototype)||!me&&!Oe.includes(X))return;const ce=function(){var He=(0,a.Z)(function*(Ge,...yt){const ln=this.transaction(Ge,me?"readwrite":"readonly");let qt=ln.store;return ne&&(qt=qt.index(yt.shift())),(yield Promise.all([qt[X](...yt),me&&ln.done]))[0]});return function(yt){return He.apply(this,arguments)}}();return Ye.set(we,ce),ce}!function Ae(he){Pe=he(Pe)}(he=>({...he,get:(we,X,ne)=>ae(we,X)||he.get(we,X,ne),has:(we,X)=>!!ae(we,X)||he.has(we,X)}))},5861:(ht,Me,L)=>{function a(F,le,de,ye,re,ge,be){try{var W=F[ge](be),q=W.value}catch(ee){return void de(ee)}W.done?le(q):Promise.resolve(q).then(ye,re)}function j(F){return function(){var le=this,de=arguments;return new Promise(function(ye,re){var ge=F.apply(le,de);function be(q){a(ge,ye,re,be,W,"next",q)}function W(q){a(ge,ye,re,be,W,"throw",q)}be(void 0)})}}L.d(Me,{Z:()=>j})}},ht=>{ht(ht.s=5009)}]);